function Rm(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Pm(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Dm={exports:{}},ql={},Am={exports:{}},J={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eo=Symbol.for("react.element"),lw=Symbol.for("react.portal"),aw=Symbol.for("react.fragment"),uw=Symbol.for("react.strict_mode"),cw=Symbol.for("react.profiler"),dw=Symbol.for("react.provider"),fw=Symbol.for("react.context"),hw=Symbol.for("react.forward_ref"),pw=Symbol.for("react.suspense"),mw=Symbol.for("react.memo"),gw=Symbol.for("react.lazy"),Kf=Symbol.iterator;function _w(t){return t===null||typeof t!="object"?null:(t=Kf&&t[Kf]||t["@@iterator"],typeof t=="function"?t:null)}var Mm={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Lm=Object.assign,bm={};function ki(t,e,n){this.props=t,this.context=e,this.refs=bm,this.updater=n||Mm}ki.prototype.isReactComponent={};ki.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ki.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Om(){}Om.prototype=ki.prototype;function Hc(t,e,n){this.props=t,this.context=e,this.refs=bm,this.updater=n||Mm}var $c=Hc.prototype=new Om;$c.constructor=Hc;Lm($c,ki.prototype);$c.isPureReactComponent=!0;var Gf=Array.isArray,Fm=Object.prototype.hasOwnProperty,Vc={current:null},jm={key:!0,ref:!0,__self:!0,__source:!0};function Um(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)Fm.call(e,r)&&!jm.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var a=Array(l),u=0;u<l;u++)a[u]=arguments[u+2];i.children=a}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:eo,type:t,key:s,ref:o,props:i,_owner:Vc.current}}function vw(t,e){return{$$typeof:eo,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Kc(t){return typeof t=="object"&&t!==null&&t.$$typeof===eo}function yw(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Qf=/\/+/g;function Da(t,e){return typeof t=="object"&&t!==null&&t.key!=null?yw(""+t.key):e.toString(36)}function Vo(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case eo:case lw:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Da(o,0):r,Gf(i)?(n="",t!=null&&(n=t.replace(Qf,"$&/")+"/"),Vo(i,e,n,"",function(u){return u})):i!=null&&(Kc(i)&&(i=vw(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Qf,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Gf(t))for(var l=0;l<t.length;l++){s=t[l];var a=r+Da(s,l);o+=Vo(s,e,n,a,i)}else if(a=_w(t),typeof a=="function")for(t=a.call(t),l=0;!(s=t.next()).done;)s=s.value,a=r+Da(s,l++),o+=Vo(s,e,n,a,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Co(t,e,n){if(t==null)return t;var r=[],i=0;return Vo(t,r,"","",function(s){return e.call(n,s,i++)}),r}function ww(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ot={current:null},Ko={transition:null},Ew={ReactCurrentDispatcher:ot,ReactCurrentBatchConfig:Ko,ReactCurrentOwner:Vc};function zm(){throw Error("act(...) is not supported in production builds of React.")}J.Children={map:Co,forEach:function(t,e,n){Co(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Co(t,function(){e++}),e},toArray:function(t){return Co(t,function(e){return e})||[]},only:function(t){if(!Kc(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};J.Component=ki;J.Fragment=aw;J.Profiler=cw;J.PureComponent=Hc;J.StrictMode=uw;J.Suspense=pw;J.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ew;J.act=zm;J.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Lm({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Vc.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(a in e)Fm.call(e,a)&&!jm.hasOwnProperty(a)&&(r[a]=e[a]===void 0&&l!==void 0?l[a]:e[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:eo,type:t.type,key:i,ref:s,props:r,_owner:o}};J.createContext=function(t){return t={$$typeof:fw,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:dw,_context:t},t.Consumer=t};J.createElement=Um;J.createFactory=function(t){var e=Um.bind(null,t);return e.type=t,e};J.createRef=function(){return{current:null}};J.forwardRef=function(t){return{$$typeof:hw,render:t}};J.isValidElement=Kc;J.lazy=function(t){return{$$typeof:gw,_payload:{_status:-1,_result:t},_init:ww}};J.memo=function(t,e){return{$$typeof:mw,type:t,compare:e===void 0?null:e}};J.startTransition=function(t){var e=Ko.transition;Ko.transition={};try{t()}finally{Ko.transition=e}};J.unstable_act=zm;J.useCallback=function(t,e){return ot.current.useCallback(t,e)};J.useContext=function(t){return ot.current.useContext(t)};J.useDebugValue=function(){};J.useDeferredValue=function(t){return ot.current.useDeferredValue(t)};J.useEffect=function(t,e){return ot.current.useEffect(t,e)};J.useId=function(){return ot.current.useId()};J.useImperativeHandle=function(t,e,n){return ot.current.useImperativeHandle(t,e,n)};J.useInsertionEffect=function(t,e){return ot.current.useInsertionEffect(t,e)};J.useLayoutEffect=function(t,e){return ot.current.useLayoutEffect(t,e)};J.useMemo=function(t,e){return ot.current.useMemo(t,e)};J.useReducer=function(t,e,n){return ot.current.useReducer(t,e,n)};J.useRef=function(t){return ot.current.useRef(t)};J.useState=function(t){return ot.current.useState(t)};J.useSyncExternalStore=function(t,e,n){return ot.current.useSyncExternalStore(t,e,n)};J.useTransition=function(){return ot.current.useTransition()};J.version="18.3.1";Am.exports=J;var S=Am.exports;const Bm=Pm(S),Sw=Rm({__proto__:null,default:Bm},[S]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cw=S,kw=Symbol.for("react.element"),Iw=Symbol.for("react.fragment"),Tw=Object.prototype.hasOwnProperty,Nw=Cw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,xw={key:!0,ref:!0,__self:!0,__source:!0};function Wm(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)Tw.call(e,r)&&!xw.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:kw,type:t,key:s,ref:o,props:i,_owner:Nw.current}}ql.Fragment=Iw;ql.jsx=Wm;ql.jsxs=Wm;Dm.exports=ql;var I=Dm.exports,Eu={},Hm={exports:{}},Ct={},$m={exports:{}},Vm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(A,$){var V=A.length;A.push($);e:for(;0<V;){var re=V-1>>>1,Q=A[re];if(0<i(Q,$))A[re]=$,A[V]=Q,V=re;else break e}}function n(A){return A.length===0?null:A[0]}function r(A){if(A.length===0)return null;var $=A[0],V=A.pop();if(V!==$){A[0]=V;e:for(var re=0,Q=A.length,$e=Q>>>1;re<$e;){var je=2*(re+1)-1,Re=A[je],tt=je+1,It=A[tt];if(0>i(Re,V))tt<Q&&0>i(It,Re)?(A[re]=It,A[tt]=V,re=tt):(A[re]=Re,A[je]=V,re=je);else if(tt<Q&&0>i(It,V))A[re]=It,A[tt]=V,re=tt;else break e}}return $}function i(A,$){var V=A.sortIndex-$.sortIndex;return V!==0?V:A.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var a=[],u=[],d=1,c=null,f=3,p=!1,v=!1,w=!1,T=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,h=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(A){for(var $=n(u);$!==null;){if($.callback===null)r(u);else if($.startTime<=A)r(u),$.sortIndex=$.expirationTime,e(a,$);else break;$=n(u)}}function k(A){if(w=!1,_(A),!v)if(n(a)!==null)v=!0,Gt(R);else{var $=n(u);$!==null&&Qt(k,$.startTime-A)}}function R(A,$){v=!1,w&&(w=!1,m(N),N=-1),p=!0;var V=f;try{for(_($),c=n(a);c!==null&&(!(c.expirationTime>$)||A&&!oe());){var re=c.callback;if(typeof re=="function"){c.callback=null,f=c.priorityLevel;var Q=re(c.expirationTime<=$);$=t.unstable_now(),typeof Q=="function"?c.callback=Q:c===n(a)&&r(a),_($)}else r(a);c=n(a)}if(c!==null)var $e=!0;else{var je=n(u);je!==null&&Qt(k,je.startTime-$),$e=!1}return $e}finally{c=null,f=V,p=!1}}var b=!1,y=null,N=-1,B=5,M=-1;function oe(){return!(t.unstable_now()-M<B)}function ue(){if(y!==null){var A=t.unstable_now();M=A;var $=!0;try{$=y(!0,A)}finally{$?xe():(b=!1,y=null)}}else b=!1}var xe;if(typeof h=="function")xe=function(){h(ue)};else if(typeof MessageChannel<"u"){var Le=new MessageChannel,_t=Le.port2;Le.port1.onmessage=ue,xe=function(){_t.postMessage(null)}}else xe=function(){T(ue,0)};function Gt(A){y=A,b||(b=!0,xe())}function Qt(A,$){N=T(function(){A(t.unstable_now())},$)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(A){A.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,Gt(R))},t.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<A?Math.floor(1e3/A):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(a)},t.unstable_next=function(A){switch(f){case 1:case 2:case 3:var $=3;break;default:$=f}var V=f;f=$;try{return A()}finally{f=V}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(A,$){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var V=f;f=A;try{return $()}finally{f=V}},t.unstable_scheduleCallback=function(A,$,V){var re=t.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?re+V:re):V=re,A){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=V+Q,A={id:d++,callback:$,priorityLevel:A,startTime:V,expirationTime:Q,sortIndex:-1},V>re?(A.sortIndex=V,e(u,A),n(a)===null&&A===n(u)&&(w?(m(N),N=-1):w=!0,Qt(k,V-re))):(A.sortIndex=Q,e(a,A),v||p||(v=!0,Gt(R))),A},t.unstable_shouldYield=oe,t.unstable_wrapCallback=function(A){var $=f;return function(){var V=f;f=$;try{return A.apply(this,arguments)}finally{f=V}}}})(Vm);$m.exports=Vm;var Rw=$m.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pw=S,St=Rw;function P(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Km=new Set,Ss={};function Nr(t,e){di(t,e),di(t+"Capture",e)}function di(t,e){for(Ss[t]=e,t=0;t<e.length;t++)Km.add(e[t])}var pn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Su=Object.prototype.hasOwnProperty,Dw=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Yf={},qf={};function Aw(t){return Su.call(qf,t)?!0:Su.call(Yf,t)?!1:Dw.test(t)?qf[t]=!0:(Yf[t]=!0,!1)}function Mw(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Lw(t,e,n,r){if(e===null||typeof e>"u"||Mw(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function lt(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Ye={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ye[t]=new lt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ye[e]=new lt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ye[t]=new lt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ye[t]=new lt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ye[t]=new lt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ye[t]=new lt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ye[t]=new lt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ye[t]=new lt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ye[t]=new lt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Gc=/[\-:]([a-z])/g;function Qc(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Gc,Qc);Ye[e]=new lt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Gc,Qc);Ye[e]=new lt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Gc,Qc);Ye[e]=new lt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ye[t]=new lt(t,1,!1,t.toLowerCase(),null,!1,!1)});Ye.xlinkHref=new lt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ye[t]=new lt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Yc(t,e,n,r){var i=Ye.hasOwnProperty(e)?Ye[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Lw(e,n,i,r)&&(n=null),r||i===null?Aw(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var wn=Pw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ko=Symbol.for("react.element"),Br=Symbol.for("react.portal"),Wr=Symbol.for("react.fragment"),qc=Symbol.for("react.strict_mode"),Cu=Symbol.for("react.profiler"),Gm=Symbol.for("react.provider"),Qm=Symbol.for("react.context"),Xc=Symbol.for("react.forward_ref"),ku=Symbol.for("react.suspense"),Iu=Symbol.for("react.suspense_list"),Jc=Symbol.for("react.memo"),Tn=Symbol.for("react.lazy"),Ym=Symbol.for("react.offscreen"),Xf=Symbol.iterator;function Fi(t){return t===null||typeof t!="object"?null:(t=Xf&&t[Xf]||t["@@iterator"],typeof t=="function"?t:null)}var Ce=Object.assign,Aa;function es(t){if(Aa===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Aa=e&&e[1]||""}return`
`+Aa+t}var Ma=!1;function La(t,e){if(!t||Ma)return"";Ma=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l]){var a=`
`+i[o].replace(" at new "," at ");return t.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",t.displayName)),a}while(1<=o&&0<=l);break}}}finally{Ma=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?es(t):""}function bw(t){switch(t.tag){case 5:return es(t.type);case 16:return es("Lazy");case 13:return es("Suspense");case 19:return es("SuspenseList");case 0:case 2:case 15:return t=La(t.type,!1),t;case 11:return t=La(t.type.render,!1),t;case 1:return t=La(t.type,!0),t;default:return""}}function Tu(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Wr:return"Fragment";case Br:return"Portal";case Cu:return"Profiler";case qc:return"StrictMode";case ku:return"Suspense";case Iu:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Qm:return(t.displayName||"Context")+".Consumer";case Gm:return(t._context.displayName||"Context")+".Provider";case Xc:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Jc:return e=t.displayName||null,e!==null?e:Tu(t.type)||"Memo";case Tn:e=t._payload,t=t._init;try{return Tu(t(e))}catch{}}return null}function Ow(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Tu(e);case 8:return e===qc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Vn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function qm(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Fw(t){var e=qm(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Io(t){t._valueTracker||(t._valueTracker=Fw(t))}function Xm(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=qm(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function ol(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Nu(t,e){var n=e.checked;return Ce({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Jf(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Vn(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Jm(t,e){e=e.checked,e!=null&&Yc(t,"checked",e,!1)}function xu(t,e){Jm(t,e);var n=Vn(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Ru(t,e.type,n):e.hasOwnProperty("defaultValue")&&Ru(t,e.type,Vn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Zf(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Ru(t,e,n){(e!=="number"||ol(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ts=Array.isArray;function ei(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Vn(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Pu(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(P(91));return Ce({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function eh(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(P(92));if(ts(n)){if(1<n.length)throw Error(P(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Vn(n)}}function Zm(t,e){var n=Vn(e.value),r=Vn(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function th(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function eg(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Du(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?eg(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var To,tg=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(To=To||document.createElement("div"),To.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=To.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Cs(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var os={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},jw=["Webkit","ms","Moz","O"];Object.keys(os).forEach(function(t){jw.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),os[e]=os[t]})});function ng(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||os.hasOwnProperty(t)&&os[t]?(""+e).trim():e+"px"}function rg(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=ng(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var Uw=Ce({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Au(t,e){if(e){if(Uw[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(P(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(P(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(P(61))}if(e.style!=null&&typeof e.style!="object")throw Error(P(62))}}function Mu(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Lu=null;function Zc(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var bu=null,ti=null,ni=null;function nh(t){if(t=ro(t)){if(typeof bu!="function")throw Error(P(280));var e=t.stateNode;e&&(e=ta(e),bu(t.stateNode,t.type,e))}}function ig(t){ti?ni?ni.push(t):ni=[t]:ti=t}function sg(){if(ti){var t=ti,e=ni;if(ni=ti=null,nh(t),e)for(t=0;t<e.length;t++)nh(e[t])}}function og(t,e){return t(e)}function lg(){}var ba=!1;function ag(t,e,n){if(ba)return t(e,n);ba=!0;try{return og(t,e,n)}finally{ba=!1,(ti!==null||ni!==null)&&(lg(),sg())}}function ks(t,e){var n=t.stateNode;if(n===null)return null;var r=ta(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(P(231,e,typeof n));return n}var Ou=!1;if(pn)try{var ji={};Object.defineProperty(ji,"passive",{get:function(){Ou=!0}}),window.addEventListener("test",ji,ji),window.removeEventListener("test",ji,ji)}catch{Ou=!1}function zw(t,e,n,r,i,s,o,l,a){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var ls=!1,ll=null,al=!1,Fu=null,Bw={onError:function(t){ls=!0,ll=t}};function Ww(t,e,n,r,i,s,o,l,a){ls=!1,ll=null,zw.apply(Bw,arguments)}function Hw(t,e,n,r,i,s,o,l,a){if(Ww.apply(this,arguments),ls){if(ls){var u=ll;ls=!1,ll=null}else throw Error(P(198));al||(al=!0,Fu=u)}}function xr(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function ug(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function rh(t){if(xr(t)!==t)throw Error(P(188))}function $w(t){var e=t.alternate;if(!e){if(e=xr(t),e===null)throw Error(P(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return rh(i),t;if(s===r)return rh(i),e;s=s.sibling}throw Error(P(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error(P(189))}}if(n.alternate!==r)throw Error(P(190))}if(n.tag!==3)throw Error(P(188));return n.stateNode.current===n?t:e}function cg(t){return t=$w(t),t!==null?dg(t):null}function dg(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=dg(t);if(e!==null)return e;t=t.sibling}return null}var fg=St.unstable_scheduleCallback,ih=St.unstable_cancelCallback,Vw=St.unstable_shouldYield,Kw=St.unstable_requestPaint,Pe=St.unstable_now,Gw=St.unstable_getCurrentPriorityLevel,ed=St.unstable_ImmediatePriority,hg=St.unstable_UserBlockingPriority,ul=St.unstable_NormalPriority,Qw=St.unstable_LowPriority,pg=St.unstable_IdlePriority,Xl=null,en=null;function Yw(t){if(en&&typeof en.onCommitFiberRoot=="function")try{en.onCommitFiberRoot(Xl,t,void 0,(t.current.flags&128)===128)}catch{}}var Wt=Math.clz32?Math.clz32:Jw,qw=Math.log,Xw=Math.LN2;function Jw(t){return t>>>=0,t===0?32:31-(qw(t)/Xw|0)|0}var No=64,xo=4194304;function ns(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function cl(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?r=ns(l):(s&=o,s!==0&&(r=ns(s)))}else o=n&~i,o!==0?r=ns(o):s!==0&&(r=ns(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Wt(e),i=1<<n,r|=t[n],e&=~i;return r}function Zw(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function e0(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Wt(s),l=1<<o,a=i[o];a===-1?(!(l&n)||l&r)&&(i[o]=Zw(l,e)):a<=e&&(t.expiredLanes|=l),s&=~l}}function ju(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function mg(){var t=No;return No<<=1,!(No&4194240)&&(No=64),t}function Oa(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function to(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Wt(e),t[e]=n}function t0(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Wt(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function td(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Wt(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var ae=0;function gg(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var _g,nd,vg,yg,wg,Uu=!1,Ro=[],Ln=null,bn=null,On=null,Is=new Map,Ts=new Map,xn=[],n0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function sh(t,e){switch(t){case"focusin":case"focusout":Ln=null;break;case"dragenter":case"dragleave":bn=null;break;case"mouseover":case"mouseout":On=null;break;case"pointerover":case"pointerout":Is.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ts.delete(e.pointerId)}}function Ui(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=ro(e),e!==null&&nd(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function r0(t,e,n,r,i){switch(e){case"focusin":return Ln=Ui(Ln,t,e,n,r,i),!0;case"dragenter":return bn=Ui(bn,t,e,n,r,i),!0;case"mouseover":return On=Ui(On,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Is.set(s,Ui(Is.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Ts.set(s,Ui(Ts.get(s)||null,t,e,n,r,i)),!0}return!1}function Eg(t){var e=ur(t.target);if(e!==null){var n=xr(e);if(n!==null){if(e=n.tag,e===13){if(e=ug(n),e!==null){t.blockedOn=e,wg(t.priority,function(){vg(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Go(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=zu(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Lu=r,n.target.dispatchEvent(r),Lu=null}else return e=ro(n),e!==null&&nd(e),t.blockedOn=n,!1;e.shift()}return!0}function oh(t,e,n){Go(t)&&n.delete(e)}function i0(){Uu=!1,Ln!==null&&Go(Ln)&&(Ln=null),bn!==null&&Go(bn)&&(bn=null),On!==null&&Go(On)&&(On=null),Is.forEach(oh),Ts.forEach(oh)}function zi(t,e){t.blockedOn===e&&(t.blockedOn=null,Uu||(Uu=!0,St.unstable_scheduleCallback(St.unstable_NormalPriority,i0)))}function Ns(t){function e(i){return zi(i,t)}if(0<Ro.length){zi(Ro[0],t);for(var n=1;n<Ro.length;n++){var r=Ro[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ln!==null&&zi(Ln,t),bn!==null&&zi(bn,t),On!==null&&zi(On,t),Is.forEach(e),Ts.forEach(e),n=0;n<xn.length;n++)r=xn[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<xn.length&&(n=xn[0],n.blockedOn===null);)Eg(n),n.blockedOn===null&&xn.shift()}var ri=wn.ReactCurrentBatchConfig,dl=!0;function s0(t,e,n,r){var i=ae,s=ri.transition;ri.transition=null;try{ae=1,rd(t,e,n,r)}finally{ae=i,ri.transition=s}}function o0(t,e,n,r){var i=ae,s=ri.transition;ri.transition=null;try{ae=4,rd(t,e,n,r)}finally{ae=i,ri.transition=s}}function rd(t,e,n,r){if(dl){var i=zu(t,e,n,r);if(i===null)Ka(t,e,r,fl,n),sh(t,r);else if(r0(i,t,e,n,r))r.stopPropagation();else if(sh(t,r),e&4&&-1<n0.indexOf(t)){for(;i!==null;){var s=ro(i);if(s!==null&&_g(s),s=zu(t,e,n,r),s===null&&Ka(t,e,r,fl,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Ka(t,e,r,null,n)}}var fl=null;function zu(t,e,n,r){if(fl=null,t=Zc(r),t=ur(t),t!==null)if(e=xr(t),e===null)t=null;else if(n=e.tag,n===13){if(t=ug(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return fl=t,null}function Sg(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Gw()){case ed:return 1;case hg:return 4;case ul:case Qw:return 16;case pg:return 536870912;default:return 16}default:return 16}}var Pn=null,id=null,Qo=null;function Cg(){if(Qo)return Qo;var t,e=id,n=e.length,r,i="value"in Pn?Pn.value:Pn.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Qo=i.slice(t,1<r?1-r:void 0)}function Yo(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Po(){return!0}function lh(){return!1}function kt(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Po:lh,this.isPropagationStopped=lh,this}return Ce(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Po)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Po)},persist:function(){},isPersistent:Po}),e}var Ii={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sd=kt(Ii),no=Ce({},Ii,{view:0,detail:0}),l0=kt(no),Fa,ja,Bi,Jl=Ce({},no,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:od,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Bi&&(Bi&&t.type==="mousemove"?(Fa=t.screenX-Bi.screenX,ja=t.screenY-Bi.screenY):ja=Fa=0,Bi=t),Fa)},movementY:function(t){return"movementY"in t?t.movementY:ja}}),ah=kt(Jl),a0=Ce({},Jl,{dataTransfer:0}),u0=kt(a0),c0=Ce({},no,{relatedTarget:0}),Ua=kt(c0),d0=Ce({},Ii,{animationName:0,elapsedTime:0,pseudoElement:0}),f0=kt(d0),h0=Ce({},Ii,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),p0=kt(h0),m0=Ce({},Ii,{data:0}),uh=kt(m0),g0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},v0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function y0(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=v0[t])?!!e[t]:!1}function od(){return y0}var w0=Ce({},no,{key:function(t){if(t.key){var e=g0[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Yo(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?_0[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:od,charCode:function(t){return t.type==="keypress"?Yo(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Yo(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),E0=kt(w0),S0=Ce({},Jl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ch=kt(S0),C0=Ce({},no,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:od}),k0=kt(C0),I0=Ce({},Ii,{propertyName:0,elapsedTime:0,pseudoElement:0}),T0=kt(I0),N0=Ce({},Jl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),x0=kt(N0),R0=[9,13,27,32],ld=pn&&"CompositionEvent"in window,as=null;pn&&"documentMode"in document&&(as=document.documentMode);var P0=pn&&"TextEvent"in window&&!as,kg=pn&&(!ld||as&&8<as&&11>=as),dh=" ",fh=!1;function Ig(t,e){switch(t){case"keyup":return R0.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Tg(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Hr=!1;function D0(t,e){switch(t){case"compositionend":return Tg(e);case"keypress":return e.which!==32?null:(fh=!0,dh);case"textInput":return t=e.data,t===dh&&fh?null:t;default:return null}}function A0(t,e){if(Hr)return t==="compositionend"||!ld&&Ig(t,e)?(t=Cg(),Qo=id=Pn=null,Hr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return kg&&e.locale!=="ko"?null:e.data;default:return null}}var M0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hh(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!M0[t.type]:e==="textarea"}function Ng(t,e,n,r){ig(r),e=hl(e,"onChange"),0<e.length&&(n=new sd("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var us=null,xs=null;function L0(t){jg(t,0)}function Zl(t){var e=Kr(t);if(Xm(e))return t}function b0(t,e){if(t==="change")return e}var xg=!1;if(pn){var za;if(pn){var Ba="oninput"in document;if(!Ba){var ph=document.createElement("div");ph.setAttribute("oninput","return;"),Ba=typeof ph.oninput=="function"}za=Ba}else za=!1;xg=za&&(!document.documentMode||9<document.documentMode)}function mh(){us&&(us.detachEvent("onpropertychange",Rg),xs=us=null)}function Rg(t){if(t.propertyName==="value"&&Zl(xs)){var e=[];Ng(e,xs,t,Zc(t)),ag(L0,e)}}function O0(t,e,n){t==="focusin"?(mh(),us=e,xs=n,us.attachEvent("onpropertychange",Rg)):t==="focusout"&&mh()}function F0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Zl(xs)}function j0(t,e){if(t==="click")return Zl(e)}function U0(t,e){if(t==="input"||t==="change")return Zl(e)}function z0(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Vt=typeof Object.is=="function"?Object.is:z0;function Rs(t,e){if(Vt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Su.call(e,i)||!Vt(t[i],e[i]))return!1}return!0}function gh(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function _h(t,e){var n=gh(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=gh(n)}}function Pg(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Pg(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Dg(){for(var t=window,e=ol();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=ol(t.document)}return e}function ad(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function B0(t){var e=Dg(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Pg(n.ownerDocument.documentElement,n)){if(r!==null&&ad(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=_h(n,s);var o=_h(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var W0=pn&&"documentMode"in document&&11>=document.documentMode,$r=null,Bu=null,cs=null,Wu=!1;function vh(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Wu||$r==null||$r!==ol(r)||(r=$r,"selectionStart"in r&&ad(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),cs&&Rs(cs,r)||(cs=r,r=hl(Bu,"onSelect"),0<r.length&&(e=new sd("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=$r)))}function Do(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Vr={animationend:Do("Animation","AnimationEnd"),animationiteration:Do("Animation","AnimationIteration"),animationstart:Do("Animation","AnimationStart"),transitionend:Do("Transition","TransitionEnd")},Wa={},Ag={};pn&&(Ag=document.createElement("div").style,"AnimationEvent"in window||(delete Vr.animationend.animation,delete Vr.animationiteration.animation,delete Vr.animationstart.animation),"TransitionEvent"in window||delete Vr.transitionend.transition);function ea(t){if(Wa[t])return Wa[t];if(!Vr[t])return t;var e=Vr[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Ag)return Wa[t]=e[n];return t}var Mg=ea("animationend"),Lg=ea("animationiteration"),bg=ea("animationstart"),Og=ea("transitionend"),Fg=new Map,yh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Yn(t,e){Fg.set(t,e),Nr(e,[t])}for(var Ha=0;Ha<yh.length;Ha++){var $a=yh[Ha],H0=$a.toLowerCase(),$0=$a[0].toUpperCase()+$a.slice(1);Yn(H0,"on"+$0)}Yn(Mg,"onAnimationEnd");Yn(Lg,"onAnimationIteration");Yn(bg,"onAnimationStart");Yn("dblclick","onDoubleClick");Yn("focusin","onFocus");Yn("focusout","onBlur");Yn(Og,"onTransitionEnd");di("onMouseEnter",["mouseout","mouseover"]);di("onMouseLeave",["mouseout","mouseover"]);di("onPointerEnter",["pointerout","pointerover"]);di("onPointerLeave",["pointerout","pointerover"]);Nr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Nr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Nr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Nr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Nr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Nr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),V0=new Set("cancel close invalid load scroll toggle".split(" ").concat(rs));function wh(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Hw(r,e,void 0,t),t.currentTarget=null}function jg(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],a=l.instance,u=l.currentTarget;if(l=l.listener,a!==s&&i.isPropagationStopped())break e;wh(i,l,u),s=a}else for(o=0;o<r.length;o++){if(l=r[o],a=l.instance,u=l.currentTarget,l=l.listener,a!==s&&i.isPropagationStopped())break e;wh(i,l,u),s=a}}}if(al)throw t=Fu,al=!1,Fu=null,t}function ge(t,e){var n=e[Gu];n===void 0&&(n=e[Gu]=new Set);var r=t+"__bubble";n.has(r)||(Ug(e,t,2,!1),n.add(r))}function Va(t,e,n){var r=0;e&&(r|=4),Ug(n,t,r,e)}var Ao="_reactListening"+Math.random().toString(36).slice(2);function Ps(t){if(!t[Ao]){t[Ao]=!0,Km.forEach(function(n){n!=="selectionchange"&&(V0.has(n)||Va(n,!1,t),Va(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ao]||(e[Ao]=!0,Va("selectionchange",!1,e))}}function Ug(t,e,n,r){switch(Sg(e)){case 1:var i=s0;break;case 4:i=o0;break;default:i=rd}n=i.bind(null,e,n,t),i=void 0,!Ou||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Ka(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===i||a.nodeType===8&&a.parentNode===i))return;o=o.return}for(;l!==null;){if(o=ur(l),o===null)return;if(a=o.tag,a===5||a===6){r=s=o;continue e}l=l.parentNode}}r=r.return}ag(function(){var u=s,d=Zc(n),c=[];e:{var f=Fg.get(t);if(f!==void 0){var p=sd,v=t;switch(t){case"keypress":if(Yo(n)===0)break e;case"keydown":case"keyup":p=E0;break;case"focusin":v="focus",p=Ua;break;case"focusout":v="blur",p=Ua;break;case"beforeblur":case"afterblur":p=Ua;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=ah;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=u0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=k0;break;case Mg:case Lg:case bg:p=f0;break;case Og:p=T0;break;case"scroll":p=l0;break;case"wheel":p=x0;break;case"copy":case"cut":case"paste":p=p0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=ch}var w=(e&4)!==0,T=!w&&t==="scroll",m=w?f!==null?f+"Capture":null:f;w=[];for(var h=u,_;h!==null;){_=h;var k=_.stateNode;if(_.tag===5&&k!==null&&(_=k,m!==null&&(k=ks(h,m),k!=null&&w.push(Ds(h,k,_)))),T)break;h=h.return}0<w.length&&(f=new p(f,v,null,n,d),c.push({event:f,listeners:w}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&n!==Lu&&(v=n.relatedTarget||n.fromElement)&&(ur(v)||v[mn]))break e;if((p||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,p?(v=n.relatedTarget||n.toElement,p=u,v=v?ur(v):null,v!==null&&(T=xr(v),v!==T||v.tag!==5&&v.tag!==6)&&(v=null)):(p=null,v=u),p!==v)){if(w=ah,k="onMouseLeave",m="onMouseEnter",h="mouse",(t==="pointerout"||t==="pointerover")&&(w=ch,k="onPointerLeave",m="onPointerEnter",h="pointer"),T=p==null?f:Kr(p),_=v==null?f:Kr(v),f=new w(k,h+"leave",p,n,d),f.target=T,f.relatedTarget=_,k=null,ur(d)===u&&(w=new w(m,h+"enter",v,n,d),w.target=_,w.relatedTarget=T,k=w),T=k,p&&v)t:{for(w=p,m=v,h=0,_=w;_;_=jr(_))h++;for(_=0,k=m;k;k=jr(k))_++;for(;0<h-_;)w=jr(w),h--;for(;0<_-h;)m=jr(m),_--;for(;h--;){if(w===m||m!==null&&w===m.alternate)break t;w=jr(w),m=jr(m)}w=null}else w=null;p!==null&&Eh(c,f,p,w,!1),v!==null&&T!==null&&Eh(c,T,v,w,!0)}}e:{if(f=u?Kr(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var R=b0;else if(hh(f))if(xg)R=U0;else{R=F0;var b=O0}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(R=j0);if(R&&(R=R(t,u))){Ng(c,R,n,d);break e}b&&b(t,f,u),t==="focusout"&&(b=f._wrapperState)&&b.controlled&&f.type==="number"&&Ru(f,"number",f.value)}switch(b=u?Kr(u):window,t){case"focusin":(hh(b)||b.contentEditable==="true")&&($r=b,Bu=u,cs=null);break;case"focusout":cs=Bu=$r=null;break;case"mousedown":Wu=!0;break;case"contextmenu":case"mouseup":case"dragend":Wu=!1,vh(c,n,d);break;case"selectionchange":if(W0)break;case"keydown":case"keyup":vh(c,n,d)}var y;if(ld)e:{switch(t){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else Hr?Ig(t,n)&&(N="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(kg&&n.locale!=="ko"&&(Hr||N!=="onCompositionStart"?N==="onCompositionEnd"&&Hr&&(y=Cg()):(Pn=d,id="value"in Pn?Pn.value:Pn.textContent,Hr=!0)),b=hl(u,N),0<b.length&&(N=new uh(N,t,null,n,d),c.push({event:N,listeners:b}),y?N.data=y:(y=Tg(n),y!==null&&(N.data=y)))),(y=P0?D0(t,n):A0(t,n))&&(u=hl(u,"onBeforeInput"),0<u.length&&(d=new uh("onBeforeInput","beforeinput",null,n,d),c.push({event:d,listeners:u}),d.data=y))}jg(c,e)})}function Ds(t,e,n){return{instance:t,listener:e,currentTarget:n}}function hl(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=ks(t,n),s!=null&&r.unshift(Ds(t,s,i)),s=ks(t,e),s!=null&&r.push(Ds(t,s,i))),t=t.return}return r}function jr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Eh(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var l=n,a=l.alternate,u=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&u!==null&&(l=u,i?(a=ks(n,s),a!=null&&o.unshift(Ds(n,a,l))):i||(a=ks(n,s),a!=null&&o.push(Ds(n,a,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var K0=/\r\n?/g,G0=/\u0000|\uFFFD/g;function Sh(t){return(typeof t=="string"?t:""+t).replace(K0,`
`).replace(G0,"")}function Mo(t,e,n){if(e=Sh(e),Sh(t)!==e&&n)throw Error(P(425))}function pl(){}var Hu=null,$u=null;function Vu(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ku=typeof setTimeout=="function"?setTimeout:void 0,Q0=typeof clearTimeout=="function"?clearTimeout:void 0,Ch=typeof Promise=="function"?Promise:void 0,Y0=typeof queueMicrotask=="function"?queueMicrotask:typeof Ch<"u"?function(t){return Ch.resolve(null).then(t).catch(q0)}:Ku;function q0(t){setTimeout(function(){throw t})}function Ga(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Ns(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Ns(e)}function Fn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function kh(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ti=Math.random().toString(36).slice(2),Zt="__reactFiber$"+Ti,As="__reactProps$"+Ti,mn="__reactContainer$"+Ti,Gu="__reactEvents$"+Ti,X0="__reactListeners$"+Ti,J0="__reactHandles$"+Ti;function ur(t){var e=t[Zt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[mn]||n[Zt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=kh(t);t!==null;){if(n=t[Zt])return n;t=kh(t)}return e}t=n,n=t.parentNode}return null}function ro(t){return t=t[Zt]||t[mn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Kr(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(P(33))}function ta(t){return t[As]||null}var Qu=[],Gr=-1;function qn(t){return{current:t}}function _e(t){0>Gr||(t.current=Qu[Gr],Qu[Gr]=null,Gr--)}function me(t,e){Gr++,Qu[Gr]=t.current,t.current=e}var Kn={},et=qn(Kn),ht=qn(!1),gr=Kn;function fi(t,e){var n=t.type.contextTypes;if(!n)return Kn;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function pt(t){return t=t.childContextTypes,t!=null}function ml(){_e(ht),_e(et)}function Ih(t,e,n){if(et.current!==Kn)throw Error(P(168));me(et,e),me(ht,n)}function zg(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(P(108,Ow(t)||"Unknown",i));return Ce({},n,r)}function gl(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Kn,gr=et.current,me(et,t),me(ht,ht.current),!0}function Th(t,e,n){var r=t.stateNode;if(!r)throw Error(P(169));n?(t=zg(t,e,gr),r.__reactInternalMemoizedMergedChildContext=t,_e(ht),_e(et),me(et,t)):_e(ht),me(ht,n)}var ln=null,na=!1,Qa=!1;function Bg(t){ln===null?ln=[t]:ln.push(t)}function Z0(t){na=!0,Bg(t)}function Xn(){if(!Qa&&ln!==null){Qa=!0;var t=0,e=ae;try{var n=ln;for(ae=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ln=null,na=!1}catch(i){throw ln!==null&&(ln=ln.slice(t+1)),fg(ed,Xn),i}finally{ae=e,Qa=!1}}return null}var Qr=[],Yr=0,_l=null,vl=0,Tt=[],Nt=0,_r=null,an=1,un="";function rr(t,e){Qr[Yr++]=vl,Qr[Yr++]=_l,_l=t,vl=e}function Wg(t,e,n){Tt[Nt++]=an,Tt[Nt++]=un,Tt[Nt++]=_r,_r=t;var r=an;t=un;var i=32-Wt(r)-1;r&=~(1<<i),n+=1;var s=32-Wt(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,an=1<<32-Wt(e)+i|n<<i|r,un=s+t}else an=1<<s|n<<i|r,un=t}function ud(t){t.return!==null&&(rr(t,1),Wg(t,1,0))}function cd(t){for(;t===_l;)_l=Qr[--Yr],Qr[Yr]=null,vl=Qr[--Yr],Qr[Yr]=null;for(;t===_r;)_r=Tt[--Nt],Tt[Nt]=null,un=Tt[--Nt],Tt[Nt]=null,an=Tt[--Nt],Tt[Nt]=null}var Et=null,wt=null,ye=!1,jt=null;function Hg(t,e){var n=xt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Nh(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Et=t,wt=Fn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Et=t,wt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=_r!==null?{id:an,overflow:un}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=xt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Et=t,wt=null,!0):!1;default:return!1}}function Yu(t){return(t.mode&1)!==0&&(t.flags&128)===0}function qu(t){if(ye){var e=wt;if(e){var n=e;if(!Nh(t,e)){if(Yu(t))throw Error(P(418));e=Fn(n.nextSibling);var r=Et;e&&Nh(t,e)?Hg(r,n):(t.flags=t.flags&-4097|2,ye=!1,Et=t)}}else{if(Yu(t))throw Error(P(418));t.flags=t.flags&-4097|2,ye=!1,Et=t}}}function xh(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Et=t}function Lo(t){if(t!==Et)return!1;if(!ye)return xh(t),ye=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Vu(t.type,t.memoizedProps)),e&&(e=wt)){if(Yu(t))throw $g(),Error(P(418));for(;e;)Hg(t,e),e=Fn(e.nextSibling)}if(xh(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(P(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){wt=Fn(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}wt=null}}else wt=Et?Fn(t.stateNode.nextSibling):null;return!0}function $g(){for(var t=wt;t;)t=Fn(t.nextSibling)}function hi(){wt=Et=null,ye=!1}function dd(t){jt===null?jt=[t]:jt.push(t)}var eE=wn.ReactCurrentBatchConfig;function Wi(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(P(309));var r=n.stateNode}if(!r)throw Error(P(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var l=i.refs;o===null?delete l[s]:l[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(P(284));if(!n._owner)throw Error(P(290,t))}return t}function bo(t,e){throw t=Object.prototype.toString.call(e),Error(P(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Rh(t){var e=t._init;return e(t._payload)}function Vg(t){function e(m,h){if(t){var _=m.deletions;_===null?(m.deletions=[h],m.flags|=16):_.push(h)}}function n(m,h){if(!t)return null;for(;h!==null;)e(m,h),h=h.sibling;return null}function r(m,h){for(m=new Map;h!==null;)h.key!==null?m.set(h.key,h):m.set(h.index,h),h=h.sibling;return m}function i(m,h){return m=Bn(m,h),m.index=0,m.sibling=null,m}function s(m,h,_){return m.index=_,t?(_=m.alternate,_!==null?(_=_.index,_<h?(m.flags|=2,h):_):(m.flags|=2,h)):(m.flags|=1048576,h)}function o(m){return t&&m.alternate===null&&(m.flags|=2),m}function l(m,h,_,k){return h===null||h.tag!==6?(h=tu(_,m.mode,k),h.return=m,h):(h=i(h,_),h.return=m,h)}function a(m,h,_,k){var R=_.type;return R===Wr?d(m,h,_.props.children,k,_.key):h!==null&&(h.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===Tn&&Rh(R)===h.type)?(k=i(h,_.props),k.ref=Wi(m,h,_),k.return=m,k):(k=nl(_.type,_.key,_.props,null,m.mode,k),k.ref=Wi(m,h,_),k.return=m,k)}function u(m,h,_,k){return h===null||h.tag!==4||h.stateNode.containerInfo!==_.containerInfo||h.stateNode.implementation!==_.implementation?(h=nu(_,m.mode,k),h.return=m,h):(h=i(h,_.children||[]),h.return=m,h)}function d(m,h,_,k,R){return h===null||h.tag!==7?(h=mr(_,m.mode,k,R),h.return=m,h):(h=i(h,_),h.return=m,h)}function c(m,h,_){if(typeof h=="string"&&h!==""||typeof h=="number")return h=tu(""+h,m.mode,_),h.return=m,h;if(typeof h=="object"&&h!==null){switch(h.$$typeof){case ko:return _=nl(h.type,h.key,h.props,null,m.mode,_),_.ref=Wi(m,null,h),_.return=m,_;case Br:return h=nu(h,m.mode,_),h.return=m,h;case Tn:var k=h._init;return c(m,k(h._payload),_)}if(ts(h)||Fi(h))return h=mr(h,m.mode,_,null),h.return=m,h;bo(m,h)}return null}function f(m,h,_,k){var R=h!==null?h.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return R!==null?null:l(m,h,""+_,k);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case ko:return _.key===R?a(m,h,_,k):null;case Br:return _.key===R?u(m,h,_,k):null;case Tn:return R=_._init,f(m,h,R(_._payload),k)}if(ts(_)||Fi(_))return R!==null?null:d(m,h,_,k,null);bo(m,_)}return null}function p(m,h,_,k,R){if(typeof k=="string"&&k!==""||typeof k=="number")return m=m.get(_)||null,l(h,m,""+k,R);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case ko:return m=m.get(k.key===null?_:k.key)||null,a(h,m,k,R);case Br:return m=m.get(k.key===null?_:k.key)||null,u(h,m,k,R);case Tn:var b=k._init;return p(m,h,_,b(k._payload),R)}if(ts(k)||Fi(k))return m=m.get(_)||null,d(h,m,k,R,null);bo(h,k)}return null}function v(m,h,_,k){for(var R=null,b=null,y=h,N=h=0,B=null;y!==null&&N<_.length;N++){y.index>N?(B=y,y=null):B=y.sibling;var M=f(m,y,_[N],k);if(M===null){y===null&&(y=B);break}t&&y&&M.alternate===null&&e(m,y),h=s(M,h,N),b===null?R=M:b.sibling=M,b=M,y=B}if(N===_.length)return n(m,y),ye&&rr(m,N),R;if(y===null){for(;N<_.length;N++)y=c(m,_[N],k),y!==null&&(h=s(y,h,N),b===null?R=y:b.sibling=y,b=y);return ye&&rr(m,N),R}for(y=r(m,y);N<_.length;N++)B=p(y,m,N,_[N],k),B!==null&&(t&&B.alternate!==null&&y.delete(B.key===null?N:B.key),h=s(B,h,N),b===null?R=B:b.sibling=B,b=B);return t&&y.forEach(function(oe){return e(m,oe)}),ye&&rr(m,N),R}function w(m,h,_,k){var R=Fi(_);if(typeof R!="function")throw Error(P(150));if(_=R.call(_),_==null)throw Error(P(151));for(var b=R=null,y=h,N=h=0,B=null,M=_.next();y!==null&&!M.done;N++,M=_.next()){y.index>N?(B=y,y=null):B=y.sibling;var oe=f(m,y,M.value,k);if(oe===null){y===null&&(y=B);break}t&&y&&oe.alternate===null&&e(m,y),h=s(oe,h,N),b===null?R=oe:b.sibling=oe,b=oe,y=B}if(M.done)return n(m,y),ye&&rr(m,N),R;if(y===null){for(;!M.done;N++,M=_.next())M=c(m,M.value,k),M!==null&&(h=s(M,h,N),b===null?R=M:b.sibling=M,b=M);return ye&&rr(m,N),R}for(y=r(m,y);!M.done;N++,M=_.next())M=p(y,m,N,M.value,k),M!==null&&(t&&M.alternate!==null&&y.delete(M.key===null?N:M.key),h=s(M,h,N),b===null?R=M:b.sibling=M,b=M);return t&&y.forEach(function(ue){return e(m,ue)}),ye&&rr(m,N),R}function T(m,h,_,k){if(typeof _=="object"&&_!==null&&_.type===Wr&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case ko:e:{for(var R=_.key,b=h;b!==null;){if(b.key===R){if(R=_.type,R===Wr){if(b.tag===7){n(m,b.sibling),h=i(b,_.props.children),h.return=m,m=h;break e}}else if(b.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===Tn&&Rh(R)===b.type){n(m,b.sibling),h=i(b,_.props),h.ref=Wi(m,b,_),h.return=m,m=h;break e}n(m,b);break}else e(m,b);b=b.sibling}_.type===Wr?(h=mr(_.props.children,m.mode,k,_.key),h.return=m,m=h):(k=nl(_.type,_.key,_.props,null,m.mode,k),k.ref=Wi(m,h,_),k.return=m,m=k)}return o(m);case Br:e:{for(b=_.key;h!==null;){if(h.key===b)if(h.tag===4&&h.stateNode.containerInfo===_.containerInfo&&h.stateNode.implementation===_.implementation){n(m,h.sibling),h=i(h,_.children||[]),h.return=m,m=h;break e}else{n(m,h);break}else e(m,h);h=h.sibling}h=nu(_,m.mode,k),h.return=m,m=h}return o(m);case Tn:return b=_._init,T(m,h,b(_._payload),k)}if(ts(_))return v(m,h,_,k);if(Fi(_))return w(m,h,_,k);bo(m,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,h!==null&&h.tag===6?(n(m,h.sibling),h=i(h,_),h.return=m,m=h):(n(m,h),h=tu(_,m.mode,k),h.return=m,m=h),o(m)):n(m,h)}return T}var pi=Vg(!0),Kg=Vg(!1),yl=qn(null),wl=null,qr=null,fd=null;function hd(){fd=qr=wl=null}function pd(t){var e=yl.current;_e(yl),t._currentValue=e}function Xu(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ii(t,e){wl=t,fd=qr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ct=!0),t.firstContext=null)}function Dt(t){var e=t._currentValue;if(fd!==t)if(t={context:t,memoizedValue:e,next:null},qr===null){if(wl===null)throw Error(P(308));qr=t,wl.dependencies={lanes:0,firstContext:t}}else qr=qr.next=t;return e}var cr=null;function md(t){cr===null?cr=[t]:cr.push(t)}function Gg(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,md(e)):(n.next=i.next,i.next=n),e.interleaved=n,gn(t,r)}function gn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Nn=!1;function gd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Qg(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function dn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function jn(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,te&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,gn(t,n)}return i=r.interleaved,i===null?(e.next=e,md(r)):(e.next=i.next,i.next=e),r.interleaved=e,gn(t,n)}function qo(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,td(t,n)}}function Ph(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function El(t,e,n,r){var i=t.updateQueue;Nn=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var a=l,u=a.next;a.next=null,o===null?s=u:o.next=u,o=a;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=a))}if(s!==null){var c=i.baseState;o=0,d=u=a=null,l=s;do{var f=l.lane,p=l.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=t,w=l;switch(f=e,p=n,w.tag){case 1:if(v=w.payload,typeof v=="function"){c=v.call(p,c,f);break e}c=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=w.payload,f=typeof v=="function"?v.call(p,c,f):v,f==null)break e;c=Ce({},c,f);break e;case 2:Nn=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[l]:f.push(l))}else p={eventTime:p,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=p,a=c):d=d.next=p,o|=f;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;f=l,l=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(d===null&&(a=c),i.baseState=a,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);yr|=o,t.lanes=o,t.memoizedState=c}}function Dh(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(P(191,i));i.call(r)}}}var io={},tn=qn(io),Ms=qn(io),Ls=qn(io);function dr(t){if(t===io)throw Error(P(174));return t}function _d(t,e){switch(me(Ls,e),me(Ms,t),me(tn,io),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Du(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Du(e,t)}_e(tn),me(tn,e)}function mi(){_e(tn),_e(Ms),_e(Ls)}function Yg(t){dr(Ls.current);var e=dr(tn.current),n=Du(e,t.type);e!==n&&(me(Ms,t),me(tn,n))}function vd(t){Ms.current===t&&(_e(tn),_e(Ms))}var we=qn(0);function Sl(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ya=[];function yd(){for(var t=0;t<Ya.length;t++)Ya[t]._workInProgressVersionPrimary=null;Ya.length=0}var Xo=wn.ReactCurrentDispatcher,qa=wn.ReactCurrentBatchConfig,vr=0,Se=null,be=null,ze=null,Cl=!1,ds=!1,bs=0,tE=0;function Xe(){throw Error(P(321))}function wd(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Vt(t[n],e[n]))return!1;return!0}function Ed(t,e,n,r,i,s){if(vr=s,Se=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Xo.current=t===null||t.memoizedState===null?sE:oE,t=n(r,i),ds){s=0;do{if(ds=!1,bs=0,25<=s)throw Error(P(301));s+=1,ze=be=null,e.updateQueue=null,Xo.current=lE,t=n(r,i)}while(ds)}if(Xo.current=kl,e=be!==null&&be.next!==null,vr=0,ze=be=Se=null,Cl=!1,e)throw Error(P(300));return t}function Sd(){var t=bs!==0;return bs=0,t}function Jt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ze===null?Se.memoizedState=ze=t:ze=ze.next=t,ze}function At(){if(be===null){var t=Se.alternate;t=t!==null?t.memoizedState:null}else t=be.next;var e=ze===null?Se.memoizedState:ze.next;if(e!==null)ze=e,be=t;else{if(t===null)throw Error(P(310));be=t,t={memoizedState:be.memoizedState,baseState:be.baseState,baseQueue:be.baseQueue,queue:be.queue,next:null},ze===null?Se.memoizedState=ze=t:ze=ze.next=t}return ze}function Os(t,e){return typeof e=="function"?e(t):e}function Xa(t){var e=At(),n=e.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=t;var r=be,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=o=null,a=null,u=s;do{var d=u.lane;if((vr&d)===d)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var c={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(l=a=c,o=r):a=a.next=c,Se.lanes|=d,yr|=d}u=u.next}while(u!==null&&u!==s);a===null?o=r:a.next=l,Vt(r,e.memoizedState)||(ct=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=a,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Se.lanes|=s,yr|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Ja(t){var e=At(),n=e.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Vt(s,e.memoizedState)||(ct=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function qg(){}function Xg(t,e){var n=Se,r=At(),i=e(),s=!Vt(r.memoizedState,i);if(s&&(r.memoizedState=i,ct=!0),r=r.queue,Cd(e_.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||ze!==null&&ze.memoizedState.tag&1){if(n.flags|=2048,Fs(9,Zg.bind(null,n,r,i,e),void 0,null),He===null)throw Error(P(349));vr&30||Jg(n,e,i)}return i}function Jg(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Se.updateQueue,e===null?(e={lastEffect:null,stores:null},Se.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Zg(t,e,n,r){e.value=n,e.getSnapshot=r,t_(e)&&n_(t)}function e_(t,e,n){return n(function(){t_(e)&&n_(t)})}function t_(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Vt(t,n)}catch{return!0}}function n_(t){var e=gn(t,1);e!==null&&Ht(e,t,1,-1)}function Ah(t){var e=Jt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Os,lastRenderedState:t},e.queue=t,t=t.dispatch=iE.bind(null,Se,t),[e.memoizedState,t]}function Fs(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Se.updateQueue,e===null?(e={lastEffect:null,stores:null},Se.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function r_(){return At().memoizedState}function Jo(t,e,n,r){var i=Jt();Se.flags|=t,i.memoizedState=Fs(1|e,n,void 0,r===void 0?null:r)}function ra(t,e,n,r){var i=At();r=r===void 0?null:r;var s=void 0;if(be!==null){var o=be.memoizedState;if(s=o.destroy,r!==null&&wd(r,o.deps)){i.memoizedState=Fs(e,n,s,r);return}}Se.flags|=t,i.memoizedState=Fs(1|e,n,s,r)}function Mh(t,e){return Jo(8390656,8,t,e)}function Cd(t,e){return ra(2048,8,t,e)}function i_(t,e){return ra(4,2,t,e)}function s_(t,e){return ra(4,4,t,e)}function o_(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function l_(t,e,n){return n=n!=null?n.concat([t]):null,ra(4,4,o_.bind(null,e,t),n)}function kd(){}function a_(t,e){var n=At();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&wd(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function u_(t,e){var n=At();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&wd(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function c_(t,e,n){return vr&21?(Vt(n,e)||(n=mg(),Se.lanes|=n,yr|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ct=!0),t.memoizedState=n)}function nE(t,e){var n=ae;ae=n!==0&&4>n?n:4,t(!0);var r=qa.transition;qa.transition={};try{t(!1),e()}finally{ae=n,qa.transition=r}}function d_(){return At().memoizedState}function rE(t,e,n){var r=zn(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},f_(t))h_(e,n);else if(n=Gg(t,e,n,r),n!==null){var i=it();Ht(n,t,r,i),p_(n,e,r)}}function iE(t,e,n){var r=zn(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(f_(t))h_(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,l=s(o,n);if(i.hasEagerState=!0,i.eagerState=l,Vt(l,o)){var a=e.interleaved;a===null?(i.next=i,md(e)):(i.next=a.next,a.next=i),e.interleaved=i;return}}catch{}finally{}n=Gg(t,e,i,r),n!==null&&(i=it(),Ht(n,t,r,i),p_(n,e,r))}}function f_(t){var e=t.alternate;return t===Se||e!==null&&e===Se}function h_(t,e){ds=Cl=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function p_(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,td(t,n)}}var kl={readContext:Dt,useCallback:Xe,useContext:Xe,useEffect:Xe,useImperativeHandle:Xe,useInsertionEffect:Xe,useLayoutEffect:Xe,useMemo:Xe,useReducer:Xe,useRef:Xe,useState:Xe,useDebugValue:Xe,useDeferredValue:Xe,useTransition:Xe,useMutableSource:Xe,useSyncExternalStore:Xe,useId:Xe,unstable_isNewReconciler:!1},sE={readContext:Dt,useCallback:function(t,e){return Jt().memoizedState=[t,e===void 0?null:e],t},useContext:Dt,useEffect:Mh,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Jo(4194308,4,o_.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Jo(4194308,4,t,e)},useInsertionEffect:function(t,e){return Jo(4,2,t,e)},useMemo:function(t,e){var n=Jt();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Jt();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=rE.bind(null,Se,t),[r.memoizedState,t]},useRef:function(t){var e=Jt();return t={current:t},e.memoizedState=t},useState:Ah,useDebugValue:kd,useDeferredValue:function(t){return Jt().memoizedState=t},useTransition:function(){var t=Ah(!1),e=t[0];return t=nE.bind(null,t[1]),Jt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Se,i=Jt();if(ye){if(n===void 0)throw Error(P(407));n=n()}else{if(n=e(),He===null)throw Error(P(349));vr&30||Jg(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Mh(e_.bind(null,r,s,t),[t]),r.flags|=2048,Fs(9,Zg.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Jt(),e=He.identifierPrefix;if(ye){var n=un,r=an;n=(r&~(1<<32-Wt(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=bs++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=tE++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},oE={readContext:Dt,useCallback:a_,useContext:Dt,useEffect:Cd,useImperativeHandle:l_,useInsertionEffect:i_,useLayoutEffect:s_,useMemo:u_,useReducer:Xa,useRef:r_,useState:function(){return Xa(Os)},useDebugValue:kd,useDeferredValue:function(t){var e=At();return c_(e,be.memoizedState,t)},useTransition:function(){var t=Xa(Os)[0],e=At().memoizedState;return[t,e]},useMutableSource:qg,useSyncExternalStore:Xg,useId:d_,unstable_isNewReconciler:!1},lE={readContext:Dt,useCallback:a_,useContext:Dt,useEffect:Cd,useImperativeHandle:l_,useInsertionEffect:i_,useLayoutEffect:s_,useMemo:u_,useReducer:Ja,useRef:r_,useState:function(){return Ja(Os)},useDebugValue:kd,useDeferredValue:function(t){var e=At();return be===null?e.memoizedState=t:c_(e,be.memoizedState,t)},useTransition:function(){var t=Ja(Os)[0],e=At().memoizedState;return[t,e]},useMutableSource:qg,useSyncExternalStore:Xg,useId:d_,unstable_isNewReconciler:!1};function bt(t,e){if(t&&t.defaultProps){e=Ce({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Ju(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ce({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var ia={isMounted:function(t){return(t=t._reactInternals)?xr(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=it(),i=zn(t),s=dn(r,i);s.payload=e,n!=null&&(s.callback=n),e=jn(t,s,i),e!==null&&(Ht(e,t,i,r),qo(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=it(),i=zn(t),s=dn(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=jn(t,s,i),e!==null&&(Ht(e,t,i,r),qo(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=it(),r=zn(t),i=dn(n,r);i.tag=2,e!=null&&(i.callback=e),e=jn(t,i,r),e!==null&&(Ht(e,t,r,n),qo(e,t,r))}};function Lh(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Rs(n,r)||!Rs(i,s):!0}function m_(t,e,n){var r=!1,i=Kn,s=e.contextType;return typeof s=="object"&&s!==null?s=Dt(s):(i=pt(e)?gr:et.current,r=e.contextTypes,s=(r=r!=null)?fi(t,i):Kn),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ia,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function bh(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&ia.enqueueReplaceState(e,e.state,null)}function Zu(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},gd(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Dt(s):(s=pt(e)?gr:et.current,i.context=fi(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Ju(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&ia.enqueueReplaceState(i,i.state,null),El(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function gi(t,e){try{var n="",r=e;do n+=bw(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Za(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function ec(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var aE=typeof WeakMap=="function"?WeakMap:Map;function g_(t,e,n){n=dn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Tl||(Tl=!0,cc=r),ec(t,e)},n}function __(t,e,n){n=dn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){ec(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){ec(t,e),typeof r!="function"&&(Un===null?Un=new Set([this]):Un.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Oh(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new aE;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=SE.bind(null,t,e,n),e.then(t,t))}function Fh(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function jh(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=dn(-1,1),e.tag=2,jn(n,e,1))),n.lanes|=1),t)}var uE=wn.ReactCurrentOwner,ct=!1;function rt(t,e,n,r){e.child=t===null?Kg(e,null,n,r):pi(e,t.child,n,r)}function Uh(t,e,n,r,i){n=n.render;var s=e.ref;return ii(e,i),r=Ed(t,e,n,r,s,i),n=Sd(),t!==null&&!ct?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,_n(t,e,i)):(ye&&n&&ud(e),e.flags|=1,rt(t,e,r,i),e.child)}function zh(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Ad(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,v_(t,e,s,r,i)):(t=nl(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Rs,n(o,r)&&t.ref===e.ref)return _n(t,e,i)}return e.flags|=1,t=Bn(s,r),t.ref=e.ref,t.return=e,e.child=t}function v_(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Rs(s,r)&&t.ref===e.ref)if(ct=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(ct=!0);else return e.lanes=t.lanes,_n(t,e,i)}return tc(t,e,n,r,i)}function y_(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},me(Jr,vt),vt|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,me(Jr,vt),vt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,me(Jr,vt),vt|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,me(Jr,vt),vt|=r;return rt(t,e,i,n),e.child}function w_(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function tc(t,e,n,r,i){var s=pt(n)?gr:et.current;return s=fi(e,s),ii(e,i),n=Ed(t,e,n,r,s,i),r=Sd(),t!==null&&!ct?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,_n(t,e,i)):(ye&&r&&ud(e),e.flags|=1,rt(t,e,n,i),e.child)}function Bh(t,e,n,r,i){if(pt(n)){var s=!0;gl(e)}else s=!1;if(ii(e,i),e.stateNode===null)Zo(t,e),m_(e,n,r),Zu(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var a=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Dt(u):(u=pt(n)?gr:et.current,u=fi(e,u));var d=n.getDerivedStateFromProps,c=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";c||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||a!==u)&&bh(e,o,r,u),Nn=!1;var f=e.memoizedState;o.state=f,El(e,r,o,i),a=e.memoizedState,l!==r||f!==a||ht.current||Nn?(typeof d=="function"&&(Ju(e,n,d,r),a=e.memoizedState),(l=Nn||Lh(e,n,l,r,f,a,u))?(c||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=a),o.props=r,o.state=a,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Qg(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:bt(e.type,l),o.props=u,c=e.pendingProps,f=o.context,a=n.contextType,typeof a=="object"&&a!==null?a=Dt(a):(a=pt(n)?gr:et.current,a=fi(e,a));var p=n.getDerivedStateFromProps;(d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==c||f!==a)&&bh(e,o,r,a),Nn=!1,f=e.memoizedState,o.state=f,El(e,r,o,i);var v=e.memoizedState;l!==c||f!==v||ht.current||Nn?(typeof p=="function"&&(Ju(e,n,p,r),v=e.memoizedState),(u=Nn||Lh(e,n,u,r,f,v,a)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,a)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),o.props=r,o.state=v,o.context=a,r=u):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return nc(t,e,n,r,s,i)}function nc(t,e,n,r,i,s){w_(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&Th(e,n,!1),_n(t,e,s);r=e.stateNode,uE.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=pi(e,t.child,null,s),e.child=pi(e,null,l,s)):rt(t,e,l,s),e.memoizedState=r.state,i&&Th(e,n,!0),e.child}function E_(t){var e=t.stateNode;e.pendingContext?Ih(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Ih(t,e.context,!1),_d(t,e.containerInfo)}function Wh(t,e,n,r,i){return hi(),dd(i),e.flags|=256,rt(t,e,n,r),e.child}var rc={dehydrated:null,treeContext:null,retryLane:0};function ic(t){return{baseLanes:t,cachePool:null,transitions:null}}function S_(t,e,n){var r=e.pendingProps,i=we.current,s=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),me(we,i&1),t===null)return qu(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=la(o,r,0,null),t=mr(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=ic(n),e.memoizedState=rc,t):Id(e,o));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return cE(t,e,o,r,l,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,l=i.sibling;var a={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=a,e.deletions=null):(r=Bn(i,a),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=Bn(l,s):(s=mr(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?ic(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=rc,r}return s=t.child,t=s.sibling,r=Bn(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Id(t,e){return e=la({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Oo(t,e,n,r){return r!==null&&dd(r),pi(e,t.child,null,n),t=Id(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function cE(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Za(Error(P(422))),Oo(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=la({mode:"visible",children:r.children},i,0,null),s=mr(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&pi(e,t.child,null,o),e.child.memoizedState=ic(o),e.memoizedState=rc,s);if(!(e.mode&1))return Oo(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(P(419)),r=Za(s,r,void 0),Oo(t,e,o,r)}if(l=(o&t.childLanes)!==0,ct||l){if(r=He,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,gn(t,i),Ht(r,t,i,-1))}return Dd(),r=Za(Error(P(421))),Oo(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=CE.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,wt=Fn(i.nextSibling),Et=e,ye=!0,jt=null,t!==null&&(Tt[Nt++]=an,Tt[Nt++]=un,Tt[Nt++]=_r,an=t.id,un=t.overflow,_r=e),e=Id(e,r.children),e.flags|=4096,e)}function Hh(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Xu(t.return,e,n)}function eu(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function C_(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(rt(t,e,r.children,n),r=we.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Hh(t,n,e);else if(t.tag===19)Hh(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(me(we,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Sl(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),eu(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Sl(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}eu(e,!0,n,null,s);break;case"together":eu(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Zo(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function _n(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),yr|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(P(153));if(e.child!==null){for(t=e.child,n=Bn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Bn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function dE(t,e,n){switch(e.tag){case 3:E_(e),hi();break;case 5:Yg(e);break;case 1:pt(e.type)&&gl(e);break;case 4:_d(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;me(yl,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(me(we,we.current&1),e.flags|=128,null):n&e.child.childLanes?S_(t,e,n):(me(we,we.current&1),t=_n(t,e,n),t!==null?t.sibling:null);me(we,we.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return C_(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),me(we,we.current),r)break;return null;case 22:case 23:return e.lanes=0,y_(t,e,n)}return _n(t,e,n)}var k_,sc,I_,T_;k_=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};sc=function(){};I_=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,dr(tn.current);var s=null;switch(n){case"input":i=Nu(t,i),r=Nu(t,r),s=[];break;case"select":i=Ce({},i,{value:void 0}),r=Ce({},r,{value:void 0}),s=[];break;case"textarea":i=Pu(t,i),r=Pu(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=pl)}Au(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ss.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var a=r[u];if(l=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&a!==l&&(a!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in a)a.hasOwnProperty(o)&&l[o]!==a[o]&&(n||(n={}),n[o]=a[o])}else n||(s||(s=[]),s.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(s=s||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(s=s||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ss.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&ge("scroll",t),s||l===a||(s=[])):(s=s||[]).push(u,a))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};T_=function(t,e,n,r){n!==r&&(e.flags|=4)};function Hi(t,e){if(!ye)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Je(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function fE(t,e,n){var r=e.pendingProps;switch(cd(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Je(e),null;case 1:return pt(e.type)&&ml(),Je(e),null;case 3:return r=e.stateNode,mi(),_e(ht),_e(et),yd(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Lo(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,jt!==null&&(hc(jt),jt=null))),sc(t,e),Je(e),null;case 5:vd(e);var i=dr(Ls.current);if(n=e.type,t!==null&&e.stateNode!=null)I_(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(P(166));return Je(e),null}if(t=dr(tn.current),Lo(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Zt]=e,r[As]=s,t=(e.mode&1)!==0,n){case"dialog":ge("cancel",r),ge("close",r);break;case"iframe":case"object":case"embed":ge("load",r);break;case"video":case"audio":for(i=0;i<rs.length;i++)ge(rs[i],r);break;case"source":ge("error",r);break;case"img":case"image":case"link":ge("error",r),ge("load",r);break;case"details":ge("toggle",r);break;case"input":Jf(r,s),ge("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},ge("invalid",r);break;case"textarea":eh(r,s),ge("invalid",r)}Au(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&Mo(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&Mo(r.textContent,l,t),i=["children",""+l]):Ss.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&ge("scroll",r)}switch(n){case"input":Io(r),Zf(r,s,!0);break;case"textarea":Io(r),th(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=pl)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=eg(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Zt]=e,t[As]=r,k_(t,e,!1,!1),e.stateNode=t;e:{switch(o=Mu(n,r),n){case"dialog":ge("cancel",t),ge("close",t),i=r;break;case"iframe":case"object":case"embed":ge("load",t),i=r;break;case"video":case"audio":for(i=0;i<rs.length;i++)ge(rs[i],t);i=r;break;case"source":ge("error",t),i=r;break;case"img":case"image":case"link":ge("error",t),ge("load",t),i=r;break;case"details":ge("toggle",t),i=r;break;case"input":Jf(t,r),i=Nu(t,r),ge("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Ce({},r,{value:void 0}),ge("invalid",t);break;case"textarea":eh(t,r),i=Pu(t,r),ge("invalid",t);break;default:i=r}Au(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var a=l[s];s==="style"?rg(t,a):s==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&tg(t,a)):s==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&Cs(t,a):typeof a=="number"&&Cs(t,""+a):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Ss.hasOwnProperty(s)?a!=null&&s==="onScroll"&&ge("scroll",t):a!=null&&Yc(t,s,a,o))}switch(n){case"input":Io(t),Zf(t,r,!1);break;case"textarea":Io(t),th(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Vn(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?ei(t,!!r.multiple,s,!1):r.defaultValue!=null&&ei(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=pl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Je(e),null;case 6:if(t&&e.stateNode!=null)T_(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(P(166));if(n=dr(Ls.current),dr(tn.current),Lo(e)){if(r=e.stateNode,n=e.memoizedProps,r[Zt]=e,(s=r.nodeValue!==n)&&(t=Et,t!==null))switch(t.tag){case 3:Mo(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Mo(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Zt]=e,e.stateNode=r}return Je(e),null;case 13:if(_e(we),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ye&&wt!==null&&e.mode&1&&!(e.flags&128))$g(),hi(),e.flags|=98560,s=!1;else if(s=Lo(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(P(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(P(317));s[Zt]=e}else hi(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Je(e),s=!1}else jt!==null&&(hc(jt),jt=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||we.current&1?Fe===0&&(Fe=3):Dd())),e.updateQueue!==null&&(e.flags|=4),Je(e),null);case 4:return mi(),sc(t,e),t===null&&Ps(e.stateNode.containerInfo),Je(e),null;case 10:return pd(e.type._context),Je(e),null;case 17:return pt(e.type)&&ml(),Je(e),null;case 19:if(_e(we),s=e.memoizedState,s===null)return Je(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Hi(s,!1);else{if(Fe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Sl(t),o!==null){for(e.flags|=128,Hi(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return me(we,we.current&1|2),e.child}t=t.sibling}s.tail!==null&&Pe()>_i&&(e.flags|=128,r=!0,Hi(s,!1),e.lanes=4194304)}else{if(!r)if(t=Sl(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Hi(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!ye)return Je(e),null}else 2*Pe()-s.renderingStartTime>_i&&n!==1073741824&&(e.flags|=128,r=!0,Hi(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Pe(),e.sibling=null,n=we.current,me(we,r?n&1|2:n&1),e):(Je(e),null);case 22:case 23:return Pd(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?vt&1073741824&&(Je(e),e.subtreeFlags&6&&(e.flags|=8192)):Je(e),null;case 24:return null;case 25:return null}throw Error(P(156,e.tag))}function hE(t,e){switch(cd(e),e.tag){case 1:return pt(e.type)&&ml(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return mi(),_e(ht),_e(et),yd(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return vd(e),null;case 13:if(_e(we),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(P(340));hi()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return _e(we),null;case 4:return mi(),null;case 10:return pd(e.type._context),null;case 22:case 23:return Pd(),null;case 24:return null;default:return null}}var Fo=!1,Ze=!1,pE=typeof WeakSet=="function"?WeakSet:Set,O=null;function Xr(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Te(t,e,r)}else n.current=null}function oc(t,e,n){try{n()}catch(r){Te(t,e,r)}}var $h=!1;function mE(t,e){if(Hu=dl,t=Dg(),ad(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,l=-1,a=-1,u=0,d=0,c=t,f=null;t:for(;;){for(var p;c!==n||i!==0&&c.nodeType!==3||(l=o+i),c!==s||r!==0&&c.nodeType!==3||(a=o+r),c.nodeType===3&&(o+=c.nodeValue.length),(p=c.firstChild)!==null;)f=c,c=p;for(;;){if(c===t)break t;if(f===n&&++u===i&&(l=o),f===s&&++d===r&&(a=o),(p=c.nextSibling)!==null)break;c=f,f=c.parentNode}c=p}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for($u={focusedElem:t,selectionRange:n},dl=!1,O=e;O!==null;)if(e=O,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,O=t;else for(;O!==null;){e=O;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var w=v.memoizedProps,T=v.memoizedState,m=e.stateNode,h=m.getSnapshotBeforeUpdate(e.elementType===e.type?w:bt(e.type,w),T);m.__reactInternalSnapshotBeforeUpdate=h}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(P(163))}}catch(k){Te(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,O=t;break}O=e.return}return v=$h,$h=!1,v}function fs(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&oc(e,n,s)}i=i.next}while(i!==r)}}function sa(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function lc(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function N_(t){var e=t.alternate;e!==null&&(t.alternate=null,N_(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Zt],delete e[As],delete e[Gu],delete e[X0],delete e[J0])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function x_(t){return t.tag===5||t.tag===3||t.tag===4}function Vh(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||x_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ac(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=pl));else if(r!==4&&(t=t.child,t!==null))for(ac(t,e,n),t=t.sibling;t!==null;)ac(t,e,n),t=t.sibling}function uc(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(uc(t,e,n),t=t.sibling;t!==null;)uc(t,e,n),t=t.sibling}var Ke=null,Ot=!1;function kn(t,e,n){for(n=n.child;n!==null;)R_(t,e,n),n=n.sibling}function R_(t,e,n){if(en&&typeof en.onCommitFiberUnmount=="function")try{en.onCommitFiberUnmount(Xl,n)}catch{}switch(n.tag){case 5:Ze||Xr(n,e);case 6:var r=Ke,i=Ot;Ke=null,kn(t,e,n),Ke=r,Ot=i,Ke!==null&&(Ot?(t=Ke,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ke.removeChild(n.stateNode));break;case 18:Ke!==null&&(Ot?(t=Ke,n=n.stateNode,t.nodeType===8?Ga(t.parentNode,n):t.nodeType===1&&Ga(t,n),Ns(t)):Ga(Ke,n.stateNode));break;case 4:r=Ke,i=Ot,Ke=n.stateNode.containerInfo,Ot=!0,kn(t,e,n),Ke=r,Ot=i;break;case 0:case 11:case 14:case 15:if(!Ze&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&oc(n,e,o),i=i.next}while(i!==r)}kn(t,e,n);break;case 1:if(!Ze&&(Xr(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Te(n,e,l)}kn(t,e,n);break;case 21:kn(t,e,n);break;case 22:n.mode&1?(Ze=(r=Ze)||n.memoizedState!==null,kn(t,e,n),Ze=r):kn(t,e,n);break;default:kn(t,e,n)}}function Kh(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new pE),e.forEach(function(r){var i=kE.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Lt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:Ke=l.stateNode,Ot=!1;break e;case 3:Ke=l.stateNode.containerInfo,Ot=!0;break e;case 4:Ke=l.stateNode.containerInfo,Ot=!0;break e}l=l.return}if(Ke===null)throw Error(P(160));R_(s,o,i),Ke=null,Ot=!1;var a=i.alternate;a!==null&&(a.return=null),i.return=null}catch(u){Te(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)P_(e,t),e=e.sibling}function P_(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Lt(e,t),qt(t),r&4){try{fs(3,t,t.return),sa(3,t)}catch(w){Te(t,t.return,w)}try{fs(5,t,t.return)}catch(w){Te(t,t.return,w)}}break;case 1:Lt(e,t),qt(t),r&512&&n!==null&&Xr(n,n.return);break;case 5:if(Lt(e,t),qt(t),r&512&&n!==null&&Xr(n,n.return),t.flags&32){var i=t.stateNode;try{Cs(i,"")}catch(w){Te(t,t.return,w)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,l=t.type,a=t.updateQueue;if(t.updateQueue=null,a!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&Jm(i,s),Mu(l,o);var u=Mu(l,s);for(o=0;o<a.length;o+=2){var d=a[o],c=a[o+1];d==="style"?rg(i,c):d==="dangerouslySetInnerHTML"?tg(i,c):d==="children"?Cs(i,c):Yc(i,d,c,u)}switch(l){case"input":xu(i,s);break;case"textarea":Zm(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?ei(i,!!s.multiple,p,!1):f!==!!s.multiple&&(s.defaultValue!=null?ei(i,!!s.multiple,s.defaultValue,!0):ei(i,!!s.multiple,s.multiple?[]:"",!1))}i[As]=s}catch(w){Te(t,t.return,w)}}break;case 6:if(Lt(e,t),qt(t),r&4){if(t.stateNode===null)throw Error(P(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(w){Te(t,t.return,w)}}break;case 3:if(Lt(e,t),qt(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ns(e.containerInfo)}catch(w){Te(t,t.return,w)}break;case 4:Lt(e,t),qt(t);break;case 13:Lt(e,t),qt(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(xd=Pe())),r&4&&Kh(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Ze=(u=Ze)||d,Lt(e,t),Ze=u):Lt(e,t),qt(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(O=t,d=t.child;d!==null;){for(c=O=d;O!==null;){switch(f=O,p=f.child,f.tag){case 0:case 11:case 14:case 15:fs(4,f,f.return);break;case 1:Xr(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(w){Te(r,n,w)}}break;case 5:Xr(f,f.return);break;case 22:if(f.memoizedState!==null){Qh(c);continue}}p!==null?(p.return=f,O=p):Qh(c)}d=d.sibling}e:for(d=null,c=t;;){if(c.tag===5){if(d===null){d=c;try{i=c.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=c.stateNode,a=c.memoizedProps.style,o=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=ng("display",o))}catch(w){Te(t,t.return,w)}}}else if(c.tag===6){if(d===null)try{c.stateNode.nodeValue=u?"":c.memoizedProps}catch(w){Te(t,t.return,w)}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===t)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===t)break e;for(;c.sibling===null;){if(c.return===null||c.return===t)break e;d===c&&(d=null),c=c.return}d===c&&(d=null),c.sibling.return=c.return,c=c.sibling}}break;case 19:Lt(e,t),qt(t),r&4&&Kh(t);break;case 21:break;default:Lt(e,t),qt(t)}}function qt(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(x_(n)){var r=n;break e}n=n.return}throw Error(P(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Cs(i,""),r.flags&=-33);var s=Vh(t);uc(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=Vh(t);ac(t,l,o);break;default:throw Error(P(161))}}catch(a){Te(t,t.return,a)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function gE(t,e,n){O=t,D_(t)}function D_(t,e,n){for(var r=(t.mode&1)!==0;O!==null;){var i=O,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Fo;if(!o){var l=i.alternate,a=l!==null&&l.memoizedState!==null||Ze;l=Fo;var u=Ze;if(Fo=o,(Ze=a)&&!u)for(O=i;O!==null;)o=O,a=o.child,o.tag===22&&o.memoizedState!==null?Yh(i):a!==null?(a.return=o,O=a):Yh(i);for(;s!==null;)O=s,D_(s),s=s.sibling;O=i,Fo=l,Ze=u}Gh(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,O=s):Gh(t)}}function Gh(t){for(;O!==null;){var e=O;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ze||sa(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ze)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:bt(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Dh(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Dh(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var a=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var c=d.dehydrated;c!==null&&Ns(c)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(P(163))}Ze||e.flags&512&&lc(e)}catch(f){Te(e,e.return,f)}}if(e===t){O=null;break}if(n=e.sibling,n!==null){n.return=e.return,O=n;break}O=e.return}}function Qh(t){for(;O!==null;){var e=O;if(e===t){O=null;break}var n=e.sibling;if(n!==null){n.return=e.return,O=n;break}O=e.return}}function Yh(t){for(;O!==null;){var e=O;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{sa(4,e)}catch(a){Te(e,n,a)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(a){Te(e,i,a)}}var s=e.return;try{lc(e)}catch(a){Te(e,s,a)}break;case 5:var o=e.return;try{lc(e)}catch(a){Te(e,o,a)}}}catch(a){Te(e,e.return,a)}if(e===t){O=null;break}var l=e.sibling;if(l!==null){l.return=e.return,O=l;break}O=e.return}}var _E=Math.ceil,Il=wn.ReactCurrentDispatcher,Td=wn.ReactCurrentOwner,Pt=wn.ReactCurrentBatchConfig,te=0,He=null,Me=null,Qe=0,vt=0,Jr=qn(0),Fe=0,js=null,yr=0,oa=0,Nd=0,hs=null,ut=null,xd=0,_i=1/0,on=null,Tl=!1,cc=null,Un=null,jo=!1,Dn=null,Nl=0,ps=0,dc=null,el=-1,tl=0;function it(){return te&6?Pe():el!==-1?el:el=Pe()}function zn(t){return t.mode&1?te&2&&Qe!==0?Qe&-Qe:eE.transition!==null?(tl===0&&(tl=mg()),tl):(t=ae,t!==0||(t=window.event,t=t===void 0?16:Sg(t.type)),t):1}function Ht(t,e,n,r){if(50<ps)throw ps=0,dc=null,Error(P(185));to(t,n,r),(!(te&2)||t!==He)&&(t===He&&(!(te&2)&&(oa|=n),Fe===4&&Rn(t,Qe)),mt(t,r),n===1&&te===0&&!(e.mode&1)&&(_i=Pe()+500,na&&Xn()))}function mt(t,e){var n=t.callbackNode;e0(t,e);var r=cl(t,t===He?Qe:0);if(r===0)n!==null&&ih(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&ih(n),e===1)t.tag===0?Z0(qh.bind(null,t)):Bg(qh.bind(null,t)),Y0(function(){!(te&6)&&Xn()}),n=null;else{switch(gg(r)){case 1:n=ed;break;case 4:n=hg;break;case 16:n=ul;break;case 536870912:n=pg;break;default:n=ul}n=U_(n,A_.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function A_(t,e){if(el=-1,tl=0,te&6)throw Error(P(327));var n=t.callbackNode;if(si()&&t.callbackNode!==n)return null;var r=cl(t,t===He?Qe:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=xl(t,r);else{e=r;var i=te;te|=2;var s=L_();(He!==t||Qe!==e)&&(on=null,_i=Pe()+500,pr(t,e));do try{wE();break}catch(l){M_(t,l)}while(!0);hd(),Il.current=s,te=i,Me!==null?e=0:(He=null,Qe=0,e=Fe)}if(e!==0){if(e===2&&(i=ju(t),i!==0&&(r=i,e=fc(t,i))),e===1)throw n=js,pr(t,0),Rn(t,r),mt(t,Pe()),n;if(e===6)Rn(t,r);else{if(i=t.current.alternate,!(r&30)&&!vE(i)&&(e=xl(t,r),e===2&&(s=ju(t),s!==0&&(r=s,e=fc(t,s))),e===1))throw n=js,pr(t,0),Rn(t,r),mt(t,Pe()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(P(345));case 2:ir(t,ut,on);break;case 3:if(Rn(t,r),(r&130023424)===r&&(e=xd+500-Pe(),10<e)){if(cl(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){it(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Ku(ir.bind(null,t,ut,on),e);break}ir(t,ut,on);break;case 4:if(Rn(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Wt(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Pe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*_E(r/1960))-r,10<r){t.timeoutHandle=Ku(ir.bind(null,t,ut,on),r);break}ir(t,ut,on);break;case 5:ir(t,ut,on);break;default:throw Error(P(329))}}}return mt(t,Pe()),t.callbackNode===n?A_.bind(null,t):null}function fc(t,e){var n=hs;return t.current.memoizedState.isDehydrated&&(pr(t,e).flags|=256),t=xl(t,e),t!==2&&(e=ut,ut=n,e!==null&&hc(e)),t}function hc(t){ut===null?ut=t:ut.push.apply(ut,t)}function vE(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Vt(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Rn(t,e){for(e&=~Nd,e&=~oa,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Wt(e),r=1<<n;t[n]=-1,e&=~r}}function qh(t){if(te&6)throw Error(P(327));si();var e=cl(t,0);if(!(e&1))return mt(t,Pe()),null;var n=xl(t,e);if(t.tag!==0&&n===2){var r=ju(t);r!==0&&(e=r,n=fc(t,r))}if(n===1)throw n=js,pr(t,0),Rn(t,e),mt(t,Pe()),n;if(n===6)throw Error(P(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ir(t,ut,on),mt(t,Pe()),null}function Rd(t,e){var n=te;te|=1;try{return t(e)}finally{te=n,te===0&&(_i=Pe()+500,na&&Xn())}}function wr(t){Dn!==null&&Dn.tag===0&&!(te&6)&&si();var e=te;te|=1;var n=Pt.transition,r=ae;try{if(Pt.transition=null,ae=1,t)return t()}finally{ae=r,Pt.transition=n,te=e,!(te&6)&&Xn()}}function Pd(){vt=Jr.current,_e(Jr)}function pr(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Q0(n)),Me!==null)for(n=Me.return;n!==null;){var r=n;switch(cd(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ml();break;case 3:mi(),_e(ht),_e(et),yd();break;case 5:vd(r);break;case 4:mi();break;case 13:_e(we);break;case 19:_e(we);break;case 10:pd(r.type._context);break;case 22:case 23:Pd()}n=n.return}if(He=t,Me=t=Bn(t.current,null),Qe=vt=e,Fe=0,js=null,Nd=oa=yr=0,ut=hs=null,cr!==null){for(e=0;e<cr.length;e++)if(n=cr[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}cr=null}return t}function M_(t,e){do{var n=Me;try{if(hd(),Xo.current=kl,Cl){for(var r=Se.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Cl=!1}if(vr=0,ze=be=Se=null,ds=!1,bs=0,Td.current=null,n===null||n.return===null){Fe=1,js=e,Me=null;break}e:{var s=t,o=n.return,l=n,a=e;if(e=Qe,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,d=l,c=d.tag;if(!(d.mode&1)&&(c===0||c===11||c===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=Fh(o);if(p!==null){p.flags&=-257,jh(p,o,l,s,e),p.mode&1&&Oh(s,u,e),e=p,a=u;var v=e.updateQueue;if(v===null){var w=new Set;w.add(a),e.updateQueue=w}else v.add(a);break e}else{if(!(e&1)){Oh(s,u,e),Dd();break e}a=Error(P(426))}}else if(ye&&l.mode&1){var T=Fh(o);if(T!==null){!(T.flags&65536)&&(T.flags|=256),jh(T,o,l,s,e),dd(gi(a,l));break e}}s=a=gi(a,l),Fe!==4&&(Fe=2),hs===null?hs=[s]:hs.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var m=g_(s,a,e);Ph(s,m);break e;case 1:l=a;var h=s.type,_=s.stateNode;if(!(s.flags&128)&&(typeof h.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Un===null||!Un.has(_)))){s.flags|=65536,e&=-e,s.lanes|=e;var k=__(s,l,e);Ph(s,k);break e}}s=s.return}while(s!==null)}O_(n)}catch(R){e=R,Me===n&&n!==null&&(Me=n=n.return);continue}break}while(!0)}function L_(){var t=Il.current;return Il.current=kl,t===null?kl:t}function Dd(){(Fe===0||Fe===3||Fe===2)&&(Fe=4),He===null||!(yr&268435455)&&!(oa&268435455)||Rn(He,Qe)}function xl(t,e){var n=te;te|=2;var r=L_();(He!==t||Qe!==e)&&(on=null,pr(t,e));do try{yE();break}catch(i){M_(t,i)}while(!0);if(hd(),te=n,Il.current=r,Me!==null)throw Error(P(261));return He=null,Qe=0,Fe}function yE(){for(;Me!==null;)b_(Me)}function wE(){for(;Me!==null&&!Vw();)b_(Me)}function b_(t){var e=j_(t.alternate,t,vt);t.memoizedProps=t.pendingProps,e===null?O_(t):Me=e,Td.current=null}function O_(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=hE(n,e),n!==null){n.flags&=32767,Me=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Fe=6,Me=null;return}}else if(n=fE(n,e,vt),n!==null){Me=n;return}if(e=e.sibling,e!==null){Me=e;return}Me=e=t}while(e!==null);Fe===0&&(Fe=5)}function ir(t,e,n){var r=ae,i=Pt.transition;try{Pt.transition=null,ae=1,EE(t,e,n,r)}finally{Pt.transition=i,ae=r}return null}function EE(t,e,n,r){do si();while(Dn!==null);if(te&6)throw Error(P(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(P(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(t0(t,s),t===He&&(Me=He=null,Qe=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||jo||(jo=!0,U_(ul,function(){return si(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Pt.transition,Pt.transition=null;var o=ae;ae=1;var l=te;te|=4,Td.current=null,mE(t,n),P_(n,t),B0($u),dl=!!Hu,$u=Hu=null,t.current=n,gE(n),Kw(),te=l,ae=o,Pt.transition=s}else t.current=n;if(jo&&(jo=!1,Dn=t,Nl=i),s=t.pendingLanes,s===0&&(Un=null),Yw(n.stateNode),mt(t,Pe()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Tl)throw Tl=!1,t=cc,cc=null,t;return Nl&1&&t.tag!==0&&si(),s=t.pendingLanes,s&1?t===dc?ps++:(ps=0,dc=t):ps=0,Xn(),null}function si(){if(Dn!==null){var t=gg(Nl),e=Pt.transition,n=ae;try{if(Pt.transition=null,ae=16>t?16:t,Dn===null)var r=!1;else{if(t=Dn,Dn=null,Nl=0,te&6)throw Error(P(331));var i=te;for(te|=4,O=t.current;O!==null;){var s=O,o=s.child;if(O.flags&16){var l=s.deletions;if(l!==null){for(var a=0;a<l.length;a++){var u=l[a];for(O=u;O!==null;){var d=O;switch(d.tag){case 0:case 11:case 15:fs(8,d,s)}var c=d.child;if(c!==null)c.return=d,O=c;else for(;O!==null;){d=O;var f=d.sibling,p=d.return;if(N_(d),d===u){O=null;break}if(f!==null){f.return=p,O=f;break}O=p}}}var v=s.alternate;if(v!==null){var w=v.child;if(w!==null){v.child=null;do{var T=w.sibling;w.sibling=null,w=T}while(w!==null)}}O=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,O=o;else e:for(;O!==null;){if(s=O,s.flags&2048)switch(s.tag){case 0:case 11:case 15:fs(9,s,s.return)}var m=s.sibling;if(m!==null){m.return=s.return,O=m;break e}O=s.return}}var h=t.current;for(O=h;O!==null;){o=O;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,O=_;else e:for(o=h;O!==null;){if(l=O,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:sa(9,l)}}catch(R){Te(l,l.return,R)}if(l===o){O=null;break e}var k=l.sibling;if(k!==null){k.return=l.return,O=k;break e}O=l.return}}if(te=i,Xn(),en&&typeof en.onPostCommitFiberRoot=="function")try{en.onPostCommitFiberRoot(Xl,t)}catch{}r=!0}return r}finally{ae=n,Pt.transition=e}}return!1}function Xh(t,e,n){e=gi(n,e),e=g_(t,e,1),t=jn(t,e,1),e=it(),t!==null&&(to(t,1,e),mt(t,e))}function Te(t,e,n){if(t.tag===3)Xh(t,t,n);else for(;e!==null;){if(e.tag===3){Xh(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Un===null||!Un.has(r))){t=gi(n,t),t=__(e,t,1),e=jn(e,t,1),t=it(),e!==null&&(to(e,1,t),mt(e,t));break}}e=e.return}}function SE(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=it(),t.pingedLanes|=t.suspendedLanes&n,He===t&&(Qe&n)===n&&(Fe===4||Fe===3&&(Qe&130023424)===Qe&&500>Pe()-xd?pr(t,0):Nd|=n),mt(t,e)}function F_(t,e){e===0&&(t.mode&1?(e=xo,xo<<=1,!(xo&130023424)&&(xo=4194304)):e=1);var n=it();t=gn(t,e),t!==null&&(to(t,e,n),mt(t,n))}function CE(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),F_(t,n)}function kE(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(P(314))}r!==null&&r.delete(e),F_(t,n)}var j_;j_=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||ht.current)ct=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return ct=!1,dE(t,e,n);ct=!!(t.flags&131072)}else ct=!1,ye&&e.flags&1048576&&Wg(e,vl,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Zo(t,e),t=e.pendingProps;var i=fi(e,et.current);ii(e,n),i=Ed(null,e,r,t,i,n);var s=Sd();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,pt(r)?(s=!0,gl(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,gd(e),i.updater=ia,e.stateNode=i,i._reactInternals=e,Zu(e,r,t,n),e=nc(null,e,r,!0,s,n)):(e.tag=0,ye&&s&&ud(e),rt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Zo(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=TE(r),t=bt(r,t),i){case 0:e=tc(null,e,r,t,n);break e;case 1:e=Bh(null,e,r,t,n);break e;case 11:e=Uh(null,e,r,t,n);break e;case 14:e=zh(null,e,r,bt(r.type,t),n);break e}throw Error(P(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:bt(r,i),tc(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:bt(r,i),Bh(t,e,r,i,n);case 3:e:{if(E_(e),t===null)throw Error(P(387));r=e.pendingProps,s=e.memoizedState,i=s.element,Qg(t,e),El(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=gi(Error(P(423)),e),e=Wh(t,e,r,n,i);break e}else if(r!==i){i=gi(Error(P(424)),e),e=Wh(t,e,r,n,i);break e}else for(wt=Fn(e.stateNode.containerInfo.firstChild),Et=e,ye=!0,jt=null,n=Kg(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(hi(),r===i){e=_n(t,e,n);break e}rt(t,e,r,n)}e=e.child}return e;case 5:return Yg(e),t===null&&qu(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Vu(r,i)?o=null:s!==null&&Vu(r,s)&&(e.flags|=32),w_(t,e),rt(t,e,o,n),e.child;case 6:return t===null&&qu(e),null;case 13:return S_(t,e,n);case 4:return _d(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=pi(e,null,r,n):rt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:bt(r,i),Uh(t,e,r,i,n);case 7:return rt(t,e,e.pendingProps,n),e.child;case 8:return rt(t,e,e.pendingProps.children,n),e.child;case 12:return rt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,me(yl,r._currentValue),r._currentValue=o,s!==null)if(Vt(s.value,o)){if(s.children===i.children&&!ht.current){e=_n(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(s.tag===1){a=dn(-1,n&-n),a.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?a.next=a:(a.next=d.next,d.next=a),u.pending=a}}s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Xu(s.return,n,e),l.lanes|=n;break}a=a.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(P(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Xu(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}rt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,ii(e,n),i=Dt(i),r=r(i),e.flags|=1,rt(t,e,r,n),e.child;case 14:return r=e.type,i=bt(r,e.pendingProps),i=bt(r.type,i),zh(t,e,r,i,n);case 15:return v_(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:bt(r,i),Zo(t,e),e.tag=1,pt(r)?(t=!0,gl(e)):t=!1,ii(e,n),m_(e,r,i),Zu(e,r,i,n),nc(null,e,r,!0,t,n);case 19:return C_(t,e,n);case 22:return y_(t,e,n)}throw Error(P(156,e.tag))};function U_(t,e){return fg(t,e)}function IE(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xt(t,e,n,r){return new IE(t,e,n,r)}function Ad(t){return t=t.prototype,!(!t||!t.isReactComponent)}function TE(t){if(typeof t=="function")return Ad(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Xc)return 11;if(t===Jc)return 14}return 2}function Bn(t,e){var n=t.alternate;return n===null?(n=xt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function nl(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Ad(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Wr:return mr(n.children,i,s,e);case qc:o=8,i|=8;break;case Cu:return t=xt(12,n,e,i|2),t.elementType=Cu,t.lanes=s,t;case ku:return t=xt(13,n,e,i),t.elementType=ku,t.lanes=s,t;case Iu:return t=xt(19,n,e,i),t.elementType=Iu,t.lanes=s,t;case Ym:return la(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Gm:o=10;break e;case Qm:o=9;break e;case Xc:o=11;break e;case Jc:o=14;break e;case Tn:o=16,r=null;break e}throw Error(P(130,t==null?t:typeof t,""))}return e=xt(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function mr(t,e,n,r){return t=xt(7,t,r,e),t.lanes=n,t}function la(t,e,n,r){return t=xt(22,t,r,e),t.elementType=Ym,t.lanes=n,t.stateNode={isHidden:!1},t}function tu(t,e,n){return t=xt(6,t,null,e),t.lanes=n,t}function nu(t,e,n){return e=xt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function NE(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Oa(0),this.expirationTimes=Oa(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Oa(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Md(t,e,n,r,i,s,o,l,a){return t=new NE(t,e,n,l,a),e===1?(e=1,s===!0&&(e|=8)):e=0,s=xt(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},gd(s),t}function xE(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Br,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function z_(t){if(!t)return Kn;t=t._reactInternals;e:{if(xr(t)!==t||t.tag!==1)throw Error(P(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(pt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(P(171))}if(t.tag===1){var n=t.type;if(pt(n))return zg(t,n,e)}return e}function B_(t,e,n,r,i,s,o,l,a){return t=Md(n,r,!0,t,i,s,o,l,a),t.context=z_(null),n=t.current,r=it(),i=zn(n),s=dn(r,i),s.callback=e??null,jn(n,s,i),t.current.lanes=i,to(t,i,r),mt(t,r),t}function aa(t,e,n,r){var i=e.current,s=it(),o=zn(i);return n=z_(n),e.context===null?e.context=n:e.pendingContext=n,e=dn(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=jn(i,e,o),t!==null&&(Ht(t,i,o,s),qo(t,i,o)),o}function Rl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Jh(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Ld(t,e){Jh(t,e),(t=t.alternate)&&Jh(t,e)}function RE(){return null}var W_=typeof reportError=="function"?reportError:function(t){console.error(t)};function bd(t){this._internalRoot=t}ua.prototype.render=bd.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(P(409));aa(t,e,null,null)};ua.prototype.unmount=bd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;wr(function(){aa(null,t,null,null)}),e[mn]=null}};function ua(t){this._internalRoot=t}ua.prototype.unstable_scheduleHydration=function(t){if(t){var e=yg();t={blockedOn:null,target:t,priority:e};for(var n=0;n<xn.length&&e!==0&&e<xn[n].priority;n++);xn.splice(n,0,t),n===0&&Eg(t)}};function Od(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ca(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Zh(){}function PE(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Rl(o);s.call(u)}}var o=B_(e,r,t,0,null,!1,!1,"",Zh);return t._reactRootContainer=o,t[mn]=o.current,Ps(t.nodeType===8?t.parentNode:t),wr(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var u=Rl(a);l.call(u)}}var a=Md(t,0,!1,null,null,!1,!1,"",Zh);return t._reactRootContainer=a,t[mn]=a.current,Ps(t.nodeType===8?t.parentNode:t),wr(function(){aa(e,a,n,r)}),a}function da(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var l=i;i=function(){var a=Rl(o);l.call(a)}}aa(e,o,t,i)}else o=PE(n,e,t,i,r);return Rl(o)}_g=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ns(e.pendingLanes);n!==0&&(td(e,n|1),mt(e,Pe()),!(te&6)&&(_i=Pe()+500,Xn()))}break;case 13:wr(function(){var r=gn(t,1);if(r!==null){var i=it();Ht(r,t,1,i)}}),Ld(t,1)}};nd=function(t){if(t.tag===13){var e=gn(t,134217728);if(e!==null){var n=it();Ht(e,t,134217728,n)}Ld(t,134217728)}};vg=function(t){if(t.tag===13){var e=zn(t),n=gn(t,e);if(n!==null){var r=it();Ht(n,t,e,r)}Ld(t,e)}};yg=function(){return ae};wg=function(t,e){var n=ae;try{return ae=t,e()}finally{ae=n}};bu=function(t,e,n){switch(e){case"input":if(xu(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=ta(r);if(!i)throw Error(P(90));Xm(r),xu(r,i)}}}break;case"textarea":Zm(t,n);break;case"select":e=n.value,e!=null&&ei(t,!!n.multiple,e,!1)}};og=Rd;lg=wr;var DE={usingClientEntryPoint:!1,Events:[ro,Kr,ta,ig,sg,Rd]},$i={findFiberByHostInstance:ur,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},AE={bundleType:$i.bundleType,version:$i.version,rendererPackageName:$i.rendererPackageName,rendererConfig:$i.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:wn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=cg(t),t===null?null:t.stateNode},findFiberByHostInstance:$i.findFiberByHostInstance||RE,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Uo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Uo.isDisabled&&Uo.supportsFiber)try{Xl=Uo.inject(AE),en=Uo}catch{}}Ct.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=DE;Ct.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Od(e))throw Error(P(200));return xE(t,e,null,n)};Ct.createRoot=function(t,e){if(!Od(t))throw Error(P(299));var n=!1,r="",i=W_;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Md(t,1,!1,null,null,n,!1,r,i),t[mn]=e.current,Ps(t.nodeType===8?t.parentNode:t),new bd(e)};Ct.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(P(188)):(t=Object.keys(t).join(","),Error(P(268,t)));return t=cg(e),t=t===null?null:t.stateNode,t};Ct.flushSync=function(t){return wr(t)};Ct.hydrate=function(t,e,n){if(!ca(e))throw Error(P(200));return da(null,t,e,!0,n)};Ct.hydrateRoot=function(t,e,n){if(!Od(t))throw Error(P(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=W_;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=B_(e,null,t,1,n??null,i,!1,s,o),t[mn]=e.current,Ps(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new ua(e)};Ct.render=function(t,e,n){if(!ca(e))throw Error(P(200));return da(null,t,e,!1,n)};Ct.unmountComponentAtNode=function(t){if(!ca(t))throw Error(P(40));return t._reactRootContainer?(wr(function(){da(null,null,t,!1,function(){t._reactRootContainer=null,t[mn]=null})}),!0):!1};Ct.unstable_batchedUpdates=Rd;Ct.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!ca(n))throw Error(P(200));if(t==null||t._reactInternals===void 0)throw Error(P(38));return da(t,e,n,!1,r)};Ct.version="18.3.1-next-f1338f8080-20240426";function H_(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(H_)}catch(t){console.error(t)}}H_(),Hm.exports=Ct;var Fd=Hm.exports;const ME=Pm(Fd),LE=Rm({__proto__:null,default:ME},[Fd]);var ep=Fd;Eu.createRoot=ep.createRoot,Eu.hydrateRoot=ep.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ve(){return ve=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ve.apply(this,arguments)}var Ae;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ae||(Ae={}));const tp="popstate";function bE(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:l}=r.location;return Us("",{pathname:s,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Er(i)}return FE(e,n,null,t)}function Z(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function vi(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function OE(){return Math.random().toString(36).substr(2,8)}function np(t,e){return{usr:t.state,key:t.key,idx:e}}function Us(t,e,n,r){return n===void 0&&(n=null),ve({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Jn(e):e,{state:n,key:e&&e.key||r||OE()})}function Er(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Jn(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function FE(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,l=Ae.Pop,a=null,u=d();u==null&&(u=0,o.replaceState(ve({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function c(){l=Ae.Pop;let T=d(),m=T==null?null:T-u;u=T,a&&a({action:l,location:w.location,delta:m})}function f(T,m){l=Ae.Push;let h=Us(w.location,T,m);u=d()+1;let _=np(h,u),k=w.createHref(h);try{o.pushState(_,"",k)}catch(R){if(R instanceof DOMException&&R.name==="DataCloneError")throw R;i.location.assign(k)}s&&a&&a({action:l,location:w.location,delta:1})}function p(T,m){l=Ae.Replace;let h=Us(w.location,T,m);u=d();let _=np(h,u),k=w.createHref(h);o.replaceState(_,"",k),s&&a&&a({action:l,location:w.location,delta:0})}function v(T){let m=i.location.origin!=="null"?i.location.origin:i.location.href,h=typeof T=="string"?T:Er(T);return h=h.replace(/ $/,"%20"),Z(m,"No window.location.(origin|href) available to create URL for href: "+h),new URL(h,m)}let w={get action(){return l},get location(){return t(i,o)},listen(T){if(a)throw new Error("A history only accepts one active listener");return i.addEventListener(tp,c),a=T,()=>{i.removeEventListener(tp,c),a=null}},createHref(T){return e(i,T)},createURL:v,encodeLocation(T){let m=v(T);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:f,replace:p,go(T){return o.go(T)}};return w}var le;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(le||(le={}));const jE=new Set(["lazy","caseSensitive","path","id","index","children"]);function UE(t){return t.index===!0}function Pl(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((i,s)=>{let o=[...n,String(s)],l=typeof i.id=="string"?i.id:o.join("-");if(Z(i.index!==!0||!i.children,"Cannot specify children on an index route"),Z(!r[l],'Found a route id collision on id "'+l+`".  Route id's must be globally unique within Data Router usages`),UE(i)){let a=ve({},i,e(i),{id:l});return r[l]=a,a}else{let a=ve({},i,e(i),{id:l,children:void 0});return r[l]=a,i.children&&(a.children=Pl(i.children,e,o,r)),a}})}function lr(t,e,n){return n===void 0&&(n="/"),rl(t,e,n,!1)}function rl(t,e,n,r){let i=typeof e=="string"?Jn(e):e,s=Ni(i.pathname||"/",n);if(s==null)return null;let o=$_(t);BE(o);let l=null;for(let a=0;l==null&&a<o.length;++a){let u=JE(s);l=qE(o[a],u,r)}return l}function zE(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function $_(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,l)=>{let a={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};a.relativePath.startsWith("/")&&(Z(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),a.relativePath=a.relativePath.slice(r.length));let u=fn([r,a.relativePath]),d=n.concat(a);s.children&&s.children.length>0&&(Z(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),$_(s.children,e,d,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:QE(u,s.index),routesMeta:d})};return t.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,o);else for(let a of V_(s.path))i(s,o,a)}),e}function V_(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=V_(r.join("/")),l=[];return l.push(...o.map(a=>a===""?s:[s,a].join("/"))),i&&l.push(...o),l.map(a=>t.startsWith("/")&&a===""?"/":a)}function BE(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:YE(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const WE=/^:[\w-]+$/,HE=3,$E=2,VE=1,KE=10,GE=-2,rp=t=>t==="*";function QE(t,e){let n=t.split("/"),r=n.length;return n.some(rp)&&(r+=GE),e&&(r+=$E),n.filter(i=>!rp(i)).reduce((i,s)=>i+(WE.test(s)?HE:s===""?VE:KE),r)}function YE(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function qE(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,i={},s="/",o=[];for(let l=0;l<r.length;++l){let a=r[l],u=l===r.length-1,d=s==="/"?e:e.slice(s.length)||"/",c=ip({path:a.relativePath,caseSensitive:a.caseSensitive,end:u},d),f=a.route;if(!c&&u&&n&&!r[r.length-1].route.index&&(c=ip({path:a.relativePath,caseSensitive:a.caseSensitive,end:!1},d)),!c)return null;Object.assign(i,c.params),o.push({params:i,pathname:fn([s,c.pathname]),pathnameBase:tS(fn([s,c.pathnameBase])),route:f}),c.pathnameBase!=="/"&&(s=fn([s,c.pathnameBase]))}return o}function ip(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=XE(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((u,d,c)=>{let{paramName:f,isOptional:p}=d;if(f==="*"){let w=l[c]||"";o=s.slice(0,s.length-w.length).replace(/(.)\/+$/,"$1")}const v=l[c];return p&&!v?u[f]=void 0:u[f]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:t}}function XE(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),vi(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,a)=>(r.push({paramName:l,isOptional:a!=null}),a?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function JE(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return vi(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Ni(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function ZE(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Jn(t):t;return{pathname:n?n.startsWith("/")?n:eS(n,e):e,search:nS(r),hash:rS(i)}}function eS(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function ru(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function K_(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function jd(t,e){let n=K_(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Ud(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Jn(t):(i=ve({},t),Z(!i.pathname||!i.pathname.includes("?"),ru("?","pathname","search",i)),Z(!i.pathname||!i.pathname.includes("#"),ru("#","pathname","hash",i)),Z(!i.search||!i.search.includes("#"),ru("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,l;if(o==null)l=n;else{let c=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),c-=1;i.pathname=f.join("/")}l=c>=0?e[c]:"/"}let a=ZE(i,l),u=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&n.endsWith("/");return!a.pathname.endsWith("/")&&(u||d)&&(a.pathname+="/"),a}const fn=t=>t.join("/").replace(/\/\/+/g,"/"),tS=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),nS=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,rS=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class Dl{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function zs(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const G_=["post","put","patch","delete"],iS=new Set(G_),sS=["get",...G_],oS=new Set(sS),lS=new Set([301,302,303,307,308]),aS=new Set([307,308]),iu={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},uS={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Vi={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},zd=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,cS=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),Q_="remix-router-transitions";function dS(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;Z(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let g=t.detectErrorBoundary;i=E=>({hasErrorBoundary:g(E)})}else i=cS;let s={},o=Pl(t.routes,i,void 0,s),l,a=t.basename||"/",u=t.dataStrategy||mS,d=t.patchRoutesOnNavigation,c=ve({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},t.future),f=null,p=new Set,v=null,w=null,T=null,m=t.hydrationData!=null,h=lr(o,t.history.location,a),_=!1,k=null;if(h==null&&!d){let g=at(404,{pathname:t.history.location.pathname}),{matches:E,route:C}=mp(o);h=E,k={[C.id]:g}}h&&!t.hydrationData&&yo(h,o,t.history.location.pathname).active&&(h=null);let R;if(h)if(h.some(g=>g.route.lazy))R=!1;else if(!h.some(g=>g.route.loader))R=!0;else if(c.v7_partialHydration){let g=t.hydrationData?t.hydrationData.loaderData:null,E=t.hydrationData?t.hydrationData.errors:null;if(E){let C=h.findIndex(x=>E[x.route.id]!==void 0);R=h.slice(0,C+1).every(x=>!mc(x.route,g,E))}else R=h.every(C=>!mc(C.route,g,E))}else R=t.hydrationData!=null;else if(R=!1,h=[],c.v7_partialHydration){let g=yo(null,o,t.history.location.pathname);g.active&&g.matches&&(_=!0,h=g.matches)}let b,y={historyAction:t.history.action,location:t.history.location,matches:h,initialized:R,navigation:iu,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||k,fetchers:new Map,blockers:new Map},N=Ae.Pop,B=!1,M,oe=!1,ue=new Map,xe=null,Le=!1,_t=!1,Gt=[],Qt=new Set,A=new Map,$=0,V=-1,re=new Map,Q=new Set,$e=new Map,je=new Map,Re=new Set,tt=new Map,It=new Map,go;function $y(){if(f=t.history.listen(g=>{let{action:E,location:C,delta:x}=g;if(go){go(),go=void 0;return}vi(It.size===0||x!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let L=Wf({currentLocation:y.location,nextLocation:C,historyAction:E});if(L&&x!=null){let W=new Promise(K=>{go=K});t.history.go(x*-1),vo(L,{state:"blocked",location:C,proceed(){vo(L,{state:"proceeding",proceed:void 0,reset:void 0,location:C}),W.then(()=>t.history.go(x))},reset(){let K=new Map(y.blockers);K.set(L,Vi),nt({blockers:K})}});return}return er(E,C)}),n){RS(e,ue);let g=()=>PS(e,ue);e.addEventListener("pagehide",g),xe=()=>e.removeEventListener("pagehide",g)}return y.initialized||er(Ae.Pop,y.location,{initialHydration:!0}),b}function Vy(){f&&f(),xe&&xe(),p.clear(),M&&M.abort(),y.fetchers.forEach((g,E)=>_o(E)),y.blockers.forEach((g,E)=>Bf(E))}function Ky(g){return p.add(g),()=>p.delete(g)}function nt(g,E){E===void 0&&(E={}),y=ve({},y,g);let C=[],x=[];c.v7_fetcherPersist&&y.fetchers.forEach((L,W)=>{L.state==="idle"&&(Re.has(W)?x.push(W):C.push(W))}),Re.forEach(L=>{!y.fetchers.has(L)&&!A.has(L)&&x.push(L)}),[...p].forEach(L=>L(y,{deletedFetchers:x,viewTransitionOpts:E.viewTransitionOpts,flushSync:E.flushSync===!0})),c.v7_fetcherPersist?(C.forEach(L=>y.fetchers.delete(L)),x.forEach(L=>_o(L))):x.forEach(L=>Re.delete(L))}function Lr(g,E,C){var x,L;let{flushSync:W}=C===void 0?{}:C,K=y.actionData!=null&&y.navigation.formMethod!=null&&Ft(y.navigation.formMethod)&&y.navigation.state==="loading"&&((x=g.state)==null?void 0:x._isRedirect)!==!0,j;E.actionData?Object.keys(E.actionData).length>0?j=E.actionData:j=null:K?j=y.actionData:j=null;let U=E.loaderData?hp(y.loaderData,E.loaderData,E.matches||[],E.errors):y.loaderData,F=y.blockers;F.size>0&&(F=new Map(F),F.forEach((ee,Ve)=>F.set(Ve,Vi)));let z=B===!0||y.navigation.formMethod!=null&&Ft(y.navigation.formMethod)&&((L=g.state)==null?void 0:L._isRedirect)!==!0;l&&(o=l,l=void 0),Le||N===Ae.Pop||(N===Ae.Push?t.history.push(g,g.state):N===Ae.Replace&&t.history.replace(g,g.state));let G;if(N===Ae.Pop){let ee=ue.get(y.location.pathname);ee&&ee.has(g.pathname)?G={currentLocation:y.location,nextLocation:g}:ue.has(g.pathname)&&(G={currentLocation:g,nextLocation:y.location})}else if(oe){let ee=ue.get(y.location.pathname);ee?ee.add(g.pathname):(ee=new Set([g.pathname]),ue.set(y.location.pathname,ee)),G={currentLocation:y.location,nextLocation:g}}nt(ve({},E,{actionData:j,loaderData:U,historyAction:N,location:g,initialized:!0,navigation:iu,revalidation:"idle",restoreScrollPosition:$f(g,E.matches||y.matches),preventScrollReset:z,blockers:F}),{viewTransitionOpts:G,flushSync:W===!0}),N=Ae.Pop,B=!1,oe=!1,Le=!1,_t=!1,Gt=[]}async function Lf(g,E){if(typeof g=="number"){t.history.go(g);return}let C=pc(y.location,y.matches,a,c.v7_prependBasename,g,c.v7_relativeSplatPath,E==null?void 0:E.fromRouteId,E==null?void 0:E.relative),{path:x,submission:L,error:W}=sp(c.v7_normalizeFormMethod,!1,C,E),K=y.location,j=Us(y.location,x,E&&E.state);j=ve({},j,t.history.encodeLocation(j));let U=E&&E.replace!=null?E.replace:void 0,F=Ae.Push;U===!0?F=Ae.Replace:U===!1||L!=null&&Ft(L.formMethod)&&L.formAction===y.location.pathname+y.location.search&&(F=Ae.Replace);let z=E&&"preventScrollReset"in E?E.preventScrollReset===!0:void 0,G=(E&&E.flushSync)===!0,ee=Wf({currentLocation:K,nextLocation:j,historyAction:F});if(ee){vo(ee,{state:"blocked",location:j,proceed(){vo(ee,{state:"proceeding",proceed:void 0,reset:void 0,location:j}),Lf(g,E)},reset(){let Ve=new Map(y.blockers);Ve.set(ee,Vi),nt({blockers:Ve})}});return}return await er(F,j,{submission:L,pendingError:W,preventScrollReset:z,replace:E&&E.replace,enableViewTransition:E&&E.viewTransition,flushSync:G})}function Gy(){if(Na(),nt({revalidation:"loading"}),y.navigation.state!=="submitting"){if(y.navigation.state==="idle"){er(y.historyAction,y.location,{startUninterruptedRevalidation:!0});return}er(N||y.historyAction,y.navigation.location,{overrideNavigation:y.navigation,enableViewTransition:oe===!0})}}async function er(g,E,C){M&&M.abort(),M=null,N=g,Le=(C&&C.startUninterruptedRevalidation)===!0,rw(y.location,y.matches),B=(C&&C.preventScrollReset)===!0,oe=(C&&C.enableViewTransition)===!0;let x=l||o,L=C&&C.overrideNavigation,W=C!=null&&C.initialHydration&&y.matches&&y.matches.length>0&&!_?y.matches:lr(x,E,a),K=(C&&C.flushSync)===!0;if(W&&y.initialized&&!_t&&ES(y.location,E)&&!(C&&C.submission&&Ft(C.submission.formMethod))){Lr(E,{matches:W},{flushSync:K});return}let j=yo(W,x,E.pathname);if(j.active&&j.matches&&(W=j.matches),!W){let{error:de,notFoundMatches:ie,route:ke}=xa(E.pathname);Lr(E,{matches:ie,loaderData:{},errors:{[ke.id]:de}},{flushSync:K});return}M=new AbortController;let U=Ur(t.history,E,M.signal,C&&C.submission),F;if(C&&C.pendingError)F=[ar(W).route.id,{type:le.error,error:C.pendingError}];else if(C&&C.submission&&Ft(C.submission.formMethod)){let de=await Qy(U,E,C.submission,W,j.active,{replace:C.replace,flushSync:K});if(de.shortCircuited)return;if(de.pendingActionResult){let[ie,ke]=de.pendingActionResult;if(yt(ke)&&zs(ke.error)&&ke.error.status===404){M=null,Lr(E,{matches:de.matches,loaderData:{},errors:{[ie]:ke.error}});return}}W=de.matches||W,F=de.pendingActionResult,L=su(E,C.submission),K=!1,j.active=!1,U=Ur(t.history,U.url,U.signal)}let{shortCircuited:z,matches:G,loaderData:ee,errors:Ve}=await Yy(U,E,W,j.active,L,C&&C.submission,C&&C.fetcherSubmission,C&&C.replace,C&&C.initialHydration===!0,K,F);z||(M=null,Lr(E,ve({matches:G||W},pp(F),{loaderData:ee,errors:Ve})))}async function Qy(g,E,C,x,L,W){W===void 0&&(W={}),Na();let K=NS(E,C);if(nt({navigation:K},{flushSync:W.flushSync===!0}),L){let F=await wo(x,E.pathname,g.signal);if(F.type==="aborted")return{shortCircuited:!0};if(F.type==="error"){let z=ar(F.partialMatches).route.id;return{matches:F.partialMatches,pendingActionResult:[z,{type:le.error,error:F.error}]}}else if(F.matches)x=F.matches;else{let{notFoundMatches:z,error:G,route:ee}=xa(E.pathname);return{matches:z,pendingActionResult:[ee.id,{type:le.error,error:G}]}}}let j,U=is(x,E);if(!U.route.action&&!U.route.lazy)j={type:le.error,error:at(405,{method:g.method,pathname:E.pathname,routeId:U.route.id})};else if(j=(await Mi("action",y,g,[U],x,null))[U.route.id],g.signal.aborted)return{shortCircuited:!0};if(fr(j)){let F;return W&&W.replace!=null?F=W.replace:F=cp(j.response.headers.get("Location"),new URL(g.url),a)===y.location.pathname+y.location.search,await tr(g,j,!0,{submission:C,replace:F}),{shortCircuited:!0}}if(An(j))throw at(400,{type:"defer-action"});if(yt(j)){let F=ar(x,U.route.id);return(W&&W.replace)!==!0&&(N=Ae.Push),{matches:x,pendingActionResult:[F.route.id,j]}}return{matches:x,pendingActionResult:[U.route.id,j]}}async function Yy(g,E,C,x,L,W,K,j,U,F,z){let G=L||su(E,W),ee=W||K||_p(G),Ve=!Le&&(!c.v7_partialHydration||!U);if(x){if(Ve){let Ie=bf(z);nt(ve({navigation:G},Ie!==void 0?{actionData:Ie}:{}),{flushSync:F})}let ne=await wo(C,E.pathname,g.signal);if(ne.type==="aborted")return{shortCircuited:!0};if(ne.type==="error"){let Ie=ar(ne.partialMatches).route.id;return{matches:ne.partialMatches,loaderData:{},errors:{[Ie]:ne.error}}}else if(ne.matches)C=ne.matches;else{let{error:Ie,notFoundMatches:Or,route:Oi}=xa(E.pathname);return{matches:Or,loaderData:{},errors:{[Oi.id]:Ie}}}}let de=l||o,[ie,ke]=lp(t.history,y,C,ee,E,c.v7_partialHydration&&U===!0,c.v7_skipActionErrorRevalidation,_t,Gt,Qt,Re,$e,Q,de,a,z);if(Ra(ne=>!(C&&C.some(Ie=>Ie.route.id===ne))||ie&&ie.some(Ie=>Ie.route.id===ne)),V=++$,ie.length===0&&ke.length===0){let ne=Uf();return Lr(E,ve({matches:C,loaderData:{},errors:z&&yt(z[1])?{[z[0]]:z[1].error}:null},pp(z),ne?{fetchers:new Map(y.fetchers)}:{}),{flushSync:F}),{shortCircuited:!0}}if(Ve){let ne={};if(!x){ne.navigation=G;let Ie=bf(z);Ie!==void 0&&(ne.actionData=Ie)}ke.length>0&&(ne.fetchers=qy(ke)),nt(ne,{flushSync:F})}ke.forEach(ne=>{Cn(ne.key),ne.controller&&A.set(ne.key,ne.controller)});let br=()=>ke.forEach(ne=>Cn(ne.key));M&&M.signal.addEventListener("abort",br);let{loaderResults:Li,fetcherResults:sn}=await Of(y,C,ie,ke,g);if(g.signal.aborted)return{shortCircuited:!0};M&&M.signal.removeEventListener("abort",br),ke.forEach(ne=>A.delete(ne.key));let Yt=zo(Li);if(Yt)return await tr(g,Yt.result,!0,{replace:j}),{shortCircuited:!0};if(Yt=zo(sn),Yt)return Q.add(Yt.key),await tr(g,Yt.result,!0,{replace:j}),{shortCircuited:!0};let{loaderData:Pa,errors:bi}=fp(y,C,Li,z,ke,sn,tt);tt.forEach((ne,Ie)=>{ne.subscribe(Or=>{(Or||ne.done)&&tt.delete(Ie)})}),c.v7_partialHydration&&U&&y.errors&&(bi=ve({},y.errors,bi));let nr=Uf(),Eo=zf(V),So=nr||Eo||ke.length>0;return ve({matches:C,loaderData:Pa,errors:bi},So?{fetchers:new Map(y.fetchers)}:{})}function bf(g){if(g&&!yt(g[1]))return{[g[0]]:g[1].data};if(y.actionData)return Object.keys(y.actionData).length===0?null:y.actionData}function qy(g){return g.forEach(E=>{let C=y.fetchers.get(E.key),x=Ki(void 0,C?C.data:void 0);y.fetchers.set(E.key,x)}),new Map(y.fetchers)}function Xy(g,E,C,x){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");Cn(g);let L=(x&&x.flushSync)===!0,W=l||o,K=pc(y.location,y.matches,a,c.v7_prependBasename,C,c.v7_relativeSplatPath,E,x==null?void 0:x.relative),j=lr(W,K,a),U=yo(j,W,K);if(U.active&&U.matches&&(j=U.matches),!j){rn(g,E,at(404,{pathname:K}),{flushSync:L});return}let{path:F,submission:z,error:G}=sp(c.v7_normalizeFormMethod,!0,K,x);if(G){rn(g,E,G,{flushSync:L});return}let ee=is(j,F),Ve=(x&&x.preventScrollReset)===!0;if(z&&Ft(z.formMethod)){Jy(g,E,F,ee,j,U.active,L,Ve,z);return}$e.set(g,{routeId:E,path:F}),Zy(g,E,F,ee,j,U.active,L,Ve,z)}async function Jy(g,E,C,x,L,W,K,j,U){Na(),$e.delete(g);function F(De){if(!De.route.action&&!De.route.lazy){let Fr=at(405,{method:U.formMethod,pathname:C,routeId:E});return rn(g,E,Fr,{flushSync:K}),!0}return!1}if(!W&&F(x))return;let z=y.fetchers.get(g);Sn(g,xS(U,z),{flushSync:K});let G=new AbortController,ee=Ur(t.history,C,G.signal,U);if(W){let De=await wo(L,new URL(ee.url).pathname,ee.signal,g);if(De.type==="aborted")return;if(De.type==="error"){rn(g,E,De.error,{flushSync:K});return}else if(De.matches){if(L=De.matches,x=is(L,C),F(x))return}else{rn(g,E,at(404,{pathname:C}),{flushSync:K});return}}A.set(g,G);let Ve=$,ie=(await Mi("action",y,ee,[x],L,g))[x.route.id];if(ee.signal.aborted){A.get(g)===G&&A.delete(g);return}if(c.v7_fetcherPersist&&Re.has(g)){if(fr(ie)||yt(ie)){Sn(g,In(void 0));return}}else{if(fr(ie))if(A.delete(g),V>Ve){Sn(g,In(void 0));return}else return Q.add(g),Sn(g,Ki(U)),tr(ee,ie,!1,{fetcherSubmission:U,preventScrollReset:j});if(yt(ie)){rn(g,E,ie.error);return}}if(An(ie))throw at(400,{type:"defer-action"});let ke=y.navigation.location||y.location,br=Ur(t.history,ke,G.signal),Li=l||o,sn=y.navigation.state!=="idle"?lr(Li,y.navigation.location,a):y.matches;Z(sn,"Didn't find any matches after fetcher action");let Yt=++$;re.set(g,Yt);let Pa=Ki(U,ie.data);y.fetchers.set(g,Pa);let[bi,nr]=lp(t.history,y,sn,U,ke,!1,c.v7_skipActionErrorRevalidation,_t,Gt,Qt,Re,$e,Q,Li,a,[x.route.id,ie]);nr.filter(De=>De.key!==g).forEach(De=>{let Fr=De.key,Vf=y.fetchers.get(Fr),ow=Ki(void 0,Vf?Vf.data:void 0);y.fetchers.set(Fr,ow),Cn(Fr),De.controller&&A.set(Fr,De.controller)}),nt({fetchers:new Map(y.fetchers)});let Eo=()=>nr.forEach(De=>Cn(De.key));G.signal.addEventListener("abort",Eo);let{loaderResults:So,fetcherResults:ne}=await Of(y,sn,bi,nr,br);if(G.signal.aborted)return;G.signal.removeEventListener("abort",Eo),re.delete(g),A.delete(g),nr.forEach(De=>A.delete(De.key));let Ie=zo(So);if(Ie)return tr(br,Ie.result,!1,{preventScrollReset:j});if(Ie=zo(ne),Ie)return Q.add(Ie.key),tr(br,Ie.result,!1,{preventScrollReset:j});let{loaderData:Or,errors:Oi}=fp(y,sn,So,void 0,nr,ne,tt);if(y.fetchers.has(g)){let De=In(ie.data);y.fetchers.set(g,De)}zf(Yt),y.navigation.state==="loading"&&Yt>V?(Z(N,"Expected pending action"),M&&M.abort(),Lr(y.navigation.location,{matches:sn,loaderData:Or,errors:Oi,fetchers:new Map(y.fetchers)})):(nt({errors:Oi,loaderData:hp(y.loaderData,Or,sn,Oi),fetchers:new Map(y.fetchers)}),_t=!1)}async function Zy(g,E,C,x,L,W,K,j,U){let F=y.fetchers.get(g);Sn(g,Ki(U,F?F.data:void 0),{flushSync:K});let z=new AbortController,G=Ur(t.history,C,z.signal);if(W){let ie=await wo(L,new URL(G.url).pathname,G.signal,g);if(ie.type==="aborted")return;if(ie.type==="error"){rn(g,E,ie.error,{flushSync:K});return}else if(ie.matches)L=ie.matches,x=is(L,C);else{rn(g,E,at(404,{pathname:C}),{flushSync:K});return}}A.set(g,z);let ee=$,de=(await Mi("loader",y,G,[x],L,g))[x.route.id];if(An(de)&&(de=await Bd(de,G.signal,!0)||de),A.get(g)===z&&A.delete(g),!G.signal.aborted){if(Re.has(g)){Sn(g,In(void 0));return}if(fr(de))if(V>ee){Sn(g,In(void 0));return}else{Q.add(g),await tr(G,de,!1,{preventScrollReset:j});return}if(yt(de)){rn(g,E,de.error);return}Z(!An(de),"Unhandled fetcher deferred data"),Sn(g,In(de.data))}}async function tr(g,E,C,x){let{submission:L,fetcherSubmission:W,preventScrollReset:K,replace:j}=x===void 0?{}:x;E.response.headers.has("X-Remix-Revalidate")&&(_t=!0);let U=E.response.headers.get("Location");Z(U,"Expected a Location header on the redirect Response"),U=cp(U,new URL(g.url),a);let F=Us(y.location,U,{_isRedirect:!0});if(n){let ie=!1;if(E.response.headers.has("X-Remix-Reload-Document"))ie=!0;else if(zd.test(U)){const ke=t.history.createURL(U);ie=ke.origin!==e.location.origin||Ni(ke.pathname,a)==null}if(ie){j?e.location.replace(U):e.location.assign(U);return}}M=null;let z=j===!0||E.response.headers.has("X-Remix-Replace")?Ae.Replace:Ae.Push,{formMethod:G,formAction:ee,formEncType:Ve}=y.navigation;!L&&!W&&G&&ee&&Ve&&(L=_p(y.navigation));let de=L||W;if(aS.has(E.response.status)&&de&&Ft(de.formMethod))await er(z,F,{submission:ve({},de,{formAction:U}),preventScrollReset:K||B,enableViewTransition:C?oe:void 0});else{let ie=su(F,L);await er(z,F,{overrideNavigation:ie,fetcherSubmission:W,preventScrollReset:K||B,enableViewTransition:C?oe:void 0})}}async function Mi(g,E,C,x,L,W){let K,j={};try{K=await gS(u,g,E,C,x,L,W,s,i)}catch(U){return x.forEach(F=>{j[F.route.id]={type:le.error,error:U}}),j}for(let[U,F]of Object.entries(K))if(SS(F)){let z=F.result;j[U]={type:le.redirect,response:yS(z,C,U,L,a,c.v7_relativeSplatPath)}}else j[U]=await vS(F);return j}async function Of(g,E,C,x,L){let W=g.matches,K=Mi("loader",g,L,C,E,null),j=Promise.all(x.map(async z=>{if(z.matches&&z.match&&z.controller){let ee=(await Mi("loader",g,Ur(t.history,z.path,z.controller.signal),[z.match],z.matches,z.key))[z.match.route.id];return{[z.key]:ee}}else return Promise.resolve({[z.key]:{type:le.error,error:at(404,{pathname:z.path})}})})),U=await K,F=(await j).reduce((z,G)=>Object.assign(z,G),{});return await Promise.all([IS(E,U,L.signal,W,g.loaderData),TS(E,F,x)]),{loaderResults:U,fetcherResults:F}}function Na(){_t=!0,Gt.push(...Ra()),$e.forEach((g,E)=>{A.has(E)&&Qt.add(E),Cn(E)})}function Sn(g,E,C){C===void 0&&(C={}),y.fetchers.set(g,E),nt({fetchers:new Map(y.fetchers)},{flushSync:(C&&C.flushSync)===!0})}function rn(g,E,C,x){x===void 0&&(x={});let L=ar(y.matches,E);_o(g),nt({errors:{[L.route.id]:C},fetchers:new Map(y.fetchers)},{flushSync:(x&&x.flushSync)===!0})}function Ff(g){return je.set(g,(je.get(g)||0)+1),Re.has(g)&&Re.delete(g),y.fetchers.get(g)||uS}function _o(g){let E=y.fetchers.get(g);A.has(g)&&!(E&&E.state==="loading"&&re.has(g))&&Cn(g),$e.delete(g),re.delete(g),Q.delete(g),c.v7_fetcherPersist&&Re.delete(g),Qt.delete(g),y.fetchers.delete(g)}function ew(g){let E=(je.get(g)||0)-1;E<=0?(je.delete(g),Re.add(g),c.v7_fetcherPersist||_o(g)):je.set(g,E),nt({fetchers:new Map(y.fetchers)})}function Cn(g){let E=A.get(g);E&&(E.abort(),A.delete(g))}function jf(g){for(let E of g){let C=Ff(E),x=In(C.data);y.fetchers.set(E,x)}}function Uf(){let g=[],E=!1;for(let C of Q){let x=y.fetchers.get(C);Z(x,"Expected fetcher: "+C),x.state==="loading"&&(Q.delete(C),g.push(C),E=!0)}return jf(g),E}function zf(g){let E=[];for(let[C,x]of re)if(x<g){let L=y.fetchers.get(C);Z(L,"Expected fetcher: "+C),L.state==="loading"&&(Cn(C),re.delete(C),E.push(C))}return jf(E),E.length>0}function tw(g,E){let C=y.blockers.get(g)||Vi;return It.get(g)!==E&&It.set(g,E),C}function Bf(g){y.blockers.delete(g),It.delete(g)}function vo(g,E){let C=y.blockers.get(g)||Vi;Z(C.state==="unblocked"&&E.state==="blocked"||C.state==="blocked"&&E.state==="blocked"||C.state==="blocked"&&E.state==="proceeding"||C.state==="blocked"&&E.state==="unblocked"||C.state==="proceeding"&&E.state==="unblocked","Invalid blocker state transition: "+C.state+" -> "+E.state);let x=new Map(y.blockers);x.set(g,E),nt({blockers:x})}function Wf(g){let{currentLocation:E,nextLocation:C,historyAction:x}=g;if(It.size===0)return;It.size>1&&vi(!1,"A router only supports one blocker at a time");let L=Array.from(It.entries()),[W,K]=L[L.length-1],j=y.blockers.get(W);if(!(j&&j.state==="proceeding")&&K({currentLocation:E,nextLocation:C,historyAction:x}))return W}function xa(g){let E=at(404,{pathname:g}),C=l||o,{matches:x,route:L}=mp(C);return Ra(),{notFoundMatches:x,route:L,error:E}}function Ra(g){let E=[];return tt.forEach((C,x)=>{(!g||g(x))&&(C.cancel(),E.push(x),tt.delete(x))}),E}function nw(g,E,C){if(v=g,T=E,w=C||null,!m&&y.navigation===iu){m=!0;let x=$f(y.location,y.matches);x!=null&&nt({restoreScrollPosition:x})}return()=>{v=null,T=null,w=null}}function Hf(g,E){return w&&w(g,E.map(x=>zE(x,y.loaderData)))||g.key}function rw(g,E){if(v&&T){let C=Hf(g,E);v[C]=T()}}function $f(g,E){if(v){let C=Hf(g,E),x=v[C];if(typeof x=="number")return x}return null}function yo(g,E,C){if(d)if(g){if(Object.keys(g[0].params).length>0)return{active:!0,matches:rl(E,C,a,!0)}}else return{active:!0,matches:rl(E,C,a,!0)||[]};return{active:!1,matches:null}}async function wo(g,E,C,x){if(!d)return{type:"success",matches:g};let L=g;for(;;){let W=l==null,K=l||o,j=s;try{await d({signal:C,path:E,matches:L,fetcherKey:x,patch:(z,G)=>{C.aborted||up(z,G,K,j,i)}})}catch(z){return{type:"error",error:z,partialMatches:L}}finally{W&&!C.aborted&&(o=[...o])}if(C.aborted)return{type:"aborted"};let U=lr(K,E,a);if(U)return{type:"success",matches:U};let F=rl(K,E,a,!0);if(!F||L.length===F.length&&L.every((z,G)=>z.route.id===F[G].route.id))return{type:"success",matches:null};L=F}}function iw(g){s={},l=Pl(g,i,void 0,s)}function sw(g,E){let C=l==null;up(g,E,l||o,s,i),C&&(o=[...o],nt({}))}return b={get basename(){return a},get future(){return c},get state(){return y},get routes(){return o},get window(){return e},initialize:$y,subscribe:Ky,enableScrollRestoration:nw,navigate:Lf,fetch:Xy,revalidate:Gy,createHref:g=>t.history.createHref(g),encodeLocation:g=>t.history.encodeLocation(g),getFetcher:Ff,deleteFetcher:ew,dispose:Vy,getBlocker:tw,deleteBlocker:Bf,patchRoutes:sw,_internalFetchControllers:A,_internalActiveDeferreds:tt,_internalSetRoutes:iw},b}function fS(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function pc(t,e,n,r,i,s,o,l){let a,u;if(o){a=[];for(let c of e)if(a.push(c),c.route.id===o){u=c;break}}else a=e,u=e[e.length-1];let d=Ud(i||".",jd(a,s),Ni(t.pathname,n)||t.pathname,l==="path");if(i==null&&(d.search=t.search,d.hash=t.hash),(i==null||i===""||i===".")&&u){let c=Wd(d.search);if(u.route.index&&!c)d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index";else if(!u.route.index&&c){let f=new URLSearchParams(d.search),p=f.getAll("index");f.delete("index"),p.filter(w=>w).forEach(w=>f.append("index",w));let v=f.toString();d.search=v?"?"+v:""}}return r&&n!=="/"&&(d.pathname=d.pathname==="/"?n:fn([n,d.pathname])),Er(d)}function sp(t,e,n,r){if(!r||!fS(r))return{path:n};if(r.formMethod&&!kS(r.formMethod))return{path:n,error:at(405,{method:r.formMethod})};let i=()=>({path:n,error:at(400,{type:"invalid-body"})}),s=r.formMethod||"get",o=t?s.toUpperCase():s.toLowerCase(),l=X_(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!Ft(o))return i();let f=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((p,v)=>{let[w,T]=v;return""+p+w+"="+T+`
`},""):String(r.body);return{path:n,submission:{formMethod:o,formAction:l,formEncType:r.formEncType,formData:void 0,json:void 0,text:f}}}else if(r.formEncType==="application/json"){if(!Ft(o))return i();try{let f=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:o,formAction:l,formEncType:r.formEncType,formData:void 0,json:f,text:void 0}}}catch{return i()}}}Z(typeof FormData=="function","FormData is not available in this environment");let a,u;if(r.formData)a=gc(r.formData),u=r.formData;else if(r.body instanceof FormData)a=gc(r.body),u=r.body;else if(r.body instanceof URLSearchParams)a=r.body,u=dp(a);else if(r.body==null)a=new URLSearchParams,u=new FormData;else try{a=new URLSearchParams(r.body),u=dp(a)}catch{return i()}let d={formMethod:o,formAction:l,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:u,json:void 0,text:void 0};if(Ft(d.formMethod))return{path:n,submission:d};let c=Jn(n);return e&&c.search&&Wd(c.search)&&a.append("index",""),c.search="?"+a,{path:Er(c),submission:d}}function op(t,e,n){n===void 0&&(n=!1);let r=t.findIndex(i=>i.route.id===e);return r>=0?t.slice(0,n?r+1:r):t}function lp(t,e,n,r,i,s,o,l,a,u,d,c,f,p,v,w){let T=w?yt(w[1])?w[1].error:w[1].data:void 0,m=t.createURL(e.location),h=t.createURL(i),_=n;s&&e.errors?_=op(n,Object.keys(e.errors)[0],!0):w&&yt(w[1])&&(_=op(n,w[0]));let k=w?w[1].statusCode:void 0,R=o&&k&&k>=400,b=_.filter((N,B)=>{let{route:M}=N;if(M.lazy)return!0;if(M.loader==null)return!1;if(s)return mc(M,e.loaderData,e.errors);if(hS(e.loaderData,e.matches[B],N)||a.some(xe=>xe===N.route.id))return!0;let oe=e.matches[B],ue=N;return ap(N,ve({currentUrl:m,currentParams:oe.params,nextUrl:h,nextParams:ue.params},r,{actionResult:T,actionStatus:k,defaultShouldRevalidate:R?!1:l||m.pathname+m.search===h.pathname+h.search||m.search!==h.search||Y_(oe,ue)}))}),y=[];return c.forEach((N,B)=>{if(s||!n.some(Le=>Le.route.id===N.routeId)||d.has(B))return;let M=lr(p,N.path,v);if(!M){y.push({key:B,routeId:N.routeId,path:N.path,matches:null,match:null,controller:null});return}let oe=e.fetchers.get(B),ue=is(M,N.path),xe=!1;f.has(B)?xe=!1:u.has(B)?(u.delete(B),xe=!0):oe&&oe.state!=="idle"&&oe.data===void 0?xe=l:xe=ap(ue,ve({currentUrl:m,currentParams:e.matches[e.matches.length-1].params,nextUrl:h,nextParams:n[n.length-1].params},r,{actionResult:T,actionStatus:k,defaultShouldRevalidate:R?!1:l})),xe&&y.push({key:B,routeId:N.routeId,path:N.path,matches:M,match:ue,controller:new AbortController})}),[b,y]}function mc(t,e,n){if(t.lazy)return!0;if(!t.loader)return!1;let r=e!=null&&e[t.id]!==void 0,i=n!=null&&n[t.id]!==void 0;return!r&&i?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!r&&!i}function hS(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function Y_(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function ap(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function up(t,e,n,r,i){var s;let o;if(t){let u=r[t];Z(u,"No route found to patch children into: routeId = "+t),u.children||(u.children=[]),o=u.children}else o=n;let l=e.filter(u=>!o.some(d=>q_(u,d))),a=Pl(l,i,[t||"_","patch",String(((s=o)==null?void 0:s.length)||"0")],r);o.push(...a)}function q_(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((n,r)=>{var i;return(i=e.children)==null?void 0:i.some(s=>q_(n,s))}):!1}async function pS(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];Z(i,"No route found in manifest");let s={};for(let o in r){let a=i[o]!==void 0&&o!=="hasErrorBoundary";vi(!a,'Route "'+i.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!a&&!jE.has(o)&&(s[o]=r[o])}Object.assign(i,s),Object.assign(i,ve({},e(i),{lazy:void 0}))}async function mS(t){let{matches:e}=t,n=e.filter(i=>i.shouldLoad);return(await Promise.all(n.map(i=>i.resolve()))).reduce((i,s,o)=>Object.assign(i,{[n[o].route.id]:s}),{})}async function gS(t,e,n,r,i,s,o,l,a,u){let d=s.map(p=>p.route.lazy?pS(p.route,a,l):void 0),c=s.map((p,v)=>{let w=d[v],T=i.some(h=>h.route.id===p.route.id);return ve({},p,{shouldLoad:T,resolve:async h=>(h&&r.method==="GET"&&(p.route.lazy||p.route.loader)&&(T=!0),T?_S(e,r,p,w,h,u):Promise.resolve({type:le.data,result:void 0}))})}),f=await t({matches:c,request:r,params:s[0].params,fetcherKey:o,context:u});try{await Promise.all(d)}catch{}return f}async function _S(t,e,n,r,i,s){let o,l,a=u=>{let d,c=new Promise((v,w)=>d=w);l=()=>d(),e.signal.addEventListener("abort",l);let f=v=>typeof u!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+n.route.id+"]"))):u({request:e,params:n.params,context:s},...v!==void 0?[v]:[]),p=(async()=>{try{return{type:"data",result:await(i?i(w=>f(w)):f())}}catch(v){return{type:"error",result:v}}})();return Promise.race([p,c])};try{let u=n.route[t];if(r)if(u){let d,[c]=await Promise.all([a(u).catch(f=>{d=f}),r]);if(d!==void 0)throw d;o=c}else if(await r,u=n.route[t],u)o=await a(u);else if(t==="action"){let d=new URL(e.url),c=d.pathname+d.search;throw at(405,{method:e.method,pathname:c,routeId:n.route.id})}else return{type:le.data,result:void 0};else if(u)o=await a(u);else{let d=new URL(e.url),c=d.pathname+d.search;throw at(404,{pathname:c})}Z(o.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(u){return{type:le.error,result:u}}finally{l&&e.signal.removeEventListener("abort",l)}return o}async function vS(t){let{result:e,type:n}=t;if(J_(e)){let c;try{let f=e.headers.get("Content-Type");f&&/\bapplication\/json\b/.test(f)?e.body==null?c=null:c=await e.json():c=await e.text()}catch(f){return{type:le.error,error:f}}return n===le.error?{type:le.error,error:new Dl(e.status,e.statusText,c),statusCode:e.status,headers:e.headers}:{type:le.data,data:c,statusCode:e.status,headers:e.headers}}if(n===le.error){if(gp(e)){var r,i;if(e.data instanceof Error){var s,o;return{type:le.error,error:e.data,statusCode:(s=e.init)==null?void 0:s.status,headers:(o=e.init)!=null&&o.headers?new Headers(e.init.headers):void 0}}return{type:le.error,error:new Dl(((r=e.init)==null?void 0:r.status)||500,void 0,e.data),statusCode:zs(e)?e.status:void 0,headers:(i=e.init)!=null&&i.headers?new Headers(e.init.headers):void 0}}return{type:le.error,error:e,statusCode:zs(e)?e.status:void 0}}if(CS(e)){var l,a;return{type:le.deferred,deferredData:e,statusCode:(l=e.init)==null?void 0:l.status,headers:((a=e.init)==null?void 0:a.headers)&&new Headers(e.init.headers)}}if(gp(e)){var u,d;return{type:le.data,data:e.data,statusCode:(u=e.init)==null?void 0:u.status,headers:(d=e.init)!=null&&d.headers?new Headers(e.init.headers):void 0}}return{type:le.data,data:e}}function yS(t,e,n,r,i,s){let o=t.headers.get("Location");if(Z(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!zd.test(o)){let l=r.slice(0,r.findIndex(a=>a.route.id===n)+1);o=pc(new URL(e.url),l,i,!0,o,s),t.headers.set("Location",o)}return t}function cp(t,e,n){if(zd.test(t)){let r=t,i=r.startsWith("//")?new URL(e.protocol+r):new URL(r),s=Ni(i.pathname,n)!=null;if(i.origin===e.origin&&s)return i.pathname+i.search+i.hash}return t}function Ur(t,e,n,r){let i=t.createURL(X_(e)).toString(),s={signal:n};if(r&&Ft(r.formMethod)){let{formMethod:o,formEncType:l}=r;s.method=o.toUpperCase(),l==="application/json"?(s.headers=new Headers({"Content-Type":l}),s.body=JSON.stringify(r.json)):l==="text/plain"?s.body=r.text:l==="application/x-www-form-urlencoded"&&r.formData?s.body=gc(r.formData):s.body=r.formData}return new Request(i,s)}function gc(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function dp(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function wS(t,e,n,r,i){let s={},o=null,l,a=!1,u={},d=n&&yt(n[1])?n[1].error:void 0;return t.forEach(c=>{if(!(c.route.id in e))return;let f=c.route.id,p=e[f];if(Z(!fr(p),"Cannot handle redirect results in processLoaderData"),yt(p)){let v=p.error;d!==void 0&&(v=d,d=void 0),o=o||{};{let w=ar(t,f);o[w.route.id]==null&&(o[w.route.id]=v)}s[f]=void 0,a||(a=!0,l=zs(p.error)?p.error.status:500),p.headers&&(u[f]=p.headers)}else An(p)?(r.set(f,p.deferredData),s[f]=p.deferredData.data,p.statusCode!=null&&p.statusCode!==200&&!a&&(l=p.statusCode),p.headers&&(u[f]=p.headers)):(s[f]=p.data,p.statusCode&&p.statusCode!==200&&!a&&(l=p.statusCode),p.headers&&(u[f]=p.headers))}),d!==void 0&&n&&(o={[n[0]]:d},s[n[0]]=void 0),{loaderData:s,errors:o,statusCode:l||200,loaderHeaders:u}}function fp(t,e,n,r,i,s,o){let{loaderData:l,errors:a}=wS(e,n,r,o);return i.forEach(u=>{let{key:d,match:c,controller:f}=u,p=s[d];if(Z(p,"Did not find corresponding fetcher result"),!(f&&f.signal.aborted))if(yt(p)){let v=ar(t.matches,c==null?void 0:c.route.id);a&&a[v.route.id]||(a=ve({},a,{[v.route.id]:p.error})),t.fetchers.delete(d)}else if(fr(p))Z(!1,"Unhandled fetcher revalidation redirect");else if(An(p))Z(!1,"Unhandled fetcher deferred data");else{let v=In(p.data);t.fetchers.set(d,v)}}),{loaderData:l,errors:a}}function hp(t,e,n,r){let i=ve({},e);for(let s of n){let o=s.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(i[o]=e[o]):t[o]!==void 0&&s.route.loader&&(i[o]=t[o]),r&&r.hasOwnProperty(o))break}return i}function pp(t){return t?yt(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function ar(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function mp(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function at(t,e){let{pathname:n,routeId:r,method:i,type:s,message:o}=e===void 0?{}:e,l="Unknown Server Error",a="Unknown @remix-run/router error";return t===400?(l="Bad Request",i&&n&&r?a="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":s==="defer-action"?a="defer() is not supported in actions":s==="invalid-body"&&(a="Unable to encode submission body")):t===403?(l="Forbidden",a='Route "'+r+'" does not match URL "'+n+'"'):t===404?(l="Not Found",a='No route matches URL "'+n+'"'):t===405&&(l="Method Not Allowed",i&&n&&r?a="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(a='Invalid request method "'+i.toUpperCase()+'"')),new Dl(t||500,l,new Error(a),!0)}function zo(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[r,i]=e[n];if(fr(i))return{key:r,result:i}}}function X_(t){let e=typeof t=="string"?Jn(t):t;return Er(ve({},e,{hash:""}))}function ES(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function SS(t){return J_(t.result)&&lS.has(t.result.status)}function An(t){return t.type===le.deferred}function yt(t){return t.type===le.error}function fr(t){return(t&&t.type)===le.redirect}function gp(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function CS(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function J_(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function kS(t){return oS.has(t.toLowerCase())}function Ft(t){return iS.has(t.toLowerCase())}async function IS(t,e,n,r,i){let s=Object.entries(e);for(let o=0;o<s.length;o++){let[l,a]=s[o],u=t.find(f=>(f==null?void 0:f.route.id)===l);if(!u)continue;let d=r.find(f=>f.route.id===u.route.id),c=d!=null&&!Y_(d,u)&&(i&&i[u.route.id])!==void 0;An(a)&&c&&await Bd(a,n,!1).then(f=>{f&&(e[l]=f)})}}async function TS(t,e,n){for(let r=0;r<n.length;r++){let{key:i,routeId:s,controller:o}=n[r],l=e[i];t.find(u=>(u==null?void 0:u.route.id)===s)&&An(l)&&(Z(o,"Expected an AbortController for revalidating fetcher deferred result"),await Bd(l,o.signal,!0).then(u=>{u&&(e[i]=u)}))}}async function Bd(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:le.data,data:t.deferredData.unwrappedData}}catch(i){return{type:le.error,error:i}}return{type:le.data,data:t.deferredData.data}}}function Wd(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function is(t,e){let n=typeof e=="string"?Jn(e).search:e.search;if(t[t.length-1].route.index&&Wd(n||""))return t[t.length-1];let r=K_(t);return r[r.length-1]}function _p(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:s,json:o}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:e,formAction:n,formEncType:r,formData:s,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function su(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function NS(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Ki(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function xS(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function In(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function RS(t,e){try{let n=t.sessionStorage.getItem(Q_);if(n){let r=JSON.parse(n);for(let[i,s]of Object.entries(r||{}))s&&Array.isArray(s)&&e.set(i,new Set(s||[]))}}catch{}}function PS(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem(Q_,JSON.stringify(n))}catch(r){vi(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Al(){return Al=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Al.apply(this,arguments)}const fa=S.createContext(null),Z_=S.createContext(null),Rr=S.createContext(null),Hd=S.createContext(null),Zn=S.createContext({outlet:null,matches:[],isDataRoute:!1}),ev=S.createContext(null);function DS(t,e){let{relative:n}=e===void 0?{}:e;so()||Z(!1);let{basename:r,navigator:i}=S.useContext(Rr),{hash:s,pathname:o,search:l}=nv(t,{relative:n}),a=o;return r!=="/"&&(a=o==="/"?r:fn([r,o])),i.createHref({pathname:a,search:l,hash:s})}function so(){return S.useContext(Hd)!=null}function oo(){return so()||Z(!1),S.useContext(Hd).location}function tv(t){S.useContext(Rr).static||S.useLayoutEffect(t)}function AS(){let{isDataRoute:t}=S.useContext(Zn);return t?KS():MS()}function MS(){so()||Z(!1);let t=S.useContext(fa),{basename:e,future:n,navigator:r}=S.useContext(Rr),{matches:i}=S.useContext(Zn),{pathname:s}=oo(),o=JSON.stringify(jd(i,n.v7_relativeSplatPath)),l=S.useRef(!1);return tv(()=>{l.current=!0}),S.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let c=Ud(u,JSON.parse(o),s,d.relative==="path");t==null&&e!=="/"&&(c.pathname=c.pathname==="/"?e:fn([e,c.pathname])),(d.replace?r.replace:r.push)(c,d.state,d)},[e,r,o,s,t])}const LS=S.createContext(null);function bS(t){let e=S.useContext(Zn).outlet;return e&&S.createElement(LS.Provider,{value:t},e)}function nv(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=S.useContext(Rr),{matches:i}=S.useContext(Zn),{pathname:s}=oo(),o=JSON.stringify(jd(i,r.v7_relativeSplatPath));return S.useMemo(()=>Ud(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function OS(t,e,n,r){so()||Z(!1);let{navigator:i}=S.useContext(Rr),{matches:s}=S.useContext(Zn),o=s[s.length-1],l=o?o.params:{};o&&o.pathname;let a=o?o.pathnameBase:"/";o&&o.route;let u=oo(),d;d=u;let c=d.pathname||"/",f=c;if(a!=="/"){let w=a.replace(/^\//,"").split("/");f="/"+c.replace(/^\//,"").split("/").slice(w.length).join("/")}let p=lr(t,{pathname:f});return BS(p&&p.map(w=>Object.assign({},w,{params:Object.assign({},l,w.params),pathname:fn([a,i.encodeLocation?i.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?a:fn([a,i.encodeLocation?i.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),s,n,r)}function FS(){let t=VS(),e=zs(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},e),n?S.createElement("pre",{style:i},n):null,null)}const jS=S.createElement(FS,null);class US extends S.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?S.createElement(Zn.Provider,{value:this.props.routeContext},S.createElement(ev.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function zS(t){let{routeContext:e,match:n,children:r}=t,i=S.useContext(fa);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),S.createElement(Zn.Provider,{value:e},r)}function BS(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,l=(i=n)==null?void 0:i.errors;if(l!=null){let d=o.findIndex(c=>c.route.id&&(l==null?void 0:l[c.route.id])!==void 0);d>=0||Z(!1),o=o.slice(0,Math.min(o.length,d+1))}let a=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let c=o[d];if((c.route.HydrateFallback||c.route.hydrateFallbackElement)&&(u=d),c.route.id){let{loaderData:f,errors:p}=n,v=c.route.loader&&f[c.route.id]===void 0&&(!p||p[c.route.id]===void 0);if(c.route.lazy||v){a=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,c,f)=>{let p,v=!1,w=null,T=null;n&&(p=l&&c.route.id?l[c.route.id]:void 0,w=c.route.errorElement||jS,a&&(u<0&&f===0?(GS("route-fallback"),v=!0,T=null):u===f&&(v=!0,T=c.route.hydrateFallbackElement||null)));let m=e.concat(o.slice(0,f+1)),h=()=>{let _;return p?_=w:v?_=T:c.route.Component?_=S.createElement(c.route.Component,null):c.route.element?_=c.route.element:_=d,S.createElement(zS,{match:c,routeContext:{outlet:d,matches:m,isDataRoute:n!=null},children:_})};return n&&(c.route.ErrorBoundary||c.route.errorElement||f===0)?S.createElement(US,{location:n.location,revalidation:n.revalidation,component:w,error:p,children:h(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):h()},null)}var rv=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(rv||{}),iv=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(iv||{});function WS(t){let e=S.useContext(fa);return e||Z(!1),e}function HS(t){let e=S.useContext(Z_);return e||Z(!1),e}function $S(t){let e=S.useContext(Zn);return e||Z(!1),e}function sv(t){let e=$S(),n=e.matches[e.matches.length-1];return n.route.id||Z(!1),n.route.id}function VS(){var t;let e=S.useContext(ev),n=HS(),r=sv();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function KS(){let{router:t}=WS(rv.UseNavigateStable),e=sv(iv.UseNavigateStable),n=S.useRef(!1);return tv(()=>{n.current=!0}),S.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Al({fromRouteId:e},s)))},[t,e])}const vp={};function GS(t,e,n){vp[t]||(vp[t]=!0)}function QS(t,e){t==null||t.v7_startTransition,(t==null?void 0:t.v7_relativeSplatPath)===void 0&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}function YS(t){return bS(t.context)}function qS(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Ae.Pop,navigator:s,static:o=!1,future:l}=t;so()&&Z(!1);let a=e.replace(/^\/*/,"/"),u=S.useMemo(()=>({basename:a,navigator:s,static:o,future:Al({v7_relativeSplatPath:!1},l)}),[a,l,s,o]);typeof r=="string"&&(r=Jn(r));let{pathname:d="/",search:c="",hash:f="",state:p=null,key:v="default"}=r,w=S.useMemo(()=>{let T=Ni(d,a);return T==null?null:{location:{pathname:T,search:c,hash:f,state:p,key:v},navigationType:i}},[a,d,c,f,p,v,i]);return w==null?null:S.createElement(Rr.Provider,{value:u},S.createElement(Hd.Provider,{children:n,value:w}))}new Promise(()=>{});function XS(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:S.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:S.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:S.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Bs(){return Bs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bs.apply(this,arguments)}function JS(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function ZS(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function eC(t,e){return t.button===0&&(!e||e==="_self")&&!ZS(t)}const tC=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],nC="6";try{window.__reactRouterVersion=nC}catch{}function rC(t,e){return dS({basename:e==null?void 0:e.basename,future:Bs({},e==null?void 0:e.future,{v7_prependBasename:!0}),history:bE({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||iC(),routes:t,mapRouteProperties:XS,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function iC(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=Bs({},e,{errors:sC(e.errors)})),e}function sC(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new Dl(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let o=new s(i.message);o.stack="",n[r]=o}catch{}}if(n[r]==null){let s=new Error(i.message);s.stack="",n[r]=s}}else n[r]=i;return n}const oC=S.createContext({isTransitioning:!1}),lC=S.createContext(new Map),aC="startTransition",yp=Sw[aC],uC="flushSync",wp=LE[uC];function cC(t){yp?yp(t):t()}function Gi(t){wp?wp(t):t()}let dC=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function fC(t){let{fallbackElement:e,router:n,future:r}=t,[i,s]=S.useState(n.state),[o,l]=S.useState(),[a,u]=S.useState({isTransitioning:!1}),[d,c]=S.useState(),[f,p]=S.useState(),[v,w]=S.useState(),T=S.useRef(new Map),{v7_startTransition:m}=r||{},h=S.useCallback(N=>{m?cC(N):N()},[m]),_=S.useCallback((N,B)=>{let{deletedFetchers:M,flushSync:oe,viewTransitionOpts:ue}=B;N.fetchers.forEach((Le,_t)=>{Le.data!==void 0&&T.current.set(_t,Le.data)}),M.forEach(Le=>T.current.delete(Le));let xe=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!ue||xe){oe?Gi(()=>s(N)):h(()=>s(N));return}if(oe){Gi(()=>{f&&(d&&d.resolve(),f.skipTransition()),u({isTransitioning:!0,flushSync:!0,currentLocation:ue.currentLocation,nextLocation:ue.nextLocation})});let Le=n.window.document.startViewTransition(()=>{Gi(()=>s(N))});Le.finished.finally(()=>{Gi(()=>{c(void 0),p(void 0),l(void 0),u({isTransitioning:!1})})}),Gi(()=>p(Le));return}f?(d&&d.resolve(),f.skipTransition(),w({state:N,currentLocation:ue.currentLocation,nextLocation:ue.nextLocation})):(l(N),u({isTransitioning:!0,flushSync:!1,currentLocation:ue.currentLocation,nextLocation:ue.nextLocation}))},[n.window,f,d,T,h]);S.useLayoutEffect(()=>n.subscribe(_),[n,_]),S.useEffect(()=>{a.isTransitioning&&!a.flushSync&&c(new dC)},[a]),S.useEffect(()=>{if(d&&o&&n.window){let N=o,B=d.promise,M=n.window.document.startViewTransition(async()=>{h(()=>s(N)),await B});M.finished.finally(()=>{c(void 0),p(void 0),l(void 0),u({isTransitioning:!1})}),p(M)}},[h,o,d,n.window]),S.useEffect(()=>{d&&o&&i.location.key===o.location.key&&d.resolve()},[d,f,i.location,o]),S.useEffect(()=>{!a.isTransitioning&&v&&(l(v.state),u({isTransitioning:!0,flushSync:!1,currentLocation:v.currentLocation,nextLocation:v.nextLocation}),w(void 0))},[a.isTransitioning,v]),S.useEffect(()=>{},[]);let k=S.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:N=>n.navigate(N),push:(N,B,M)=>n.navigate(N,{state:B,preventScrollReset:M==null?void 0:M.preventScrollReset}),replace:(N,B,M)=>n.navigate(N,{replace:!0,state:B,preventScrollReset:M==null?void 0:M.preventScrollReset})}),[n]),R=n.basename||"/",b=S.useMemo(()=>({router:n,navigator:k,static:!1,basename:R}),[n,k,R]),y=S.useMemo(()=>({v7_relativeSplatPath:n.future.v7_relativeSplatPath}),[n.future.v7_relativeSplatPath]);return S.useEffect(()=>QS(r,n.future),[r,n.future]),S.createElement(S.Fragment,null,S.createElement(fa.Provider,{value:b},S.createElement(Z_.Provider,{value:i},S.createElement(lC.Provider,{value:T.current},S.createElement(oC.Provider,{value:a},S.createElement(qS,{basename:R,location:i.location,navigationType:i.historyAction,navigator:k,future:y},i.initialized||n.future.v7_partialHydration?S.createElement(hC,{routes:n.routes,future:n.future,state:i}):e))))),null)}const hC=S.memo(pC);function pC(t){let{routes:e,future:n,state:r}=t;return OS(e,void 0,r,n)}const mC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",gC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_C=S.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:l,target:a,to:u,preventScrollReset:d,viewTransition:c}=e,f=JS(e,tC),{basename:p}=S.useContext(Rr),v,w=!1;if(typeof u=="string"&&gC.test(u)&&(v=u,mC))try{let _=new URL(window.location.href),k=u.startsWith("//")?new URL(_.protocol+u):new URL(u),R=Ni(k.pathname,p);k.origin===_.origin&&R!=null?u=R+k.search+k.hash:w=!0}catch{}let T=DS(u,{relative:i}),m=vC(u,{replace:o,state:l,target:a,preventScrollReset:d,relative:i,viewTransition:c});function h(_){r&&r(_),_.defaultPrevented||m(_)}return S.createElement("a",Bs({},f,{href:v||T,onClick:w||s?r:h,ref:n,target:a}))});var Ep;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Ep||(Ep={}));var Sp;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Sp||(Sp={}));function vC(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:l}=e===void 0?{}:e,a=AS(),u=oo(),d=nv(t,{relative:o});return S.useCallback(c=>{if(eC(c,n)){c.preventDefault();let f=r!==void 0?r:Er(u)===Er(d);a(t,{replace:f,state:i,preventScrollReset:s,relative:o,viewTransition:l})}},[u,a,d,r,i,n,t,s,o,l])}const yC=[{to:"/issue",label:"Issue Ticket"},{to:"/draw",label:"Draw Dashboard"}];function wC(){const t=oo();return I.jsxs("div",{className:"app-shell",children:[I.jsxs("header",{className:"app-header",children:[I.jsx("h1",{children:"Lotto645 Simulator"}),I.jsx("nav",{children:I.jsx("ul",{children:yC.map(e=>I.jsx("li",{className:t.pathname.startsWith(e.to)?"active":"",children:I.jsx(_C,{to:e.to,children:e.label})},e.to))})})]}),I.jsx("main",{className:"app-main",children:I.jsx(YS,{})}),I.jsx("footer",{className:"app-footer",children:"Prototype scaffolding  replace with real UI during implementation."})]})}const EC=7;function SC(t,e=45){const n=[];let r=t;for(;r<=e;){const i=[];for(let s=0;s<EC;s++)r<=e&&(i.push(r),r++);n.push(i)}return n}function CC({selection:t,disabled:e=!1,minNumber:n=1}){const r=S.useMemo(()=>SC(n),[n]);return I.jsx("table",{className:"number-grid",role:"grid","aria-label":" ",children:I.jsx("tbody",{children:r.map((i,s)=>I.jsx("tr",{role:"row",children:i.map(o=>{const l=t.isSelected(o),a=e||!l&&!t.canSelectMore;return I.jsx("td",{children:I.jsx("button",{type:"button",role:"gridcell",className:`number-grid__button${l?" is-selected":""}`,"aria-pressed":l,"aria-disabled":a,disabled:a,onClick:()=>{a||t.toggleNumber(o)},"data-testid":`number-button-${o}`,children:o})},o)})},`row-${s}`))})})}function kC({selection:t,helperText:e,errorMessage:n,placeholderText:r=" ."}){const i=t.selectedNumbers.length>0;return I.jsxs("section",{className:"selection-summary","aria-live":"polite","data-testid":"number-selection-summary",children:[I.jsx("p",{className:"selection-summary__label",children:"  :"}),I.jsx("div",{className:"selection-summary__box",children:i?t.selectedNumbers.map(s=>I.jsx("span",{className:"selection-summary__number","data-testid":"selected-number-chip",children:s},s)):I.jsx("span",{className:"selection-summary__placeholder",children:r})}),e?I.jsx("p",{className:"selection-summary__helper",children:e}):null,n?I.jsx("p",{className:"selection-summary__error",children:n}):null]})}function IC({index:t,selection:e,onAutoSelect:n,isAutoSelecting:r,disabled:i,autoSelectError:s}){const o=` ${e.selectedNumbers.length} / 6 `;return I.jsxs("div",{className:"ticket-set",children:[I.jsxs("div",{className:"ticket-set__header",children:[I.jsxs("span",{className:"ticket-set__label",children:[t+1," "]}),I.jsx("button",{type:"button",className:"ticket-set__auto-select",onClick:n,disabled:!e.canSelectMore||r||i,"data-testid":`auto-select-button-${t}`,children:r?" ":""})]}),I.jsx("div",{className:"ticket-set__grid-wrapper",children:I.jsx(CC,{selection:e,disabled:i})}),I.jsx(kC,{selection:e,helperText:o,errorMessage:s??void 0})]})}const Ut=6,ov=1,lv=45,oi=Ut,av=ov,uv=lv;function Cp(t){const e=new Set;for(const n of t){const r=Number(n);if(Number.isInteger(r)&&!(r<av||r>uv)&&(e.add(r),e.size>=oi))break}return Array.from(e).sort((n,r)=>n-r)}function ou(){const[t,e]=S.useState([]),n=oi-t.length,r=n>0,i=t.length===oi,s=S.useCallback(u=>{e(d=>!Number.isInteger(u)||u<av||u>uv?d:d.includes(u)?d.filter(c=>c!==u):d.length>=oi?d:Cp([...d,u]))},[]),o=S.useCallback(u=>{e(Cp(u))},[]),l=S.useCallback(()=>{e([])},[]),a=S.useCallback(u=>t.includes(u),[t]);return S.useMemo(()=>({selectedNumbers:t,remainingSlots:n,canSelectMore:r,isComplete:i,toggleNumber:s,isSelected:a,reset:l,setSelection:o}),[t,n,r,i,s,a,l,o])}const cv=1,$d=45,TC=6,NC=8;function dv(){const t=globalThis.crypto??globalThis.msCrypto;if(!t||typeof t.getRandomValues!="function")throw new Error("[drawRng] Web Crypto API is not available in this environment");return t}function kp(){const t=dv(),e=new Uint32Array(1);return t.getRandomValues(e),e[0]}function _c(t=cv,e=$d){if(e<t)throw new Error("[drawRng] max must be greater than or equal to min");const n=e-t+1,r=Math.floor(4294967295/n)*n;let i=kp();for(;i>=r;)i=kp();return t+i%n}function xC(){const t=dv(),e=new Uint8Array(NC);t.getRandomValues(e);const n=Array.from(e).map(r=>r.toString(16).padStart(2,"0")).join("");return`${new Date().toISOString()}-${n}`}function RC(t,e){if(t<=0)return[];const n=(e==null?void 0:e.min)??cv,r=(e==null?void 0:e.max)??$d;if(r-n+1<t)throw new Error("[drawRng] Range too small to satisfy unique number request");const s=new Set((e==null?void 0:e.exclude)??[]),o=new Set;for(;o.size<t;){const l=_c(n,r);!s.has(l)&&!o.has(l)&&o.add(l)}return Array.from(o).sort((l,a)=>l-a)}function PC(t,e=TC){const n=Array.from(new Set(t));if(n.length>e)throw new Error("[drawRng] Base selection exceeds target size");const r=e-n.length,i=RC(r,{exclude:n});return Array.from(new Set([...n,...i])).sort((s,o)=>s-o)}function DC(t){const e=new Set(t);if(e.size>=$d)throw new Error("[drawRng] All numbers in range already drawn");let n=_c();for(;e.has(n);)n=_c();return n}function lu(t,e){const{selectedNumbers:n,setSelection:r}=t,[i,s]=S.useState(!1),[o,l]=S.useState(null),a=n.length<oi,u=S.useCallback(()=>{var c,f;if(!a)return n;s(!0);try{const p=PC(n,oi);return r(p),l(null),(c=e==null?void 0:e.onComplete)==null||c.call(e,p),p}catch(p){throw l(p),(f=e==null?void 0:e.onError)==null||f.call(e,p),p}finally{s(!1)}},[a,e,n,r]),d=S.useCallback(()=>{l(null)},[]);return{isAutoSelecting:i,canAutoSelect:a,error:o,autoSelect:u,resetError:d}}const AC=()=>{};var Ip={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fv={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D=function(t,e){if(!t)throw xi(e)},xi=function(t){return new Error("Firebase Database ("+fv.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hv=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},MC=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],l=t[n++],a=((i&7)<<18|(s&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(a>>10)),e[r++]=String.fromCharCode(56320+(a&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Vd={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,l=o?t[i+1]:0,a=i+2<t.length,u=a?t[i+2]:0,d=s>>2,c=(s&3)<<4|l>>4;let f=(l&15)<<2|u>>6,p=u&63;a||(p=64,o||(f=64)),r.push(n[d],n[c],n[f],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(hv(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):MC(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const c=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||l==null||u==null||c==null)throw new LC;const f=s<<2|l>>4;if(r.push(f),u!==64){const p=l<<4&240|u>>2;if(r.push(p),c!==64){const v=u<<6&192|c;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class LC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const pv=function(t){const e=hv(t);return Vd.encodeByteArray(e,!0)},Ml=function(t){return pv(t).replace(/\./g,"")},vc=function(t){try{return Vd.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bC(t){return mv(void 0,t)}function mv(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!OC(n)||(t[n]=mv(t[n],e[n]));return t}function OC(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jC=()=>FC().__FIREBASE_DEFAULTS__,UC=()=>{if(typeof process>"u"||typeof Ip>"u")return;const t=Ip.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},zC=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&vc(t[1]);return e&&JSON.parse(e)},gv=()=>{try{return AC()||jC()||UC()||zC()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},BC=t=>{var e,n;return(n=(e=gv())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},WC=t=>{const e=BC(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},_v=()=>{var t;return(t=gv())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kd(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function HC(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $C(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Ml(JSON.stringify(n)),Ml(JSON.stringify(o)),""].join(".")}const ms={};function VC(){const t={prod:[],emulator:[]};for(const e of Object.keys(ms))ms[e]?t.emulator.push(e):t.prod.push(e);return t}function KC(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Tp=!1;function GC(t,e){if(typeof window>"u"||typeof document>"u"||!Kd(window.location.host)||ms[t]===e||ms[t]||Tp)return;ms[t]=e;function n(f){return`__firebase__banner__${f}`}const r="__firebase__banner",s=VC().prod.length>0;function o(){const f=document.getElementById(r);f&&f.remove()}function l(f){f.style.display="flex",f.style.background="#7faaf0",f.style.position="fixed",f.style.bottom="5px",f.style.left="5px",f.style.padding=".5em",f.style.borderRadius="5px",f.style.alignItems="center"}function a(f,p){f.setAttribute("width","24"),f.setAttribute("id",p),f.setAttribute("height","24"),f.setAttribute("viewBox","0 0 24 24"),f.setAttribute("fill","none"),f.style.marginLeft="-6px"}function u(){const f=document.createElement("span");return f.style.cursor="pointer",f.style.marginLeft="16px",f.style.fontSize="24px",f.innerHTML=" &times;",f.onclick=()=>{Tp=!0,o()},f}function d(f,p){f.setAttribute("id",p),f.innerText="Learn more",f.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",f.setAttribute("target","__blank"),f.style.paddingLeft="5px",f.style.textDecoration="underline"}function c(){const f=KC(r),p=n("text"),v=document.getElementById(p)||document.createElement("span"),w=n("learnmore"),T=document.getElementById(w)||document.createElement("a"),m=n("preprendIcon"),h=document.getElementById(m)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(f.created){const _=f.element;l(_),d(T,w);const k=u();a(h,m),_.append(h,v,T,k),document.body.appendChild(_)}s?(v.innerText="Preview backend disconnected.",h.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(h.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,v.innerText="Preview backend running in this workspace."),v.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",c):c()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QC(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function vv(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(QC())}function YC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function qC(){return fv.NODE_ADMIN===!0}function XC(){try{return typeof indexedDB=="object"}catch{return!1}}function JC(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZC="FirebaseError";class lo extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=ZC,Object.setPrototypeOf(this,lo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,yv.prototype.create)}}class yv{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?e1(s,r):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new lo(i,l,r)}}function e1(t,e){return t.replace(t1,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const t1=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ws(t){return JSON.parse(t)}function We(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wv=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=Ws(vc(s[0])||""),n=Ws(vc(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},n1=function(t){const e=wv(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},r1=function(t){const e=wv(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kt(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Sr(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Np(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ll(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function bl(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(xp(s)&&xp(o)){if(!bl(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function xp(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i1(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s1{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let c=0;c<16;c++)r[c]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let c=0;c<16;c++)r[c]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let c=16;c<80;c++){const f=r[c-3]^r[c-8]^r[c-14]^r[c-16];r[c]=(f<<1|f>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],l=this.chain_[3],a=this.chain_[4],u,d;for(let c=0;c<80;c++){c<40?c<20?(u=l^s&(o^l),d=1518500249):(u=s^o^l,d=1859775393):c<60?(u=s&o|l&(s|o),d=2400959708):(u=s^o^l,d=3395469782);const f=(i<<5|i>>>27)+u+a+d+r[c]&4294967295;a=l,l=o,o=(s<<30|s>>>2)&4294967295,s=i,i=f}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+a&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function ha(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o1=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,D(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},pa=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pr(t){return t&&t._delegate?t._delegate:t}class Hs{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Ri;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(u1(e))try{this.getOrInitializeService({instanceIdentifier:sr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=sr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=sr){return this.instances.has(e)}getOptions(e=sr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:a1(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=sr){return this.component?this.component.multipleInstances?e:sr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function a1(t){return t===sr?void 0:t}function u1(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new l1(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var he;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(he||(he={}));const d1={debug:he.DEBUG,verbose:he.VERBOSE,info:he.INFO,warn:he.WARN,error:he.ERROR,silent:he.SILENT},f1=he.INFO,h1={[he.DEBUG]:"log",[he.VERBOSE]:"log",[he.INFO]:"info",[he.WARN]:"warn",[he.ERROR]:"error"},p1=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=h1[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ev{constructor(e){this.name=e,this._logLevel=f1,this._logHandler=p1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in he))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?d1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,he.DEBUG,...e),this._logHandler(this,he.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,he.VERBOSE,...e),this._logHandler(this,he.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,he.INFO,...e),this._logHandler(this,he.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,he.WARN,...e),this._logHandler(this,he.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,he.ERROR,...e),this._logHandler(this,he.ERROR,...e)}}const m1=(t,e)=>e.some(n=>t instanceof n);let Rp,Pp;function g1(){return Rp||(Rp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function _1(){return Pp||(Pp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Sv=new WeakMap,yc=new WeakMap,Cv=new WeakMap,au=new WeakMap,Gd=new WeakMap;function v1(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Wn(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Sv.set(n,t)}).catch(()=>{}),Gd.set(e,t),e}function y1(t){if(yc.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});yc.set(t,e)}let wc={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return yc.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Cv.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Wn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function w1(t){wc=t(wc)}function E1(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(uu(this),e,...n);return Cv.set(r,e.sort?e.sort():[e]),Wn(r)}:_1().includes(t)?function(...e){return t.apply(uu(this),e),Wn(Sv.get(this))}:function(...e){return Wn(t.apply(uu(this),e))}}function S1(t){return typeof t=="function"?E1(t):(t instanceof IDBTransaction&&y1(t),m1(t,g1())?new Proxy(t,wc):t)}function Wn(t){if(t instanceof IDBRequest)return v1(t);if(au.has(t))return au.get(t);const e=S1(t);return e!==t&&(au.set(t,e),Gd.set(e,t)),e}const uu=t=>Gd.get(t);function C1(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),l=Wn(o);return r&&o.addEventListener("upgradeneeded",a=>{r(Wn(o.result),a.oldVersion,a.newVersion,Wn(o.transaction),a)}),n&&o.addEventListener("blocked",a=>n(a.oldVersion,a.newVersion,a)),l.then(a=>{s&&a.addEventListener("close",()=>s()),i&&a.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}const k1=["get","getKey","getAll","getAllKeys","count"],I1=["put","add","delete","clear"],cu=new Map;function Dp(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(cu.get(e))return cu.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=I1.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||k1.includes(n)))return;const s=async function(o,...l){const a=this.transaction(o,i?"readwrite":"readonly");let u=a.store;return r&&(u=u.index(l.shift())),(await Promise.all([u[n](...l),i&&a.done]))[0]};return cu.set(e,s),s}w1(t=>({...t,get:(e,n,r)=>Dp(e,n)||t.get(e,n,r),has:(e,n)=>!!Dp(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(N1(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function N1(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ec="@firebase/app",Ap="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vn=new Ev("@firebase/app"),x1="@firebase/app-compat",R1="@firebase/analytics-compat",P1="@firebase/analytics",D1="@firebase/app-check-compat",A1="@firebase/app-check",M1="@firebase/auth",L1="@firebase/auth-compat",b1="@firebase/database",O1="@firebase/data-connect",F1="@firebase/database-compat",j1="@firebase/functions",U1="@firebase/functions-compat",z1="@firebase/installations",B1="@firebase/installations-compat",W1="@firebase/messaging",H1="@firebase/messaging-compat",$1="@firebase/performance",V1="@firebase/performance-compat",K1="@firebase/remote-config",G1="@firebase/remote-config-compat",Q1="@firebase/storage",Y1="@firebase/storage-compat",q1="@firebase/firestore",X1="@firebase/ai",J1="@firebase/firestore-compat",Z1="firebase",ek="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sc="[DEFAULT]",tk={[Ec]:"fire-core",[x1]:"fire-core-compat",[P1]:"fire-analytics",[R1]:"fire-analytics-compat",[A1]:"fire-app-check",[D1]:"fire-app-check-compat",[M1]:"fire-auth",[L1]:"fire-auth-compat",[b1]:"fire-rtdb",[O1]:"fire-data-connect",[F1]:"fire-rtdb-compat",[j1]:"fire-fn",[U1]:"fire-fn-compat",[z1]:"fire-iid",[B1]:"fire-iid-compat",[W1]:"fire-fcm",[H1]:"fire-fcm-compat",[$1]:"fire-perf",[V1]:"fire-perf-compat",[K1]:"fire-rc",[G1]:"fire-rc-compat",[Q1]:"fire-gcs",[Y1]:"fire-gcs-compat",[q1]:"fire-fst",[J1]:"fire-fst-compat",[X1]:"fire-vertex","fire-js":"fire-js",[Z1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $s=new Map,nk=new Map,Cc=new Map;function Mp(t,e){try{t.container.addComponent(e)}catch(n){vn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ol(t){const e=t.name;if(Cc.has(e))return vn.debug(`There were multiple attempts to register component ${e}.`),!1;Cc.set(e,t);for(const n of $s.values())Mp(n,t);for(const n of nk.values())Mp(n,t);return!0}function rk(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ik(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sk={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Hn=new yv("app","Firebase",sk);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ok{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Hs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Hn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lk=ek;function kv(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Sc,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw Hn.create("bad-app-name",{appName:String(i)});if(n||(n=_v()),!n)throw Hn.create("no-options");const s=$s.get(i);if(s){if(bl(n,s.options)&&bl(r,s.config))return s;throw Hn.create("duplicate-app",{appName:i})}const o=new c1(i);for(const a of Cc.values())o.addComponent(a);const l=new ok(n,r,o);return $s.set(i,l),l}function Iv(t=Sc){const e=$s.get(t);if(!e&&t===Sc&&_v())return kv();if(!e)throw Hn.create("no-app",{appName:t});return e}function ak(){return Array.from($s.values())}function li(t,e,n){var r;let i=(r=tk[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const l=[`Unable to register library "${i}" with version "${e}":`];s&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),vn.warn(l.join(" "));return}Ol(new Hs(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uk="firebase-heartbeat-database",ck=1,Vs="firebase-heartbeat-store";let du=null;function Tv(){return du||(du=C1(uk,ck,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Vs)}catch(n){console.warn(n)}}}}).catch(t=>{throw Hn.create("idb-open",{originalErrorMessage:t.message})})),du}async function dk(t){try{const n=(await Tv()).transaction(Vs),r=await n.objectStore(Vs).get(Nv(t));return await n.done,r}catch(e){if(e instanceof lo)vn.warn(e.message);else{const n=Hn.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});vn.warn(n.message)}}}async function Lp(t,e){try{const r=(await Tv()).transaction(Vs,"readwrite");await r.objectStore(Vs).put(e,Nv(t)),await r.done}catch(n){if(n instanceof lo)vn.warn(n.message);else{const r=Hn.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});vn.warn(r.message)}}}function Nv(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fk=1024,hk=30;class pk{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new gk(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=bp();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>hk){const o=_k(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){vn.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=bp(),{heartbeatsToSend:r,unsentEntries:i}=mk(this._heartbeatsCache.heartbeats),s=Ml(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return vn.warn(n),""}}}function bp(){return new Date().toISOString().substring(0,10)}function mk(t,e=fk){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Op(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Op(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class gk{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return XC()?JC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await dk(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Lp(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Lp(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Op(t){return Ml(JSON.stringify({version:2,heartbeats:t})).length}function _k(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vk(t){Ol(new Hs("platform-logger",e=>new T1(e),"PRIVATE")),Ol(new Hs("heartbeat",e=>new pk(e),"PRIVATE")),li(Ec,Ap,t),li(Ec,Ap,"esm2017"),li("fire-js","")}vk("");var Fp={};const jp="@firebase/database",Up="1.0.20";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xv="";function yk(t){xv=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wk{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),We(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Ws(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ek{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Kt(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rv=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new wk(e)}}catch{}return new Ek},hr=Rv("localStorage"),Sk=Rv("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ai=new Ev("@firebase/database"),Pv=function(){let t=1;return function(){return t++}}(),Dv=function(t){const e=o1(t),n=new s1;n.update(e);const r=n.digest();return Vd.encodeByteArray(r)},ao=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=ao.apply(null,r):typeof r=="object"?e+=We(r):e+=r,e+=" "}return e};let gs=null,zp=!0;const Ck=function(t,e){D(!0,"Can't turn on custom loggers persistently."),ai.logLevel=he.VERBOSE,gs=ai.log.bind(ai)},Ge=function(...t){if(zp===!0&&(zp=!1,gs===null&&Sk.get("logging_enabled")===!0&&Ck()),gs){const e=ao.apply(null,t);gs(e)}},uo=function(t){return function(...e){Ge(t,...e)}},kc=function(...t){const e="FIREBASE INTERNAL ERROR: "+ao(...t);ai.error(e)},yn=function(...t){const e=`FIREBASE FATAL ERROR: ${ao(...t)}`;throw ai.error(e),new Error(e)},st=function(...t){const e="FIREBASE WARNING: "+ao(...t);ai.warn(e)},kk=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&st("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Qd=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},Ik=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},yi="[MIN_NAME]",Cr="[MAX_NAME]",Dr=function(t,e){if(t===e)return 0;if(t===yi||e===Cr)return-1;if(e===yi||t===Cr)return 1;{const n=Bp(t),r=Bp(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},Tk=function(t,e){return t===e?0:t<e?-1:1},Qi=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+We(e))},Yd=function(t){if(typeof t!="object"||t===null)return We(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=We(e[r]),n+=":",n+=Yd(t[e[r]]);return n+="}",n},Av=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function qe(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const Mv=function(t){D(!Qd(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,s,o,l,a;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(l=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=l+r,o=Math.round(t*Math.pow(2,n-l)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));const u=[];for(a=n;a;a-=1)u.push(o%2?1:0),o=Math.floor(o/2);for(a=e;a;a-=1)u.push(s%2?1:0),s=Math.floor(s/2);u.push(i?1:0),u.reverse();const d=u.join("");let c="";for(a=0;a<64;a+=8){let f=parseInt(d.substr(a,8),2).toString(16);f.length===1&&(f="0"+f),c=c+f}return c.toLowerCase()},Nk=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},xk=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function Rk(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const Pk=new RegExp("^-?(0*)\\d{1,10}$"),Dk=-2147483648,Ak=2147483647,Bp=function(t){if(Pk.test(t)){const e=Number(t);if(e>=Dk&&e<=Ak)return e}return null},Pi=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw st("Exception was thrown by user callback.",n),e},Math.floor(0))}},Mk=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},_s=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lk{constructor(e,n){this.appCheckProvider=n,this.appName=e.name,ik(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){st(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bk{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Ge("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',st(e)}}class il{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}il.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qd="5",Lv="v",bv="s",Ov="r",Fv="f",jv=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Uv="ls",zv="p",Ic="ac",Bv="websocket",Wv="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hv{constructor(e,n,r,i,s=!1,o="",l=!1,a=!1,u=null){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=l,this.isUsingEmulator=a,this.emulatorOptions=u,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=hr.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&hr.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function Ok(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function $v(t,e,n){D(typeof e=="string","typeof type must == string"),D(typeof n=="object","typeof params must == object");let r;if(e===Bv)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===Wv)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);Ok(t)&&(n.ns=t.namespace);const i=[];return qe(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fk{constructor(){this.counters_={}}incrementCounter(e,n=1){Kt(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return bC(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fu={},hu={};function Xd(t){const e=t.toString();return fu[e]||(fu[e]=new Fk),fu[e]}function jk(t,e){const n=t.toString();return hu[n]||(hu[n]=e()),hu[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uk{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Pi(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wp="start",zk="close",Bk="pLPCommand",Wk="pRTLPCB",Vv="id",Kv="pw",Gv="ser",Hk="cb",$k="seg",Vk="ts",Kk="d",Gk="dframe",Qv=1870,Yv=30,Qk=Qv-Yv,Yk=25e3,qk=3e4;class Zr{constructor(e,n,r,i,s,o,l){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=l,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=uo(e),this.stats_=Xd(n),this.urlFn=a=>(this.appCheckToken&&(a[Ic]=this.appCheckToken),$v(n,Wv,a))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new Uk(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(qk)),Ik(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Jd((...s)=>{const[o,l,a,u,d]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===Wp)this.id=l,this.password=a;else if(o===zk)l?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(l,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,l]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,l)},()=>{this.onClosed_()},this.urlFn);const r={};r[Wp]="t",r[Gv]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[Hk]=this.scriptTagHolder.uniqueCallbackIdentifier),r[Lv]=qd,this.transportSessionId&&(r[bv]=this.transportSessionId),this.lastSessionId&&(r[Uv]=this.lastSessionId),this.applicationId&&(r[zv]=this.applicationId),this.appCheckToken&&(r[Ic]=this.appCheckToken),typeof location<"u"&&location.hostname&&jv.test(location.hostname)&&(r[Ov]=Fv);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Zr.forceAllow_=!0}static forceDisallow(){Zr.forceDisallow_=!0}static isAvailable(){return Zr.forceAllow_?!0:!Zr.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!Nk()&&!xk()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=We(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=pv(n),i=Av(r,Qk);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[Gk]="t",r[Vv]=e,r[Kv]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=We(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Jd{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=Pv(),window[Bk+this.uniqueCallbackIdentifier]=e,window[Wk+this.uniqueCallbackIdentifier]=n,this.myIFrame=Jd.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(l){Ge("frame writing exception"),l.stack&&Ge(l.stack),Ge(l)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Ge("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[Vv]=this.myID,e[Kv]=this.myPW,e[Gv]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Yv+r.length<=Qv;){const o=this.pendingSegs.shift();r=r+"&"+$k+i+"="+o.seg+"&"+Vk+i+"="+o.ts+"&"+Kk+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(Yk)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Ge("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xk=16384,Jk=45e3;let Fl=null;typeof MozWebSocket<"u"?Fl=MozWebSocket:typeof WebSocket<"u"&&(Fl=WebSocket);class zt{constructor(e,n,r,i,s,o,l){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=uo(this.connId),this.stats_=Xd(n),this.connURL=zt.connectionURL_(n,o,l,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,s){const o={};return o[Lv]=qd,typeof location<"u"&&location.hostname&&jv.test(location.hostname)&&(o[Ov]=Fv),n&&(o[bv]=n),r&&(o[Uv]=r),i&&(o[Ic]=i),s&&(o[zv]=s),$v(e,Bv,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,hr.set("previous_websocket_failure",!0);try{let r;qC(),this.mySock=new Fl(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){zt.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&Fl!==null&&!zt.forceDisallow_}static previouslyFailed(){return hr.isInMemoryStorage||hr.get("previous_websocket_failure")===!0}markConnectionHealthy(){hr.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=Ws(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(D(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=We(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=Av(n,Xk);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(Jk))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}zt.responsesRequiredToBeHealthy=2;zt.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{static get ALL_TRANSPORTS(){return[Zr,zt]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=zt&&zt.isAvailable();let r=n&&!zt.previouslyFailed();if(e.webSocketOnly&&(n||st("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[zt];else{const i=this.transports_=[];for(const s of Ks.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);Ks.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Ks.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zk=6e4,eI=5e3,tI=10*1024,nI=100*1024,pu="t",Hp="d",rI="s",$p="r",iI="e",Vp="o",Kp="a",Gp="n",Qp="p",sI="h";class oI{constructor(e,n,r,i,s,o,l,a,u,d){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=l,this.onDisconnect_=a,this.onKill_=u,this.lastSessionId=d,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=uo("c:"+this.id+":"),this.transportManager_=new Ks(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=_s(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>nI?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>tI?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(pu in e){const n=e[pu];n===Kp?this.upgradeIfSecondaryHealthy_():n===$p?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===Vp&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Qi("t",e),r=Qi("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Qp,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Kp,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Gp,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Qi("t",e),r=Qi("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Qi(pu,e);if(Hp in e){const r=e[Hp];if(n===sI){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===Gp){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===rI?this.onConnectionShutdown_(r):n===$p?this.onReset_(r):n===iI?kc("Server Error: "+r):n===Vp?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):kc("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),qd!==r&&st("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),_s(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(Zk))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):_s(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(eI))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Qp,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(hr.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qv{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xv{constructor(e){this.allowedEvents_=e,this.listeners_={},D(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){D(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl extends Xv{static getInstance(){return new jl}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!vv()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return D(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yp=32,qp=768;class ce{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function se(){return new ce("")}function Y(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Gn(t){return t.pieces_.length-t.pieceNum_}function pe(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new ce(t.pieces_,e)}function Zd(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function lI(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function Gs(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function Jv(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new ce(e,0)}function Ne(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof ce)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new ce(n,0)}function X(t){return t.pieceNum_>=t.pieces_.length}function dt(t,e){const n=Y(t),r=Y(e);if(n===null)return e;if(n===r)return dt(pe(t),pe(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function aI(t,e){const n=Gs(t,0),r=Gs(e,0);for(let i=0;i<n.length&&i<r.length;i++){const s=Dr(n[i],r[i]);if(s!==0)return s}return n.length===r.length?0:n.length<r.length?-1:1}function ef(t,e){if(Gn(t)!==Gn(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Rt(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Gn(t)>Gn(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class uI{constructor(e,n){this.errorPrefix_=n,this.parts_=Gs(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=pa(this.parts_[r]);Zv(this)}}function cI(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=pa(e),Zv(t)}function dI(t){const e=t.parts_.pop();t.byteLength_-=pa(e),t.parts_.length>0&&(t.byteLength_-=1)}function Zv(t){if(t.byteLength_>qp)throw new Error(t.errorPrefix_+"has a key path longer than "+qp+" bytes ("+t.byteLength_+").");if(t.parts_.length>Yp)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Yp+") or object contains a cycle "+or(t))}function or(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf extends Xv{static getInstance(){return new tf}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(e){return D(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yi=1e3,fI=60*5*1e3,Xp=30*1e3,hI=1.3,pI=3e4,mI="server_kill",Jp=3;class hn extends qv{constructor(e,n,r,i,s,o,l,a){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=l,this.authOverride_=a,this.id=hn.nextPersistentConnectionId_++,this.log_=uo("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Yi,this.maxReconnectDelay_=fI,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,a)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");tf.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&jl.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,s={r:i,a:e,b:n};this.log_(We(s)),D(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new Ri,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const l=o.d;o.s==="ok"?n.resolve(l):n.reject(l)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,r,i){this.initConnection_();const s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),D(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),D(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const l={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(o).set(s,l),this.connected_&&this.sendListen_(l)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(o,s,l=>{const a=l.d,u=l.s;hn.warnOnListenWarnings_(a,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",l),u!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(u,a))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Kt(e,"w")){const r=Sr(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();st(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||r1(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Xp)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=n1(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),D(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const s={p:e},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,s){this.initConnection_();const o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+We(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):kc("Unrecognized action received from server: "+We(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){D(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Yi,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Yi,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>pI&&(this.reconnectDelay_=Yi),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*hI)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+hn.nextConnectionId_++,s=this.lastSessionId;let o=!1,l=null;const a=function(){l?l.close():(o=!0,r())},u=function(c){D(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(c)};this.realtime_={close:a,sendRequest:u};const d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[c,f]=await Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);o?Ge("getToken() completed but was canceled"):(Ge("getToken() completed. Creating connection."),this.authToken_=c&&c.accessToken,this.appCheckToken_=f&&f.token,l=new oI(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,p=>{st(p+" ("+this.repoInfo_.toString()+")"),this.interrupt(mI)},s))}catch(c){this.log_("Failed to get token: "+c),o||(this.repoInfo_.nodeAdmin&&st(c),a())}}}interrupt(e){Ge("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Ge("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Np(this.interruptReasons_)&&(this.reconnectDelay_=Yi,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(s=>Yd(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new ce(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){Ge("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Jp&&(this.reconnectDelay_=Xp,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Ge("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Jp&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+xv.replace(/\./g,"-")]=1,vv()?e["framework.cordova"]=1:YC()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=jl.getInstance().currentlyOnline();return Np(this.interruptReasons_)&&e}}hn.nextPersistentConnectionId_=0;hn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new q(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new q(yi,e),i=new q(yi,n);return this.compare(r,i)!==0}minPost(){return q.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bo;class ey extends ma{static get __EMPTY_NODE(){return Bo}static set __EMPTY_NODE(e){Bo=e}compare(e,n){return Dr(e.name,n.name)}isDefinedOn(e){throw xi("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return q.MIN}maxPost(){return new q(Cr,Bo)}makePost(e,n){return D(typeof e=="string","KeyIndex indexValue must always be a string."),new q(e,Bo)}toString(){return".key"}}const ui=new ey;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Be{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Be.RED,this.left=i??ft.EMPTY_NODE,this.right=s??ft.EMPTY_NODE}copy(e,n,r,i,s){return new Be(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return ft.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return ft.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Be.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Be.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Be.RED=!0;Be.BLACK=!1;class gI{copy(e,n,r,i,s){return this}insert(e,n,r){return new Be(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class ft{constructor(e,n=ft.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new ft(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Be.BLACK,null,null))}remove(e){return new ft(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Be.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Wo(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Wo(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Wo(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Wo(this.root_,null,this.comparator_,!0,e)}}ft.EMPTY_NODE=new gI;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _I(t,e){return Dr(t.name,e.name)}function nf(t,e){return Dr(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tc;function vI(t){Tc=t}const ty=function(t){return typeof t=="number"?"number:"+Mv(t):"string:"+t},ny=function(t){if(t.isLeafNode()){const e=t.val();D(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Kt(e,".sv"),"Priority must be a string or number.")}else D(t===Tc||t.isEmpty(),"priority of unexpected type.");D(t===Tc||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zp;class Ue{static set __childrenNodeConstructor(e){Zp=e}static get __childrenNodeConstructor(){return Zp}constructor(e,n=Ue.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,D(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),ny(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Ue(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Ue.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return X(e)?this:Y(e)===".priority"?this.priorityNode_:Ue.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Ue.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=Y(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(D(r!==".priority"||Gn(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Ue.__childrenNodeConstructor.EMPTY_NODE.updateChild(pe(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+ty(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=Mv(this.value_):e+=this.value_,this.lazyHash_=Dv(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Ue.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Ue.__childrenNodeConstructor?-1:(D(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=Ue.VALUE_TYPE_ORDER.indexOf(n),s=Ue.VALUE_TYPE_ORDER.indexOf(r);return D(i>=0,"Unknown leaf type: "+n),D(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Ue.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ry,iy;function yI(t){ry=t}function wI(t){iy=t}class EI extends ma{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?Dr(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return q.MIN}maxPost(){return new q(Cr,new Ue("[PRIORITY-POST]",iy))}makePost(e,n){const r=ry(e);return new q(n,new Ue("[PRIORITY-POST]",r))}toString(){return".priority"}}const Ee=new EI;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SI=Math.log(2);class CI{constructor(e){const n=s=>parseInt(Math.log(s)/SI,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Ul=function(t,e,n,r){t.sort(e);const i=function(a,u){const d=u-a;let c,f;if(d===0)return null;if(d===1)return c=t[a],f=n?n(c):c,new Be(f,c.node,Be.BLACK,null,null);{const p=parseInt(d/2,10)+a,v=i(a,p),w=i(p+1,u);return c=t[p],f=n?n(c):c,new Be(f,c.node,Be.BLACK,v,w)}},s=function(a){let u=null,d=null,c=t.length;const f=function(v,w){const T=c-v,m=c;c-=v;const h=i(T+1,m),_=t[T],k=n?n(_):_;p(new Be(k,_.node,w,null,h))},p=function(v){u?(u.left=v,u=v):(d=v,u=v)};for(let v=0;v<a.count;++v){const w=a.nextBitIsOne(),T=Math.pow(2,a.count-(v+1));w?f(T,Be.BLACK):(f(T,Be.BLACK),f(T,Be.RED))}return d},o=new CI(t.length),l=s(o);return new ft(r||e,l)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mu;const zr={};class cn{static get Default(){return D(zr&&Ee,"ChildrenNode.ts has not been loaded"),mu=mu||new cn({".priority":zr},{".priority":Ee}),mu}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=Sr(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof ft?n:null}hasIndex(e){return Kt(this.indexSet_,e.toString())}addIndex(e,n){D(e!==ui,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(q.Wrap);let o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let l;i?l=Ul(r,e.getCompare()):l=zr;const a=e.toString(),u=Object.assign({},this.indexSet_);u[a]=e;const d=Object.assign({},this.indexes_);return d[a]=l,new cn(d,u)}addToIndexes(e,n){const r=Ll(this.indexes_,(i,s)=>{const o=Sr(this.indexSet_,s);if(D(o,"Missing index implementation for "+s),i===zr)if(o.isDefinedOn(e.node)){const l=[],a=n.getIterator(q.Wrap);let u=a.getNext();for(;u;)u.name!==e.name&&l.push(u),u=a.getNext();return l.push(e),Ul(l,o.getCompare())}else return zr;else{const l=n.get(e.name);let a=i;return l&&(a=a.remove(new q(e.name,l))),a.insert(e,e.node)}});return new cn(r,this.indexSet_)}removeFromIndexes(e,n){const r=Ll(this.indexes_,i=>{if(i===zr)return i;{const s=n.get(e.name);return s?i.remove(new q(e.name,s)):i}});return new cn(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qi;class H{static get EMPTY_NODE(){return qi||(qi=new H(new ft(nf),null,cn.Default))}constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&ny(this.priorityNode_),this.children_.isEmpty()&&D(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||qi}updatePriority(e){return this.children_.isEmpty()?this:new H(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?qi:n}}getChild(e){const n=Y(e);return n===null?this:this.getImmediateChild(n).getChild(pe(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(D(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new q(e,n);let i,s;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?qi:this.priorityNode_;return new H(i,o,s)}}updateChild(e,n){const r=Y(e);if(r===null)return n;{D(Y(e)!==".priority"||Gn(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(pe(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(Ee,(o,l)=>{n[o]=l.val(e),r++,s&&H.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!e&&s&&i<2*r){const o=[];for(const l in n)o[l]=n[l];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+ty(this.getPriority().val())+":"),this.forEachChild(Ee,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":Dv(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new q(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new q(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new q(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,q.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,q.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===co?-1:0}withIndex(e){if(e===ui||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new H(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===ui||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(Ee),i=n.getIterator(Ee);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===ui?null:this.indexMap_.get(e.toString())}}H.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class kI extends H{constructor(){super(new ft(nf),H.EMPTY_NODE,cn.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return H.EMPTY_NODE}isEmpty(){return!1}}const co=new kI;Object.defineProperties(q,{MIN:{value:new q(yi,H.EMPTY_NODE)},MAX:{value:new q(Cr,co)}});ey.__EMPTY_NODE=H.EMPTY_NODE;Ue.__childrenNodeConstructor=H;vI(co);wI(co);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const II=!0;function Oe(t,e=null){if(t===null)return H.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),D(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Ue(n,Oe(e))}if(!(t instanceof Array)&&II){const n=[];let r=!1;if(qe(t,(o,l)=>{if(o.substring(0,1)!=="."){const a=Oe(l);a.isEmpty()||(r=r||!a.getPriority().isEmpty(),n.push(new q(o,a)))}}),n.length===0)return H.EMPTY_NODE;const s=Ul(n,_I,o=>o.name,nf);if(r){const o=Ul(n,Ee.getCompare());return new H(s,Oe(e),new cn({".priority":o},{".priority":Ee}))}else return new H(s,Oe(e),cn.Default)}else{let n=H.EMPTY_NODE;return qe(t,(r,i)=>{if(Kt(t,r)&&r.substring(0,1)!=="."){const s=Oe(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(Oe(e))}}yI(Oe);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI extends ma{constructor(e){super(),this.indexPath_=e,D(!X(e)&&Y(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?Dr(e.name,n.name):s}makePost(e,n){const r=Oe(e),i=H.EMPTY_NODE.updateChild(this.indexPath_,r);return new q(n,i)}maxPost(){const e=H.EMPTY_NODE.updateChild(this.indexPath_,co);return new q(Cr,e)}toString(){return Gs(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI extends ma{compare(e,n){const r=e.node.compareTo(n.node);return r===0?Dr(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return q.MIN}maxPost(){return q.MAX}makePost(e,n){const r=Oe(e);return new q(n,r)}toString(){return".value"}}const xI=new NI;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sy(t){return{type:"value",snapshotNode:t}}function wi(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Qs(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Ys(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function RI(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(e){this.index_=e}updateChild(e,n,r,i,s,o){D(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const l=e.getImmediateChild(n);return l.getChild(i).equals(r.getChild(i))&&l.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?e.hasChild(n)?o.trackChildChange(Qs(n,l)):D(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):l.isEmpty()?o.trackChildChange(wi(n,r)):o.trackChildChange(Ys(n,r,l))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(Ee,(i,s)=>{n.hasChild(i)||r.trackChildChange(Qs(i,s))}),n.isLeafNode()||n.forEachChild(Ee,(i,s)=>{if(e.hasChild(i)){const o=e.getImmediateChild(i);o.equals(s)||r.trackChildChange(Ys(i,s,o))}else r.trackChildChange(wi(i,s))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?H.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(e){this.indexedFilter_=new rf(e.getIndex()),this.index_=e.getIndex(),this.startPost_=qs.getStartPost_(e),this.endPost_=qs.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,s,o){return this.matches(new q(n,r))||(r=H.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,s,o)}updateFullNode(e,n,r){n.isLeafNode()&&(n=H.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(H.EMPTY_NODE);const s=this;return n.forEachChild(Ee,(o,l)=>{s.matches(new q(o,l))||(i=i.updateImmediateChild(o,H.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PI{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new qs(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,s,o){return this.rangedFilter_.matches(new q(n,r))||(r=H.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,s,o):this.fullLimitUpdateChild_(e,n,r,s,o)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=H.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=H.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const l=s.getNext();if(this.withinDirectionalStart(l))if(this.withinDirectionalEnd(l))i=i.updateImmediateChild(l.name,l.node),o++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(H.EMPTY_NODE);let s;this.reverse_?s=i.getReverseIterator(this.index_):s=i.getIterator(this.index_);let o=0;for(;s.hasNext();){const l=s.getNext();o<this.limit_&&this.withinDirectionalStart(l)&&this.withinDirectionalEnd(l)?o++:i=i.updateImmediateChild(l.name,H.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,s){let o;if(this.reverse_){const c=this.index_.getCompare();o=(f,p)=>c(p,f)}else o=this.index_.getCompare();const l=e;D(l.numChildren()===this.limit_,"");const a=new q(n,r),u=this.reverse_?l.getFirstChild(this.index_):l.getLastChild(this.index_),d=this.rangedFilter_.matches(a);if(l.hasChild(n)){const c=l.getImmediateChild(n);let f=i.getChildAfterChild(this.index_,u,this.reverse_);for(;f!=null&&(f.name===n||l.hasChild(f.name));)f=i.getChildAfterChild(this.index_,f,this.reverse_);const p=f==null?1:o(f,a);if(d&&!r.isEmpty()&&p>=0)return s!=null&&s.trackChildChange(Ys(n,r,c)),l.updateImmediateChild(n,r);{s!=null&&s.trackChildChange(Qs(n,c));const w=l.updateImmediateChild(n,H.EMPTY_NODE);return f!=null&&this.rangedFilter_.matches(f)?(s!=null&&s.trackChildChange(wi(f.name,f.node)),w.updateImmediateChild(f.name,f.node)):w}}else return r.isEmpty()?e:d&&o(u,a)>=0?(s!=null&&(s.trackChildChange(Qs(u.name,u.node)),s.trackChildChange(wi(n,r))),l.updateImmediateChild(n,r).updateImmediateChild(u.name,H.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ee}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return D(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return D(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:yi}hasEnd(){return this.endSet_}getIndexEndValue(){return D(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return D(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Cr}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return D(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ee}copy(){const e=new sf;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function DI(t){return t.loadsAllData()?new rf(t.getIndex()):t.hasLimit()?new PI(t):new qs(t)}function em(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Ee?n="$priority":t.index_===xI?n="$value":t.index_===ui?n="$key":(D(t.index_ instanceof TI,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=We(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=We(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+We(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=We(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+We(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function tm(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Ee&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl extends qv{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(D(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=uo("p:rest:"),this.listens_={}}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=zl.getListenId_(e,r),l={};this.listens_[o]=l;const a=em(e._queryParams);this.restRequest_(s+".json",a,(u,d)=>{let c=d;if(u===404&&(c=null,u=null),u===null&&this.onDataUpdate_(s,c,!1,r),Sr(this.listens_,o)===l){let f;u?u===401?f="permission_denied":f="rest_error:"+u:f="ok",i(f,null)}})}unlisten(e,n){const r=zl.getListenId_(e,n);delete this.listens_[r]}get(e){const n=em(e._queryParams),r=e._path.toString(),i=new Ri;return this.restRequest_(r+".json",n,(s,o)=>{let l=o;s===404&&(l=null,s=null),s===null?(this.onDataUpdate_(r,l,!1,null),i.resolve(l)):i.reject(new Error(l))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+i1(n);this.log_("Sending REST request for "+o);const l=new XMLHttpRequest;l.onreadystatechange=()=>{if(r&&l.readyState===4){this.log_("REST Response for "+o+" received. status:",l.status,"response:",l.responseText);let a=null;if(l.status>=200&&l.status<300){try{a=Ws(l.responseText)}catch{st("Failed to parse JSON response for "+o+": "+l.responseText)}r(null,a)}else l.status!==401&&l.status!==404&&st("Got unsuccessful REST response for "+o+" Status: "+l.status),r(l.status);r=null}},l.open("GET",o,!0),l.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{constructor(){this.rootNode_=H.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bl(){return{value:null,children:new Map}}function oy(t,e,n){if(X(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=Y(e);t.children.has(r)||t.children.set(r,Bl());const i=t.children.get(r);e=pe(e),oy(i,e,n)}}function Nc(t,e,n){t.value!==null?n(e,t.value):MI(t,(r,i)=>{const s=new ce(e.toString()+"/"+r);Nc(i,s,n)})}function MI(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LI{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&qe(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nm=10*1e3,bI=30*1e3,OI=5*60*1e3;class FI{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new LI(e);const r=nm+(bI-nm)*Math.random();_s(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;qe(e,(i,s)=>{s>0&&Kt(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),_s(this.reportStats_.bind(this),Math.floor(Math.random()*2*OI))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bt;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Bt||(Bt={}));function of(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function lf(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function af(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Bt.ACK_USER_WRITE,this.source=of()}operationForChild(e){if(X(this.path)){if(this.affectedTree.value!=null)return D(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new ce(e));return new Wl(se(),n,this.revert)}}else return D(Y(this.path)===e,"operationForChild called for unrelated child."),new Wl(pe(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(e,n){this.source=e,this.path=n,this.type=Bt.LISTEN_COMPLETE}operationForChild(e){return X(this.path)?new Xs(this.source,se()):new Xs(this.source,pe(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Bt.OVERWRITE}operationForChild(e){return X(this.path)?new kr(this.source,se(),this.snap.getImmediateChild(e)):new kr(this.source,pe(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Bt.MERGE}operationForChild(e){if(X(this.path)){const n=this.children.subtree(new ce(e));return n.isEmpty()?null:n.value?new kr(this.source,se(),n.value):new Ei(this.source,se(),n)}else return D(Y(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Ei(this.source,pe(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(X(e))return this.isFullyInitialized()&&!this.filtered_;const n=Y(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function UI(t,e,n,r){const i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(RI(o.childName,o.snapshotNode))}),Xi(t,i,"child_removed",e,r,n),Xi(t,i,"child_added",e,r,n),Xi(t,i,"child_moved",s,r,n),Xi(t,i,"child_changed",e,r,n),Xi(t,i,"value",e,r,n),i}function Xi(t,e,n,r,i,s){const o=r.filter(l=>l.type===n);o.sort((l,a)=>BI(t,l,a)),o.forEach(l=>{const a=zI(t,l,s);i.forEach(u=>{u.respondsTo(l.type)&&e.push(u.createEvent(a,t.query_))})})}function zI(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function BI(t,e,n){if(e.childName==null||n.childName==null)throw xi("Should only compare child_ events.");const r=new q(e.childName,e.snapshotNode),i=new q(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ga(t,e){return{eventCache:t,serverCache:e}}function vs(t,e,n,r){return ga(new Ir(e,n,r),t.serverCache)}function ly(t,e,n,r){return ga(t.eventCache,new Ir(e,n,r))}function xc(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Tr(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gu;const WI=()=>(gu||(gu=new ft(Tk)),gu);class fe{static fromObject(e){let n=new fe(null);return qe(e,(r,i)=>{n=n.set(new ce(r),i)}),n}constructor(e,n=WI()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:se(),value:this.value};if(X(e))return null;{const r=Y(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(pe(e),n);return s!=null?{path:Ne(new ce(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(X(e))return this;{const n=Y(e),r=this.children.get(n);return r!==null?r.subtree(pe(e)):new fe(null)}}set(e,n){if(X(e))return new fe(n,this.children);{const r=Y(e),s=(this.children.get(r)||new fe(null)).set(pe(e),n),o=this.children.insert(r,s);return new fe(this.value,o)}}remove(e){if(X(e))return this.children.isEmpty()?new fe(null):new fe(null,this.children);{const n=Y(e),r=this.children.get(n);if(r){const i=r.remove(pe(e));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new fe(null):new fe(this.value,s)}else return this}}get(e){if(X(e))return this.value;{const n=Y(e),r=this.children.get(n);return r?r.get(pe(e)):null}}setTree(e,n){if(X(e))return n;{const r=Y(e),s=(this.children.get(r)||new fe(null)).setTree(pe(e),n);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new fe(this.value,o)}}fold(e){return this.fold_(se(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(Ne(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,se(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(X(e))return null;{const s=Y(e),o=this.children.get(s);return o?o.findOnPath_(pe(e),Ne(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,se(),n)}foreachOnPath_(e,n,r){if(X(e))return this;{this.value&&r(n,this.value);const i=Y(e),s=this.children.get(i);return s?s.foreachOnPath_(pe(e),Ne(n,i),r):new fe(null)}}foreach(e){this.foreach_(se(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(Ne(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.writeTree_=e}static empty(){return new $t(new fe(null))}}function ys(t,e,n){if(X(e))return new $t(new fe(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const o=dt(i,e);return s=s.updateChild(o,n),new $t(t.writeTree_.set(i,s))}else{const i=new fe(n),s=t.writeTree_.setTree(e,i);return new $t(s)}}}function Rc(t,e,n){let r=t;return qe(n,(i,s)=>{r=ys(r,Ne(e,i),s)}),r}function rm(t,e){if(X(e))return $t.empty();{const n=t.writeTree_.setTree(e,new fe(null));return new $t(n)}}function Pc(t,e){return Ar(t,e)!=null}function Ar(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(dt(n.path,e)):null}function im(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Ee,(r,i)=>{e.push(new q(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new q(r,i.value))}),e}function $n(t,e){if(X(e))return t;{const n=Ar(t,e);return n!=null?new $t(new fe(n)):new $t(t.writeTree_.subtree(e))}}function Dc(t){return t.writeTree_.isEmpty()}function Si(t,e){return ay(se(),t.writeTree_,e)}function ay(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(D(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=ay(Ne(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(Ne(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uf(t,e){return fy(e,t)}function HI(t,e,n,r,i){D(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=ys(t.visibleWrites,e,n)),t.lastWriteId=r}function $I(t,e,n,r){D(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=Rc(t.visibleWrites,e,n),t.lastWriteId=r}function VI(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function KI(t,e){const n=t.allWrites.findIndex(l=>l.writeId===e);D(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const l=t.allWrites[o];l.visible&&(o>=n&&GI(l,r.path)?i=!1:Rt(r.path,l.path)&&(s=!0)),o--}if(i){if(s)return QI(t),!0;if(r.snap)t.visibleWrites=rm(t.visibleWrites,r.path);else{const l=r.children;qe(l,a=>{t.visibleWrites=rm(t.visibleWrites,Ne(r.path,a))})}return!0}else return!1}function GI(t,e){if(t.snap)return Rt(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Rt(Ne(t.path,n),e))return!0;return!1}function QI(t){t.visibleWrites=uy(t.allWrites,YI,se()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function YI(t){return t.visible}function uy(t,e,n){let r=$t.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const o=s.path;let l;if(s.snap)Rt(n,o)?(l=dt(n,o),r=ys(r,l,s.snap)):Rt(o,n)&&(l=dt(o,n),r=ys(r,se(),s.snap.getChild(l)));else if(s.children){if(Rt(n,o))l=dt(n,o),r=Rc(r,l,s.children);else if(Rt(o,n))if(l=dt(o,n),X(l))r=Rc(r,se(),s.children);else{const a=Sr(s.children,Y(l));if(a){const u=a.getChild(pe(l));r=ys(r,se(),u)}}}else throw xi("WriteRecord should have .snap or .children")}}return r}function cy(t,e,n,r,i){if(!r&&!i){const s=Ar(t.visibleWrites,e);if(s!=null)return s;{const o=$n(t.visibleWrites,e);if(Dc(o))return n;if(n==null&&!Pc(o,se()))return null;{const l=n||H.EMPTY_NODE;return Si(o,l)}}}else{const s=$n(t.visibleWrites,e);if(!i&&Dc(s))return n;if(!i&&n==null&&!Pc(s,se()))return null;{const o=function(u){return(u.visible||i)&&(!r||!~r.indexOf(u.writeId))&&(Rt(u.path,e)||Rt(e,u.path))},l=uy(t.allWrites,o,e),a=n||H.EMPTY_NODE;return Si(l,a)}}}function qI(t,e,n){let r=H.EMPTY_NODE;const i=Ar(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Ee,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=$n(t.visibleWrites,e);return n.forEachChild(Ee,(o,l)=>{const a=Si($n(s,new ce(o)),l);r=r.updateImmediateChild(o,a)}),im(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=$n(t.visibleWrites,e);return im(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function XI(t,e,n,r,i){D(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=Ne(e,n);if(Pc(t.visibleWrites,s))return null;{const o=$n(t.visibleWrites,s);return Dc(o)?i.getChild(n):Si(o,i.getChild(n))}}function JI(t,e,n,r){const i=Ne(e,n),s=Ar(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const o=$n(t.visibleWrites,i);return Si(o,r.getNode().getImmediateChild(n))}else return null}function ZI(t,e){return Ar(t.visibleWrites,e)}function eT(t,e,n,r,i,s,o){let l;const a=$n(t.visibleWrites,e),u=Ar(a,se());if(u!=null)l=u;else if(n!=null)l=Si(a,n);else return[];if(l=l.withIndex(o),!l.isEmpty()&&!l.isLeafNode()){const d=[],c=o.getCompare(),f=s?l.getReverseIteratorFrom(r,o):l.getIteratorFrom(r,o);let p=f.getNext();for(;p&&d.length<i;)c(p,r)!==0&&d.push(p),p=f.getNext();return d}else return[]}function tT(){return{visibleWrites:$t.empty(),allWrites:[],lastWriteId:-1}}function Hl(t,e,n,r){return cy(t.writeTree,t.treePath,e,n,r)}function cf(t,e){return qI(t.writeTree,t.treePath,e)}function sm(t,e,n,r){return XI(t.writeTree,t.treePath,e,n,r)}function $l(t,e){return ZI(t.writeTree,Ne(t.treePath,e))}function nT(t,e,n,r,i,s){return eT(t.writeTree,t.treePath,e,n,r,i,s)}function df(t,e,n){return JI(t.writeTree,t.treePath,e,n)}function dy(t,e){return fy(Ne(t.treePath,e),t.writeTree)}function fy(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rT{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;D(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),D(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,Ys(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,Qs(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,wi(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,Ys(r,e.snapshotNode,i.oldSnap));else throw xi("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iT{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const hy=new iT;class ff{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new Ir(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return df(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Tr(this.viewCache_),s=nT(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sT(t){return{filter:t}}function oT(t,e){D(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),D(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function lT(t,e,n,r,i){const s=new rT;let o,l;if(n.type===Bt.OVERWRITE){const u=n;u.source.fromUser?o=Ac(t,e,u.path,u.snap,r,i,s):(D(u.source.fromServer,"Unknown source."),l=u.source.tagged||e.serverCache.isFiltered()&&!X(u.path),o=Vl(t,e,u.path,u.snap,r,i,l,s))}else if(n.type===Bt.MERGE){const u=n;u.source.fromUser?o=uT(t,e,u.path,u.children,r,i,s):(D(u.source.fromServer,"Unknown source."),l=u.source.tagged||e.serverCache.isFiltered(),o=Mc(t,e,u.path,u.children,r,i,l,s))}else if(n.type===Bt.ACK_USER_WRITE){const u=n;u.revert?o=fT(t,e,u.path,r,i,s):o=cT(t,e,u.path,u.affectedTree,r,i,s)}else if(n.type===Bt.LISTEN_COMPLETE)o=dT(t,e,n.path,r,s);else throw xi("Unknown operation type: "+n.type);const a=s.getChanges();return aT(e,o,a),{viewCache:o,changes:a}}function aT(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=xc(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(sy(xc(e)))}}function py(t,e,n,r,i,s){const o=e.eventCache;if($l(r,n)!=null)return e;{let l,a;if(X(n))if(D(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const u=Tr(e),d=u instanceof H?u:H.EMPTY_NODE,c=cf(r,d);l=t.filter.updateFullNode(e.eventCache.getNode(),c,s)}else{const u=Hl(r,Tr(e));l=t.filter.updateFullNode(e.eventCache.getNode(),u,s)}else{const u=Y(n);if(u===".priority"){D(Gn(n)===1,"Can't have a priority with additional path components");const d=o.getNode();a=e.serverCache.getNode();const c=sm(r,n,d,a);c!=null?l=t.filter.updatePriority(d,c):l=o.getNode()}else{const d=pe(n);let c;if(o.isCompleteForChild(u)){a=e.serverCache.getNode();const f=sm(r,n,o.getNode(),a);f!=null?c=o.getNode().getImmediateChild(u).updateChild(d,f):c=o.getNode().getImmediateChild(u)}else c=df(r,u,e.serverCache);c!=null?l=t.filter.updateChild(o.getNode(),u,c,d,i,s):l=o.getNode()}}return vs(e,l,o.isFullyInitialized()||X(n),t.filter.filtersNodes())}}function Vl(t,e,n,r,i,s,o,l){const a=e.serverCache;let u;const d=o?t.filter:t.filter.getIndexedFilter();if(X(n))u=d.updateFullNode(a.getNode(),r,null);else if(d.filtersNodes()&&!a.isFiltered()){const p=a.getNode().updateChild(n,r);u=d.updateFullNode(a.getNode(),p,null)}else{const p=Y(n);if(!a.isCompleteForPath(n)&&Gn(n)>1)return e;const v=pe(n),T=a.getNode().getImmediateChild(p).updateChild(v,r);p===".priority"?u=d.updatePriority(a.getNode(),T):u=d.updateChild(a.getNode(),p,T,v,hy,null)}const c=ly(e,u,a.isFullyInitialized()||X(n),d.filtersNodes()),f=new ff(i,c,s);return py(t,c,n,i,f,l)}function Ac(t,e,n,r,i,s,o){const l=e.eventCache;let a,u;const d=new ff(i,e,s);if(X(n))u=t.filter.updateFullNode(e.eventCache.getNode(),r,o),a=vs(e,u,!0,t.filter.filtersNodes());else{const c=Y(n);if(c===".priority")u=t.filter.updatePriority(e.eventCache.getNode(),r),a=vs(e,u,l.isFullyInitialized(),l.isFiltered());else{const f=pe(n),p=l.getNode().getImmediateChild(c);let v;if(X(f))v=r;else{const w=d.getCompleteChild(c);w!=null?Zd(f)===".priority"&&w.getChild(Jv(f)).isEmpty()?v=w:v=w.updateChild(f,r):v=H.EMPTY_NODE}if(p.equals(v))a=e;else{const w=t.filter.updateChild(l.getNode(),c,v,f,d,o);a=vs(e,w,l.isFullyInitialized(),t.filter.filtersNodes())}}}return a}function om(t,e){return t.eventCache.isCompleteForChild(e)}function uT(t,e,n,r,i,s,o){let l=e;return r.foreach((a,u)=>{const d=Ne(n,a);om(e,Y(d))&&(l=Ac(t,l,d,u,i,s,o))}),r.foreach((a,u)=>{const d=Ne(n,a);om(e,Y(d))||(l=Ac(t,l,d,u,i,s,o))}),l}function lm(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function Mc(t,e,n,r,i,s,o,l){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let a=e,u;X(n)?u=r:u=new fe(null).setTree(n,r);const d=e.serverCache.getNode();return u.children.inorderTraversal((c,f)=>{if(d.hasChild(c)){const p=e.serverCache.getNode().getImmediateChild(c),v=lm(t,p,f);a=Vl(t,a,new ce(c),v,i,s,o,l)}}),u.children.inorderTraversal((c,f)=>{const p=!e.serverCache.isCompleteForChild(c)&&f.value===null;if(!d.hasChild(c)&&!p){const v=e.serverCache.getNode().getImmediateChild(c),w=lm(t,v,f);a=Vl(t,a,new ce(c),w,i,s,o,l)}}),a}function cT(t,e,n,r,i,s,o){if($l(i,n)!=null)return e;const l=e.serverCache.isFiltered(),a=e.serverCache;if(r.value!=null){if(X(n)&&a.isFullyInitialized()||a.isCompleteForPath(n))return Vl(t,e,n,a.getNode().getChild(n),i,s,l,o);if(X(n)){let u=new fe(null);return a.getNode().forEachChild(ui,(d,c)=>{u=u.set(new ce(d),c)}),Mc(t,e,n,u,i,s,l,o)}else return e}else{let u=new fe(null);return r.foreach((d,c)=>{const f=Ne(n,d);a.isCompleteForPath(f)&&(u=u.set(d,a.getNode().getChild(f)))}),Mc(t,e,n,u,i,s,l,o)}}function dT(t,e,n,r,i){const s=e.serverCache,o=ly(e,s.getNode(),s.isFullyInitialized()||X(n),s.isFiltered());return py(t,o,n,r,hy,i)}function fT(t,e,n,r,i,s){let o;if($l(r,n)!=null)return e;{const l=new ff(r,e,i),a=e.eventCache.getNode();let u;if(X(n)||Y(n)===".priority"){let d;if(e.serverCache.isFullyInitialized())d=Hl(r,Tr(e));else{const c=e.serverCache.getNode();D(c instanceof H,"serverChildren would be complete if leaf node"),d=cf(r,c)}d=d,u=t.filter.updateFullNode(a,d,s)}else{const d=Y(n);let c=df(r,d,e.serverCache);c==null&&e.serverCache.isCompleteForChild(d)&&(c=a.getImmediateChild(d)),c!=null?u=t.filter.updateChild(a,d,c,pe(n),l,s):e.eventCache.getNode().hasChild(d)?u=t.filter.updateChild(a,d,H.EMPTY_NODE,pe(n),l,s):u=a,u.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=Hl(r,Tr(e)),o.isLeafNode()&&(u=t.filter.updateFullNode(u,o,s)))}return o=e.serverCache.isFullyInitialized()||$l(r,se())!=null,vs(e,u,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hT{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new rf(r.getIndex()),s=DI(r);this.processor_=sT(s);const o=n.serverCache,l=n.eventCache,a=i.updateFullNode(H.EMPTY_NODE,o.getNode(),null),u=s.updateFullNode(H.EMPTY_NODE,l.getNode(),null),d=new Ir(a,o.isFullyInitialized(),i.filtersNodes()),c=new Ir(u,l.isFullyInitialized(),s.filtersNodes());this.viewCache_=ga(c,d),this.eventGenerator_=new jI(this.query_)}get query(){return this.query_}}function pT(t){return t.viewCache_.serverCache.getNode()}function mT(t,e){const n=Tr(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!X(e)&&!n.getImmediateChild(Y(e)).isEmpty())?n.getChild(e):null}function am(t){return t.eventRegistrations_.length===0}function gT(t,e){t.eventRegistrations_.push(e)}function um(t,e,n){const r=[];if(n){D(e==null,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(n,i);o&&r.push(o)})}if(e){let i=[];for(let s=0;s<t.eventRegistrations_.length;++s){const o=t.eventRegistrations_[s];if(!o.matches(e))i.push(o);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(s+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function cm(t,e,n,r){e.type===Bt.MERGE&&e.source.queryId!==null&&(D(Tr(t.viewCache_),"We should always have a full cache before handling merges"),D(xc(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=lT(t.processor_,i,e,n,r);return oT(t.processor_,s.viewCache),D(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,my(t,s.changes,s.viewCache.eventCache.getNode(),null)}function _T(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Ee,(s,o)=>{r.push(wi(s,o))}),n.isFullyInitialized()&&r.push(sy(n.getNode())),my(t,r,n.getNode(),e)}function my(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return UI(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kl;class vT{constructor(){this.views=new Map}}function yT(t){D(!Kl,"__referenceConstructor has already been defined"),Kl=t}function wT(){return D(Kl,"Reference.ts has not been loaded"),Kl}function ET(t){return t.views.size===0}function hf(t,e,n,r){const i=e.source.queryId;if(i!==null){const s=t.views.get(i);return D(s!=null,"SyncTree gave us an op for an invalid query."),cm(s,e,n,r)}else{let s=[];for(const o of t.views.values())s=s.concat(cm(o,e,n,r));return s}}function ST(t,e,n,r,i){const s=e._queryIdentifier,o=t.views.get(s);if(!o){let l=Hl(n,i?r:null),a=!1;l?a=!0:r instanceof H?(l=cf(n,r),a=!1):(l=H.EMPTY_NODE,a=!1);const u=ga(new Ir(l,a,!1),new Ir(r,i,!1));return new hT(e,u)}return o}function CT(t,e,n,r,i,s){const o=ST(t,e,r,i,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),gT(o,n),_T(o,n)}function kT(t,e,n,r){const i=e._queryIdentifier,s=[];let o=[];const l=Qn(t);if(i==="default")for(const[a,u]of t.views.entries())o=o.concat(um(u,n,r)),am(u)&&(t.views.delete(a),u.query._queryParams.loadsAllData()||s.push(u.query));else{const a=t.views.get(i);a&&(o=o.concat(um(a,n,r)),am(a)&&(t.views.delete(i),a.query._queryParams.loadsAllData()||s.push(a.query)))}return l&&!Qn(t)&&s.push(new(wT())(e._repo,e._path)),{removed:s,events:o}}function gy(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function ci(t,e){let n=null;for(const r of t.views.values())n=n||mT(r,e);return n}function _y(t,e){if(e._queryParams.loadsAllData())return _a(t);{const r=e._queryIdentifier;return t.views.get(r)}}function vy(t,e){return _y(t,e)!=null}function Qn(t){return _a(t)!=null}function _a(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gl;function IT(t){D(!Gl,"__referenceConstructor has already been defined"),Gl=t}function TT(){return D(Gl,"Reference.ts has not been loaded"),Gl}let NT=1;class dm{constructor(e){this.listenProvider_=e,this.syncPointTree_=new fe(null),this.pendingWriteTree_=tT(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function pf(t,e,n,r,i){return HI(t.pendingWriteTree_,e,n,r,i),i?Di(t,new kr(of(),e,n)):[]}function xT(t,e,n,r){$I(t.pendingWriteTree_,e,n,r);const i=fe.fromObject(n);return Di(t,new Ei(of(),e,i))}function Mn(t,e,n=!1){const r=VI(t.pendingWriteTree_,e);if(KI(t.pendingWriteTree_,e)){let s=new fe(null);return r.snap!=null?s=s.set(se(),!0):qe(r.children,o=>{s=s.set(new ce(o),!0)}),Di(t,new Wl(r.path,s,n))}else return[]}function va(t,e,n){return Di(t,new kr(lf(),e,n))}function RT(t,e,n){const r=fe.fromObject(n);return Di(t,new Ei(lf(),e,r))}function PT(t,e){return Di(t,new Xs(lf(),e))}function DT(t,e,n){const r=mf(t,n);if(r){const i=gf(r),s=i.path,o=i.queryId,l=dt(s,e),a=new Xs(af(o),l);return _f(t,s,a)}else return[]}function Lc(t,e,n,r,i=!1){const s=e._path,o=t.syncPointTree_.get(s);let l=[];if(o&&(e._queryIdentifier==="default"||vy(o,e))){const a=kT(o,e,n,r);ET(o)&&(t.syncPointTree_=t.syncPointTree_.remove(s));const u=a.removed;if(l=a.events,!i){const d=u.findIndex(f=>f._queryParams.loadsAllData())!==-1,c=t.syncPointTree_.findOnPath(s,(f,p)=>Qn(p));if(d&&!c){const f=t.syncPointTree_.subtree(s);if(!f.isEmpty()){const p=LT(f);for(let v=0;v<p.length;++v){const w=p[v],T=w.query,m=Ey(t,w);t.listenProvider_.startListening(ws(T),Ql(t,T),m.hashFn,m.onComplete)}}}!c&&u.length>0&&!r&&(d?t.listenProvider_.stopListening(ws(e),null):u.forEach(f=>{const p=t.queryToTagMap.get(wa(f));t.listenProvider_.stopListening(ws(f),p)}))}bT(t,u)}return l}function AT(t,e,n,r){const i=mf(t,r);if(i!=null){const s=gf(i),o=s.path,l=s.queryId,a=dt(o,e),u=new kr(af(l),a,n);return _f(t,o,u)}else return[]}function MT(t,e,n,r){const i=mf(t,r);if(i){const s=gf(i),o=s.path,l=s.queryId,a=dt(o,e),u=fe.fromObject(n),d=new Ei(af(l),a,u);return _f(t,o,d)}else return[]}function fm(t,e,n,r=!1){const i=e._path;let s=null,o=!1;t.syncPointTree_.foreachOnPath(i,(f,p)=>{const v=dt(f,i);s=s||ci(p,v),o=o||Qn(p)});let l=t.syncPointTree_.get(i);l?(o=o||Qn(l),s=s||ci(l,se())):(l=new vT,t.syncPointTree_=t.syncPointTree_.set(i,l));let a;s!=null?a=!0:(a=!1,s=H.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((p,v)=>{const w=ci(v,se());w&&(s=s.updateImmediateChild(p,w))}));const u=vy(l,e);if(!u&&!e._queryParams.loadsAllData()){const f=wa(e);D(!t.queryToTagMap.has(f),"View does not exist, but we have a tag");const p=OT();t.queryToTagMap.set(f,p),t.tagToQueryMap.set(p,f)}const d=uf(t.pendingWriteTree_,i);let c=CT(l,e,n,d,s,a);if(!u&&!o&&!r){const f=_y(l,e);c=c.concat(FT(t,e,f))}return c}function ya(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,l)=>{const a=dt(o,e),u=ci(l,a);if(u)return u});return cy(i,e,s,n,!0)}function Di(t,e){return yy(e,t.syncPointTree_,null,uf(t.pendingWriteTree_,se()))}function yy(t,e,n,r){if(X(t.path))return wy(t,e,n,r);{const i=e.get(se());n==null&&i!=null&&(n=ci(i,se()));let s=[];const o=Y(t.path),l=t.operationForChild(o),a=e.children.get(o);if(a&&l){const u=n?n.getImmediateChild(o):null,d=dy(r,o);s=s.concat(yy(l,a,u,d))}return i&&(s=s.concat(hf(i,t,r,n))),s}}function wy(t,e,n,r){const i=e.get(se());n==null&&i!=null&&(n=ci(i,se()));let s=[];return e.children.inorderTraversal((o,l)=>{const a=n?n.getImmediateChild(o):null,u=dy(r,o),d=t.operationForChild(o);d&&(s=s.concat(wy(d,l,a,u)))}),i&&(s=s.concat(hf(i,t,r,n))),s}function Ey(t,e){const n=e.query,r=Ql(t,n);return{hashFn:()=>(pT(e)||H.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?DT(t,n._path,r):PT(t,n._path);{const s=Rk(i,n);return Lc(t,n,null,s)}}}}function Ql(t,e){const n=wa(e);return t.queryToTagMap.get(n)}function wa(t){return t._path.toString()+"$"+t._queryIdentifier}function mf(t,e){return t.tagToQueryMap.get(e)}function gf(t){const e=t.indexOf("$");return D(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new ce(t.substr(0,e))}}function _f(t,e,n){const r=t.syncPointTree_.get(e);D(r,"Missing sync point for query tag that we're tracking");const i=uf(t.pendingWriteTree_,e);return hf(r,n,i,null)}function LT(t){return t.fold((e,n,r)=>{if(n&&Qn(n))return[_a(n)];{let i=[];return n&&(i=gy(n)),qe(r,(s,o)=>{i=i.concat(o)}),i}})}function ws(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(TT())(t._repo,t._path):t}function bT(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const i=wa(r),s=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(s)}}}function OT(){return NT++}function FT(t,e,n){const r=e._path,i=Ql(t,e),s=Ey(t,n),o=t.listenProvider_.startListening(ws(e),i,s.hashFn,s.onComplete),l=t.syncPointTree_.subtree(r);if(i)D(!Qn(l.value),"If we're adding a query, it shouldn't be shadowed");else{const a=l.fold((u,d,c)=>{if(!X(u)&&d&&Qn(d))return[_a(d).query];{let f=[];return d&&(f=f.concat(gy(d).map(p=>p.query))),qe(c,(p,v)=>{f=f.concat(v)}),f}});for(let u=0;u<a.length;++u){const d=a[u];t.listenProvider_.stopListening(ws(d),Ql(t,d))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new vf(n)}node(){return this.node_}}class yf{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Ne(this.path_,e);return new yf(this.syncTree_,n)}node(){return ya(this.syncTree_,this.path_)}}const jT=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},hm=function(t,e,n){if(!t||typeof t!="object")return t;if(D(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return UT(t[".sv"],e,n);if(typeof t[".sv"]=="object")return zT(t[".sv"],e);D(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},UT=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:D(!1,"Unexpected server value: "+t)}},zT=function(t,e,n){t.hasOwnProperty("increment")||D(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&D(!1,"Unexpected increment value: "+r);const i=e.node();if(D(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},Sy=function(t,e,n,r){return Ef(e,new yf(n,t),r)},wf=function(t,e,n){return Ef(t,new vf(e),n)};function Ef(t,e,n){const r=t.getPriority().val(),i=hm(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,l=hm(o.getValue(),e,n);return l!==o.getValue()||i!==o.getPriority().val()?new Ue(l,Oe(i)):t}else{const o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new Ue(i))),o.forEachChild(Ee,(l,a)=>{const u=Ef(a,e.getImmediateChild(l),n);u!==a&&(s=s.updateImmediateChild(l,u))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function Ea(t,e){let n=e instanceof ce?e:new ce(e),r=t,i=Y(n);for(;i!==null;){const s=Sr(r.node.children,i)||{children:{},childCount:0};r=new Sf(i,r,s),n=pe(n),i=Y(n)}return r}function Mr(t){return t.node.value}function Cf(t,e){t.node.value=e,bc(t)}function Cy(t){return t.node.childCount>0}function BT(t){return Mr(t)===void 0&&!Cy(t)}function Sa(t,e){qe(t.node.children,(n,r)=>{e(new Sf(n,t,r))})}function ky(t,e,n,r){n&&e(t),Sa(t,i=>{ky(i,e,!0)})}function WT(t,e,n){let r=t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function fo(t){return new ce(t.parent===null?t.name:fo(t.parent)+"/"+t.name)}function bc(t){t.parent!==null&&HT(t.parent,t.name,t)}function HT(t,e,n){const r=BT(n),i=Kt(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,bc(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,bc(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $T=/[\[\].#$\/\u0000-\u001F\u007F]/,VT=/[\[\].#$\u0000-\u001F\u007F]/,_u=10*1024*1024,kf=function(t){return typeof t=="string"&&t.length!==0&&!$T.test(t)},Iy=function(t){return typeof t=="string"&&t.length!==0&&!VT.test(t)},KT=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),Iy(t)},Ty=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!Qd(t)||t&&typeof t=="object"&&Kt(t,".sv")},Ny=function(t,e,n,r){r&&e===void 0||ho(ha(t,"value"),e,n)},ho=function(t,e,n){const r=n instanceof ce?new uI(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+or(r));if(typeof e=="function")throw new Error(t+"contains a function "+or(r)+" with contents = "+e.toString());if(Qd(e))throw new Error(t+"contains "+e.toString()+" "+or(r));if(typeof e=="string"&&e.length>_u/3&&pa(e)>_u)throw new Error(t+"contains a string greater than "+_u+" utf8 bytes "+or(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(qe(e,(o,l)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!kf(o)))throw new Error(t+" contains an invalid key ("+o+") "+or(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);cI(r,o),ho(t,l,r),dI(r)}),i&&s)throw new Error(t+' contains ".value" child '+or(r)+" in addition to actual children.")}},GT=function(t,e){let n,r;for(n=0;n<e.length;n++){r=e[n];const s=Gs(r);for(let o=0;o<s.length;o++)if(!(s[o]===".priority"&&o===s.length-1)){if(!kf(s[o]))throw new Error(t+"contains an invalid key ("+s[o]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(aI);let i=null;for(n=0;n<e.length;n++){if(r=e[n],i!==null&&Rt(i,r))throw new Error(t+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}},QT=function(t,e,n,r){const i=ha(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");const s=[];qe(e,(o,l)=>{const a=new ce(o);if(ho(i,l,Ne(n,a)),Zd(a)===".priority"&&!Ty(l))throw new Error(i+"contains an invalid value for '"+a.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(a)}),GT(i,s)},xy=function(t,e,n,r){if(!Iy(n))throw new Error(ha(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},YT=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),xy(t,e,n)},If=function(t,e){if(Y(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},qT=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!kf(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!KT(n))throw new Error(ha(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XT{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Ca(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();n!==null&&!ef(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function Ry(t,e,n){Ca(t,n),Py(t,r=>ef(r,e))}function Mt(t,e,n){Ca(t,n),Py(t,r=>Rt(r,e)||Rt(e,r))}function Py(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const s=i.path;e(s)?(JT(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function JT(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();gs&&Ge("event: "+n.toString()),Pi(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZT="repo_interrupt",eN=25;class tN{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new XT,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Bl(),this.transactionQueueTree_=new Sf,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function nN(t,e,n){if(t.stats_=Xd(t.repoInfo_),t.forceRestClient_||Mk())t.server_=new zl(t.repoInfo_,(r,i,s,o)=>{pm(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>mm(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{We(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new hn(t.repoInfo_,e,(r,i,s,o)=>{pm(t,r,i,s,o)},r=>{mm(t,r)},r=>{rN(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=jk(t.repoInfo_,()=>new FI(t.stats_,t.server_)),t.infoData_=new AI,t.infoSyncTree_=new dm({startListening:(r,i,s,o)=>{let l=[];const a=t.infoData_.getNode(r._path);return a.isEmpty()||(l=va(t.infoSyncTree_,r._path,a),setTimeout(()=>{o("ok")},0)),l},stopListening:()=>{}}),Tf(t,"connected",!1),t.serverSyncTree_=new dm({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(l,a)=>{const u=o(l,a);Mt(t.eventQueue_,r._path,u)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function Dy(t){const n=t.infoData_.getNode(new ce(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function po(t){return jT({timestamp:Dy(t)})}function pm(t,e,n,r,i){t.dataUpdateCount++;const s=new ce(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){const a=Ll(n,u=>Oe(u));o=MT(t.serverSyncTree_,s,a,i)}else{const a=Oe(n);o=AT(t.serverSyncTree_,s,a,i)}else if(r){const a=Ll(n,u=>Oe(u));o=RT(t.serverSyncTree_,s,a)}else{const a=Oe(n);o=va(t.serverSyncTree_,s,a)}let l=s;o.length>0&&(l=Ci(t,s)),Mt(t.eventQueue_,l,o)}function mm(t,e){Tf(t,"connected",e),e===!1&&oN(t)}function rN(t,e){qe(e,(n,r)=>{Tf(t,n,r)})}function Tf(t,e,n){const r=new ce("/.info/"+e),i=Oe(n);t.infoData_.updateSnapshot(r,i);const s=va(t.infoSyncTree_,r,i);Mt(t.eventQueue_,r,s)}function ka(t){return t.nextWriteId_++}function iN(t,e,n,r,i){mo(t,"set",{path:e.toString(),value:n,priority:r});const s=po(t),o=Oe(n,r),l=ya(t.serverSyncTree_,e),a=wf(o,l,s),u=ka(t),d=pf(t.serverSyncTree_,e,a,u,!0);Ca(t.eventQueue_,d),t.server_.put(e.toString(),o.val(!0),(f,p)=>{const v=f==="ok";v||st("set at "+e+" failed: "+f);const w=Mn(t.serverSyncTree_,u,!v);Mt(t.eventQueue_,e,w),Oc(t,i,f,p)});const c=xf(t,e);Ci(t,c),Mt(t.eventQueue_,c,[])}function sN(t,e,n,r){mo(t,"update",{path:e.toString(),value:n});let i=!0;const s=po(t),o={};if(qe(n,(l,a)=>{i=!1,o[l]=Sy(Ne(e,l),Oe(a),t.serverSyncTree_,s)}),i)Ge("update() called with empty data.  Don't do anything."),Oc(t,r,"ok",void 0);else{const l=ka(t),a=xT(t.serverSyncTree_,e,o,l);Ca(t.eventQueue_,a),t.server_.merge(e.toString(),n,(u,d)=>{const c=u==="ok";c||st("update at "+e+" failed: "+u);const f=Mn(t.serverSyncTree_,l,!c),p=f.length>0?Ci(t,e):e;Mt(t.eventQueue_,p,f),Oc(t,r,u,d)}),qe(n,u=>{const d=xf(t,Ne(e,u));Ci(t,d)}),Mt(t.eventQueue_,e,[])}}function oN(t){mo(t,"onDisconnectEvents");const e=po(t),n=Bl();Nc(t.onDisconnect_,se(),(i,s)=>{const o=Sy(i,s,t.serverSyncTree_,e);oy(n,i,o)});let r=[];Nc(n,se(),(i,s)=>{r=r.concat(va(t.serverSyncTree_,i,s));const o=xf(t,i);Ci(t,o)}),t.onDisconnect_=Bl(),Mt(t.eventQueue_,se(),r)}function lN(t,e,n){let r;Y(e._path)===".info"?r=fm(t.infoSyncTree_,e,n):r=fm(t.serverSyncTree_,e,n),Ry(t.eventQueue_,e._path,r)}function gm(t,e,n){let r;Y(e._path)===".info"?r=Lc(t.infoSyncTree_,e,n):r=Lc(t.serverSyncTree_,e,n),Ry(t.eventQueue_,e._path,r)}function aN(t){t.persistentConnection_&&t.persistentConnection_.interrupt(ZT)}function mo(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Ge(n,...e)}function Oc(t,e,n,r){e&&Pi(()=>{if(n==="ok")e(null);else{const i=(n||"error").toUpperCase();let s=i;r&&(s+=": "+r);const o=new Error(s);o.code=i,e(o)}})}function uN(t,e,n,r,i,s){mo(t,"transaction on "+e);const o={path:e,update:n,onComplete:r,status:null,order:Pv(),applyLocally:s,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},l=Nf(t,e,void 0);o.currentInputSnapshot=l;const a=o.update(l.val());if(a===void 0)o.unwatcher(),o.currentOutputSnapshotRaw=null,o.currentOutputSnapshotResolved=null,o.onComplete&&o.onComplete(null,!1,o.currentInputSnapshot);else{ho("transaction failed: Data returned ",a,o.path),o.status=0;const u=Ea(t.transactionQueueTree_,e),d=Mr(u)||[];d.push(o),Cf(u,d);let c;typeof a=="object"&&a!==null&&Kt(a,".priority")?(c=Sr(a,".priority"),D(Ty(c),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):c=(ya(t.serverSyncTree_,e)||H.EMPTY_NODE).getPriority().val();const f=po(t),p=Oe(a,c),v=wf(p,l,f);o.currentOutputSnapshotRaw=p,o.currentOutputSnapshotResolved=v,o.currentWriteId=ka(t);const w=pf(t.serverSyncTree_,e,v,o.currentWriteId,o.applyLocally);Mt(t.eventQueue_,e,w),Ia(t,t.transactionQueueTree_)}}function Nf(t,e,n){return ya(t.serverSyncTree_,e,n)||H.EMPTY_NODE}function Ia(t,e=t.transactionQueueTree_){if(e||Ta(t,e),Mr(e)){const n=My(t,e);D(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&cN(t,fo(e),n)}else Cy(e)&&Sa(e,n=>{Ia(t,n)})}function cN(t,e,n){const r=n.map(u=>u.currentWriteId),i=Nf(t,e,r);let s=i;const o=i.hash();for(let u=0;u<n.length;u++){const d=n[u];D(d.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),d.status=1,d.retryCount++;const c=dt(e,d.path);s=s.updateChild(c,d.currentOutputSnapshotRaw)}const l=s.val(!0),a=e;t.server_.put(a.toString(),l,u=>{mo(t,"transaction put response",{path:a.toString(),status:u});let d=[];if(u==="ok"){const c=[];for(let f=0;f<n.length;f++)n[f].status=2,d=d.concat(Mn(t.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&c.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();Ta(t,Ea(t.transactionQueueTree_,e)),Ia(t,t.transactionQueueTree_),Mt(t.eventQueue_,e,d);for(let f=0;f<c.length;f++)Pi(c[f])}else{if(u==="datastale")for(let c=0;c<n.length;c++)n[c].status===3?n[c].status=4:n[c].status=0;else{st("transaction at "+a.toString()+" failed: "+u);for(let c=0;c<n.length;c++)n[c].status=4,n[c].abortReason=u}Ci(t,e)}},o)}function Ci(t,e){const n=Ay(t,e),r=fo(n),i=My(t,n);return dN(t,i,r),r}function dN(t,e,n){if(e.length===0)return;const r=[];let i=[];const o=e.filter(l=>l.status===0).map(l=>l.currentWriteId);for(let l=0;l<e.length;l++){const a=e[l],u=dt(n,a.path);let d=!1,c;if(D(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),a.status===4)d=!0,c=a.abortReason,i=i.concat(Mn(t.serverSyncTree_,a.currentWriteId,!0));else if(a.status===0)if(a.retryCount>=eN)d=!0,c="maxretry",i=i.concat(Mn(t.serverSyncTree_,a.currentWriteId,!0));else{const f=Nf(t,a.path,o);a.currentInputSnapshot=f;const p=e[l].update(f.val());if(p!==void 0){ho("transaction failed: Data returned ",p,a.path);let v=Oe(p);typeof p=="object"&&p!=null&&Kt(p,".priority")||(v=v.updatePriority(f.getPriority()));const T=a.currentWriteId,m=po(t),h=wf(v,f,m);a.currentOutputSnapshotRaw=v,a.currentOutputSnapshotResolved=h,a.currentWriteId=ka(t),o.splice(o.indexOf(T),1),i=i.concat(pf(t.serverSyncTree_,a.path,h,a.currentWriteId,a.applyLocally)),i=i.concat(Mn(t.serverSyncTree_,T,!0))}else d=!0,c="nodata",i=i.concat(Mn(t.serverSyncTree_,a.currentWriteId,!0))}Mt(t.eventQueue_,n,i),i=[],d&&(e[l].status=2,function(f){setTimeout(f,Math.floor(0))}(e[l].unwatcher),e[l].onComplete&&(c==="nodata"?r.push(()=>e[l].onComplete(null,!1,e[l].currentInputSnapshot)):r.push(()=>e[l].onComplete(new Error(c),!1,null))))}Ta(t,t.transactionQueueTree_);for(let l=0;l<r.length;l++)Pi(r[l]);Ia(t,t.transactionQueueTree_)}function Ay(t,e){let n,r=t.transactionQueueTree_;for(n=Y(e);n!==null&&Mr(r)===void 0;)r=Ea(r,n),e=pe(e),n=Y(e);return r}function My(t,e){const n=[];return Ly(t,e,n),n.sort((r,i)=>r.order-i.order),n}function Ly(t,e,n){const r=Mr(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Sa(e,i=>{Ly(t,i,n)})}function Ta(t,e){const n=Mr(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,Cf(e,n.length>0?n:void 0)}Sa(e,r=>{Ta(t,r)})}function xf(t,e){const n=fo(Ay(t,e)),r=Ea(t.transactionQueueTree_,e);return WT(r,i=>{vu(t,i)}),vu(t,r),ky(r,i=>{vu(t,i)}),n}function vu(t,e){const n=Mr(e);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(D(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(D(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(Mn(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?Cf(e,void 0):n.length=s+1,Mt(t.eventQueue_,fo(e),i);for(let o=0;o<r.length;o++)Pi(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fN(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function hN(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):st(`Invalid query segment '${n}' in query '${t}'`)}return e}const _m=function(t,e){const n=pN(t),r=n.namespace;n.domain==="firebase.com"&&yn(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&yn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||kk();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new Hv(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new ce(n.pathString)}},pN=function(t){let e="",n="",r="",i="",s="",o=!0,l="https",a=443;if(typeof t=="string"){let u=t.indexOf("//");u>=0&&(l=t.substring(0,u-1),t=t.substring(u+2));let d=t.indexOf("/");d===-1&&(d=t.length);let c=t.indexOf("?");c===-1&&(c=t.length),e=t.substring(0,Math.min(d,c)),d<c&&(i=fN(t.substring(d,c)));const f=hN(t.substring(Math.min(t.length,c)));u=e.indexOf(":"),u>=0?(o=l==="https"||l==="wss",a=parseInt(e.substring(u+1),10)):u=e.length;const p=e.slice(0,u);if(p.toLowerCase()==="localhost")n="localhost";else if(p.split(".").length<=2)n=p;else{const v=e.indexOf(".");r=e.substring(0,v).toLowerCase(),n=e.substring(v+1),s=r}"ns"in f&&(s=f.ns)}return{host:e,port:a,domain:n,subdomain:r,secure:o,scheme:l,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vm="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",mN=function(){let t=0;const e=[];return function(n){const r=n===t;t=n;let i;const s=new Array(8);for(i=7;i>=0;i--)s[i]=vm.charAt(n%64),n=Math.floor(n/64);D(n===0,"Cannot push at time == 0");let o=s.join("");if(r){for(i=11;i>=0&&e[i]===63;i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)o+=vm.charAt(e[i]);return D(o.length===20,"nextPushId: Length should be 20."),o}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gN{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+We(this.snapshot.exportVal())}}class _N{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vN{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return D(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rf{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return X(this._path)?null:Zd(this._path)}get ref(){return new En(this._repo,this._path)}get _queryIdentifier(){const e=tm(this._queryParams),n=Yd(e);return n==="{}"?"default":n}get _queryObject(){return tm(this._queryParams)}isEqual(e){if(e=Pr(e),!(e instanceof Rf))return!1;const n=this._repo===e._repo,r=ef(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+lI(this._path)}}class En extends Rf{constructor(e,n){super(e,n,new sf,!1)}get parent(){const e=Jv(this._path);return e===null?null:new En(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Js{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new ce(e),r=Zs(this.ref,e);return new Js(this._node.getChild(n),r,Ee)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new Js(i,Zs(this.ref,r),Ee)))}hasChild(e){const n=new ce(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Pf(t,e){return t=Pr(t),t._checkNotDeleted("ref"),e!==void 0?Zs(t._root,e):t._root}function Zs(t,e){return t=Pr(t),Y(t._path)===null?YT("child","path",e):xy("child","path",e),new En(t._repo,Ne(t._path,e))}function yN(t,e){t=Pr(t),If("push",t._path),Ny("push",e,t._path,!0);const n=Dy(t._repo),r=mN(n),i=Zs(t,r),s=Zs(t,r);let o;return o=Promise.resolve(s),i.then=o.then.bind(o),i.catch=o.then.bind(o,void 0),i}function by(t,e){t=Pr(t),If("set",t._path),Ny("set",e,t._path,!1);const n=new Ri;return iN(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function wN(t,e){QT("update",e,t._path);const n=new Ri;return sN(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}class Df{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new gN("value",this,new Js(e.snapshotNode,new En(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new _N(this,e,n):null}matches(e){return e instanceof Df?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function EN(t,e,n,r,i){let s;if(typeof r=="object"&&(s=void 0,i=r),typeof r=="function"&&(s=r),i&&i.onlyOnce){const a=n,u=(d,c)=>{gm(t._repo,t,l),a(d,c)};u.userCallback=n.userCallback,u.context=n.context,n=u}const o=new vN(n,s||void 0),l=new Df(o);return lN(t._repo,t,l),()=>gm(t._repo,t,l)}function Oy(t,e,n,r){return EN(t,"value",e,n,r)}yT(En);IT(En);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SN="FIREBASE_DATABASE_EMULATOR_HOST",Fc={};let CN=!1;function kN(t,e,n,r){const i=e.lastIndexOf(":"),s=e.substring(0,i),o=Kd(s);t.repoInfo_=new Hv(e,o,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0,n),r&&(t.authTokenProvider_=r)}function IN(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||yn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ge("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=_m(s,i),l=o.repoInfo,a;typeof process<"u"&&Fp&&(a=Fp[SN]),a?(s=`http://${a}?ns=${l.namespace}`,o=_m(s,i),l=o.repoInfo):o.repoInfo.secure;const u=new bk(t.name,t.options,e);qT("Invalid Firebase Database URL",o),X(o.path)||yn("Database URL must point to the root of a Firebase Database (not including a child path).");const d=NN(l,t,u,new Lk(t,n));return new xN(d,t)}function TN(t,e){const n=Fc[e];(!n||n[t.key]!==t)&&yn(`Database ${e}(${t.repoInfo_}) has already been deleted.`),aN(t),delete n[t.key]}function NN(t,e,n,r){let i=Fc[e.name];i||(i={},Fc[e.name]=i);let s=i[t.toURLString()];return s&&yn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new tN(t,CN,n,r),i[t.toURLString()]=s,s}class xN{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(nN(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new En(this._repo,se())),this._rootInternal}_delete(){return this._rootInternal!==null&&(TN(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&yn("Cannot call "+e+" on a deleted database.")}}function RN(t=Iv(),e){const n=rk(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=WC("database");r&&PN(n,...r)}return n}function PN(t,e,n,r={}){t=Pr(t),t._checkNotDeleted("useEmulator");const i=`${e}:${n}`,s=t._repoInternal;if(t._instanceStarted){if(i===t._repoInternal.repoInfo_.host&&bl(r,s.repoInfo_.emulatorOptions))return;yn("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let o;if(s.repoInfo_.nodeAdmin)r.mockUserToken&&yn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new il(il.OWNER);else if(r.mockUserToken){const l=typeof r.mockUserToken=="string"?r.mockUserToken:$C(r.mockUserToken,t.app.options.projectId);o=new il(l)}Kd(e)&&(HC(e),GC("Database",!0)),kN(s,i,r,o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DN(t){yk(lk),Ol(new Hs("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return IN(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),li(jp,Up,t),li(jp,Up,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AN{constructor(e,n){this.committed=e,this.snapshot=n}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}function Fy(t,e,n){var r;if(t=Pr(t),If("Reference.transaction",t._path),t.key===".length"||t.key===".keys")throw"Reference.transaction failed: "+t.key+" is a read-only object.";const i=(r=n==null?void 0:n.applyLocally)!==null&&r!==void 0?r:!0,s=new Ri,o=(a,u,d)=>{let c=null;a?s.reject(a):(c=new Js(d,new En(t._repo,t._path),Ee),s.resolve(new AN(u,c)))},l=Oy(t,()=>{});return uN(t._repo,t._path,e,o,l,i),s.promise}hn.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};hn.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};DN();var MN="firebase",LN="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */li(MN,LN,"app");const bN={BASE_URL:"/Lotto645/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_FIREBASE_API_KEY:"AIzaSyCM_53f9cLKXEKYTTPkhzvlrMDrrDG4fx0",VITE_FIREBASE_APP_ID:"1:19568825811:web:f6efb255c8bb426ccfcb26",VITE_FIREBASE_AUTH_DOMAIN:"kooksun-lotto.firebaseapp.com",VITE_FIREBASE_DATABASE_URL:"https://kooksun-lotto-default-rtdb.firebaseio.com/",VITE_FIREBASE_PROJECT_ID:"kooksun-lotto",VITE_HOST_SECRET:"change-me",VITE_LOTTO_SESSION_KEY:"current"},ON="lotto645-frontend",FN="current";let Ji,Ho;function Zi(t){const e=bN[t];if(!e||e.trim()==="")throw new Error(`[firebaseClient] Missing required environment variable ${t}`);return e}function jN(){return{apiKey:Zi("VITE_FIREBASE_API_KEY"),authDomain:Zi("VITE_FIREBASE_AUTH_DOMAIN"),databaseURL:Zi("VITE_FIREBASE_DATABASE_URL"),projectId:Zi("VITE_FIREBASE_PROJECT_ID"),appId:Zi("VITE_FIREBASE_APP_ID")}}function UN(){return Ji||(ak().length>0?Ji=Iv():Ji=kv(jN(),ON),Ji)}function nn(){return Ho||(Ho=RN(UN()),Ho)}function gt(){const t="current",e=t==null?void 0:t.trim();return e&&e.length>0?e:FN}function Af(t=gt()){return`/sessions/${t}`}function zN(t=gt()){return`${Af(t)}/tickets`}function BN(t=gt()){return`${Af(t)}/draw`}function jy(t,e=gt()){return Pf(t??nn(),Af(e))}function Uy(t,e=gt()){return Pf(t??nn(),zN(e))}function Mf(t,e=gt()){return Pf(t??nn(),BN(e))}const WN="[Lotto645]";function jc(t){return t.replace(/^\[+|]+$/g,"").trim()}function HN(t){switch(t){case"debug":return console.debug.bind(console);case"info":return console.info.bind(console);case"warn":return console.warn.bind(console);case"error":default:return console.error.bind(console)}}function $N(t){return t instanceof Error?{name:t.name,message:t.message,stack:t.stack}:t}function VN(t){if(!t)return;const e={};if(t.message&&(e.message=t.message),t.payload!==void 0&&(e.payload=t.payload),t.error!==void 0&&(e.error=$N(t.error)),Object.keys(e).length!==0)return e.timestamp=new Date().toISOString(),e}function Xt(t,e,n){const r=(n==null?void 0:n.level)??"info",i=HN(r),s=jc(t),o=jc(e),l=`${WN}[${s}${o?`:${o}`:""}]`,a=VN(n);a?i(l,a):i(l)}const Ai={event(t,e,n){Xt(t,e,n)},debug(t,e,n){Xt(t,e,{...n,level:"debug"})},info(t,e,n){Xt(t,e,{...n,level:"info"})},warn(t,e,n){Xt(t,e,{...n,level:"warn"})},error(t,e,n){Xt(t,e,{...n,level:"error"})},scoped(t){const e=jc(t);return{debug(n,r){Xt(e,n,{...r,level:"debug"})},info(n,r){Xt(e,n,{...r,level:"info"})},warn(n,r){Xt(e,n,{...r,level:"warn"})},error(n,r){Xt(e,n,{...r,level:"error"})},event(n,r){Xt(e,n,r)}}}},yu=Ai.scoped("issue");function KN(t){return(t==null?void 0:t.trim())??""}function GN(t){const e=t.map(r=>Number(r)).filter(r=>Number.isInteger(r)&&r>=ov&&r<=lv),n=Array.from(new Set(e)).sort((r,i)=>r-i);if(n.length!==Ut)throw new Error(`[ticketService] Ticket must contain ${Ut} unique numbers`);return n}async function QN(t){const e=t.database??nn(),n=t.sessionKey??gt(),r=KN(t.name);if(!r)throw new Error("[ticketService] Player name is required");const i=GN(t.numbers),s=yN(Uy(e,n)),o=s.key;if(!o)throw new Error("[ticketService] Failed to allocate ticket id");const l={...t.metadata??{},...t.clientId?{clientId:t.clientId}:{}};yu.info("start",{payload:{sessionKey:n,name:r,source:t.source??"manual"}});const a={name:r,numbers:i,matchedNumbers:[],createdAt:new Date().toISOString(),source:t.source??"manual"};Object.keys(l).length>0&&(a.metadata=l);try{return await by(s,a),yu.info("success",{payload:{ticketId:o,sessionKey:n}}),{ticketId:o}}catch(u){throw yu.error("error",{error:u,payload:{sessionKey:n,ticketId:o}}),u}}function ym(t){return Array.isArray(t)?t.map(e=>Number(e)).filter(e=>Number.isFinite(e)).sort((e,n)=>e-n):[]}function YN(t){return Array.isArray(t)?t.map(e=>Number(e)).filter(e=>Number.isFinite(e)):[]}function qN(t){if(!t||typeof t!="object")return;const e=t,n=ym(e.numbers);return{name:typeof e.name=="string"?e.name:"",numbers:n,matchedNumbers:ym(e.matchedNumbers),createdAt:typeof e.createdAt=="string"?e.createdAt:void 0,source:e.source==="manual"||e.source==="auto"?e.source:void 0,metadata:typeof e.metadata=="object"&&e.metadata!==null?e.metadata:void 0}}function XN(t){const e=t.val();if(!e||typeof e!="object")return{};const n=Object.entries(e),r={};for(const[i,s]of n){const o=qN(s);o&&(r[i]=o)}return r}function JN(t){const e=t.val();if(!e||typeof e!="object")return null;const n=e,r=n.status,i=r==="idle"||r==="in_progress"||r==="completed"||r==="error"?r:"idle",s=n.error,o=s?{code:typeof s.code=="string"?s.code:void 0,message:typeof s.message=="string"?s.message:void 0,timestamp:typeof s.timestamp=="string"?s.timestamp:void 0}:null;return{numbers:YN(n.numbers),seed:typeof n.seed=="string"?n.seed:null,startedAt:typeof n.startedAt=="string"?n.startedAt:null,completedAt:typeof n.completedAt=="string"?n.completedAt:null,status:i,controllerId:typeof n.controllerId=="string"?n.controllerId:null,error:o}}function zy(t,e,n){return Oy(t,e,r=>{n==null||n(r)})}function By(t){const e=t.database??nn(),n=t.sessionKey??gt(),r=Ai.scoped("list");return r.info("subscribe",{payload:{sessionKey:n,clientId:t.clientId}}),zy(Uy(e,n),s=>{const o=XN(s);r.info("update",{payload:{sessionKey:n,ticketCount:Object.keys(o).length}}),t.onData(o)},s=>{var o;r.error("error",{error:s,payload:{sessionKey:n}}),(o=t.onError)==null||o.call(t,s)})}function ZN(t){const e=t.database??nn(),n=t.sessionKey??gt(),r=Ai.scoped("draw");return r.info("subscribe",{payload:{sessionKey:n}}),zy(Mf(e,n),s=>{const o=JN(s);r.info("update",{payload:{sessionKey:n,status:(o==null?void 0:o.status)??"missing",numbers:(o==null?void 0:o.numbers.length)??0}}),t.onData(o)},s=>{var o;r.error("error",{error:s,payload:{sessionKey:n}}),(o=t.onError)==null||o.call(t,s)})}const Wy=S.createContext(void 0);function ex(){return typeof crypto<"u"&&typeof crypto.randomUUID=="function"?crypto.randomUUID():`client-${Math.random().toString(16).slice(2)}-${Date.now()}`}function tx(t){return t.map(([e,n])=>({...n,id:e})).sort((e,n)=>e.createdAt&&n.createdAt?n.createdAt.localeCompare(e.createdAt):e.createdAt?-1:n.createdAt?1:e.name.localeCompare(n.name))}function nx({children:t}){const e=gt(),n=S.useRef(),[r,i]=S.useState({}),[s,o]=S.useState(null),[l,a]=S.useState(!0),[u,d]=S.useState(!0),[c,f]=S.useState({});n.current||(n.current=ex()),S.useEffect(()=>{a(!0),f(T=>({...T,tickets:void 0}));const w=By({sessionKey:e,clientId:n.current,onData:T=>{i(T),a(!1)},onError:T=>{f(m=>({...m,tickets:T})),a(!1)}});return()=>{w()}},[e]),S.useEffect(()=>{d(!0),f(T=>({...T,draw:void 0}));const w=ZN({sessionKey:e,onData:T=>{o(T),d(!1)},onError:T=>{f(m=>({...m,draw:T})),d(!1)}});return()=>{w()}},[e]);const p=S.useMemo(()=>tx(Object.entries(r)),[r]),v=S.useMemo(()=>({sessionKey:e,clientId:n.current,ticketsMap:r,tickets:p,draw:s,isTicketsLoading:l,isDrawLoading:u,errors:c}),[e,r,p,s,l,u,c]);return I.jsx(Wy.Provider,{value:v,children:t})}function Hy(){const t=S.useContext(Wy);if(!t)throw new Error("useSession must be used within a SessionProvider");return t}function wm(){const t=Hy(),[e,n]=S.useState(""),[r,i]=S.useState(!1),[s,o]=S.useState(null),[l,a]=S.useState(null),u=ou(),d=lu(u,{onError:h=>o(h instanceof Error?h.message:"  ")}),c=ou(),f=lu(c,{onError:h=>o(h instanceof Error?h.message:"  ")}),p=ou(),v=lu(p,{onError:h=>o(h instanceof Error?h.message:"  ")}),w=[{id:0,selection:u,autoSelect:d},{id:1,selection:c,autoSelect:f},{id:2,selection:p,autoSelect:v}],T=e.trim().length>0&&!r&&w.some(h=>h.selection.isComplete),m=async h=>{if(h.preventDefault(),!T)return;i(!0),o(null),a(null);const _=w.filter(R=>R.selection.isComplete);let k=0;try{for(const R of _)await QN({name:e.trim(),numbers:R.selection.selectedNumbers,source:"manual",clientId:t.clientId,sessionKey:t.sessionKey}),k++,R.selection.reset(),R.autoSelect.resetError();a({type:"success",message:`${k}  .`}),n("")}catch(R){const b=R instanceof Error?R.message:"  .";o(b),a({type:"error",message:" ."})}finally{i(!1)}};return I.jsxs("section",{className:"issue-ticket issue-ticket--reference",children:[I.jsx("div",{className:"issue-ticket__header",children:I.jsxs("div",{className:"issue-ticket__name",children:[I.jsx("label",{htmlFor:"player-name-input",children:""}),I.jsx("input",{id:"player-name-input","data-testid":"player-name-input",className:"issue-ticket__name-input",type:"text",maxLength:40,placeholder:" ",value:e,disabled:r,onChange:h=>{n(h.target.value),o(null),a(null)}})]})}),s?I.jsx("p",{className:"issue-ticket__form-error",children:s}):null,I.jsx("div",{className:"issue-ticket__sets",children:w.map((h,_)=>I.jsx(IC,{index:_,selection:h.selection,onAutoSelect:()=>{o(null),a(null),h.autoSelect.autoSelect()},isAutoSelecting:h.autoSelect.isAutoSelecting,disabled:r,autoSelectError:h.autoSelect.error instanceof Error?h.autoSelect.error.message:null},h.id))}),I.jsx("form",{className:"issue-ticket__actions",onSubmit:m,children:I.jsx("button",{type:"submit",className:"issue-ticket__submit","data-testid":"issue-ticket-button",disabled:!T,children:r?" ":""})}),l?I.jsx("p",{className:`issue-ticket__toast issue-ticket__toast--${l.type}`,"data-testid":"ticket-issue-toast",role:"status",children:l.message}):null]})}const Em=typeof Intl<"u"?new Intl.DateTimeFormat("ko-KR",{hour:"2-digit",minute:"2-digit",second:"2-digit"}):null;function rx(t){if(!t)return"  ";const e=new Date(t);return Number.isNaN(e.getTime())||!Em?"  ":Em.format(e)}function ix(t){return t==="auto"?"AUTO":"MANUAL"}function sx(t){return t==="auto"?" ":" "}function ox(t){return t.toString().padStart(2,"0")}function lx({ticket:t}){var l,a,u,d;const e=t.numbers??[],n=new Set(t.matchedNumbers??[]),r=rx(t.createdAt??null),i=ix(t.source),s=typeof((l=t.metadata)==null?void 0:l.issuedBy)=="string"?(a=t.metadata)==null?void 0:a.issuedBy:null,o=typeof((u=t.metadata)==null?void 0:u.clientId)=="string"?(d=t.metadata)==null?void 0:d.clientId:null;return I.jsxs("article",{className:"ticket-card",role:"listitem","data-testid":"ticket-board-item",children:[I.jsxs("header",{className:"ticket-card__header",children:[I.jsxs("div",{children:[I.jsx("p",{className:"ticket-card__name",children:t.name}),I.jsxs("p",{className:"ticket-card__meta",children:[r,s?`  ${s}`:""]})]}),I.jsx("span",{className:`ticket-card__badge ticket-card__badge--${t.source??"manual"}`,children:i})]}),I.jsx("ul",{className:"ticket-card__numbers","aria-label":" ",children:e.map(c=>I.jsx("li",{className:"ticket-card__number","data-testid":"ticket-number-chip",children:I.jsx("span",{className:n.has(c)?"is-matched":"",children:ox(c)})},`${t.id}-${c}`))}),I.jsxs("footer",{className:"ticket-card__footer",children:[I.jsx("span",{className:"ticket-card__footer-chip","aria-label":" ",children:sx(t.source)}),I.jsxs("span",{className:"ticket-card__footer-chip","aria-label":" ",children:[" ",n.size,""]}),o?I.jsx("span",{className:"ticket-card__footer-chip ticket-card__footer-chip--muted","aria-label":" ",children:o}):null]})]})}const ss=152,Sm=4,sl=480;function ax(t,e,n){if(t.length===0)return{visible:[],totalHeight:0,offset:0};const r=n||sl,i=Math.max(0,Math.floor(e/ss)-Sm),s=Math.ceil(r/ss)+Sm*2,o=Math.min(t.length,i+s);return{visible:t.slice(i,o),totalHeight:t.length*ss,offset:i*ss}}function ux({tickets:t,isLoading:e,error:n,emptyMessage:r="  ."}){const i=S.useRef(null),[s,o]=S.useState(0),[l,a]=S.useState(sl);S.useEffect(()=>{const d=i.current;if(!d)return;const c=()=>{o(d.scrollTop)},f=()=>{a(d.clientHeight||sl)};d.addEventListener("scroll",c,{passive:!0}),f();let p=null;return typeof ResizeObserver<"u"?(p=new ResizeObserver(v=>{for(const w of v)w.target===d&&a(w.contentRect.height||sl)}),p.observe(d)):window.addEventListener("resize",f),()=>{d.removeEventListener("scroll",c),p?p.disconnect():window.removeEventListener("resize",f)}},[]),S.useEffect(()=>{o(d=>{const c=Math.max(0,t.length*ss-l);return Math.min(d,c)})},[t.length,l]);const u=S.useMemo(()=>ax(t,s,l),[t,s,l]);return e?I.jsx("div",{className:"ticket-list__state","data-testid":"ticket-board-loading",role:"status",children:"   "}):n?I.jsx("div",{className:"ticket-list__state ticket-list__state--error","data-testid":"ticket-board-error",role:"alert",children:"   .    ."}):t.length===0?I.jsx("div",{className:"ticket-list__state","data-testid":"ticket-board-empty",children:r}):I.jsx("div",{className:"ticket-list",role:"region","aria-live":"polite",children:I.jsx("div",{className:"ticket-list__viewport",ref:i,"data-testid":"ticket-board-viewport",children:I.jsx("div",{className:"ticket-list__spacer",style:{height:`${u.totalHeight}px`},children:I.jsx("div",{className:"ticket-list__items",style:{transform:`translateY(${u.offset}px)`},role:"list",children:u.visible.map(d=>I.jsx(lx,{ticket:d},d.id))})})})})}const Cm={idle:" ",in_progress:" ",completed:"",error:""};function cx(t){return t===null?" ":t===0?" ":`${t}   `}function dx({status:t,activeNumber:e,countdownSeconds:n,totalNumbers:r,drawnCount:i}){const s=Cm[t]??Cm.idle,[o,l]=S.useState("--"),[a,u]=S.useState(!1);return S.useEffect(()=>{if(t!=="in_progress"){l(e!==null?e.toString().padStart(2,"0"):"--");return}},[t,e]),S.useEffect(()=>{if(e!==null){l(e.toString().padStart(2,"0")),u(!0);const d=setTimeout(()=>u(!1),1e3);return()=>clearTimeout(d)}},[e]),I.jsx("div",{className:"roulette","data-status":t,"data-testid":"roulette-wheel",role:"region","aria-live":"polite",children:I.jsxs("div",{className:"roulette__ring",children:[I.jsx("div",{className:"roulette__ring-gradient","aria-hidden":"true"}),I.jsxs("div",{className:"roulette__ring-core",children:[I.jsx("p",{className:"roulette__status",children:s}),I.jsx("strong",{className:`roulette__number${a?" is-pulsing":""}`,"data-testid":"roulette-active-number",children:o}),I.jsx("p",{className:"roulette__countdown","data-testid":"roulette-countdown",children:cx(n)})]})]})})}const fx=" ";function km(t){return Array.isArray(t)?[...t]:[]}function Uc(t){if(Array.isArray(t))return t.map(e=>Uc(e));if(t&&typeof t=="object"){const e={};for(const[n,r]of Object.entries(t))e[n]=Uc(r);return e}return t}function hx(t){const e=t==null?void 0:t.trim();return e&&e.length>0?e:fx}function zc(t,e){return{...e,id:t,name:hx(e.name),numbers:km(e.numbers),matchedNumbers:km(e.matchedNumbers),metadata:e.metadata?Uc(e.metadata):void 0}}function Bc(t,e){return t.createdAt&&e.createdAt&&t.createdAt!==e.createdAt?e.createdAt.localeCompare(t.createdAt):t.createdAt&&!e.createdAt?-1:!t.createdAt&&e.createdAt?1:t.name.localeCompare(e.name)}function Im(t,e){const n=t??[],r=e??[];if(n.length!==r.length)return!1;for(let i=0;i<n.length;i+=1)if(n[i]!==r[i])return!1;return!0}function Yl(t){return Array.isArray(t)?`[${t.map(e=>Yl(e)).join(",")}]`:t&&typeof t=="object"?`{${Object.entries(t).sort(([n],[r])=>n.localeCompare(r)).map(([n,r])=>`${n}:${Yl(r)}`).join(",")}}`:JSON.stringify(t??null)}function px(t,e){return!t||!e?!1:t===e?!0:t.name===e.name&&t.createdAt===e.createdAt&&t.source===e.source&&Im(t.numbers,e.numbers)&&Im(t.matchedNumbers,e.matchedNumbers)&&Yl(t.metadata??{})===Yl(e.metadata??{})}function mx(t){return Object.entries(t).map(([e,n])=>zc(e,n)).sort(Bc)}function gx(t,e){const n=[],r=[],i=[],s=new Set(Object.keys(t)),o=new Set(Object.keys(e));for(const l of s)o.has(l)||n.push(l);for(const l of o){if(!s.has(l)){r.push(zc(l,e[l]));continue}px(t[l],e[l])||i.push(zc(l,e[l]))}return r.sort(Bc),i.sort(Bc),{added:r,updated:i,removed:n}}function _x(t){let e={};return By({sessionKey:t.sessionKey,clientId:t.clientId,onData:n=>{const r=gx(e,n);e=n;const i=mx(n);t.onUpdate({tickets:i,total:i.length,diff:r})},onError:t.onError})}const Es=Ai.scoped("draw");function Wc(t){if(!t||typeof t!="object")return{numbers:[],seed:null,startedAt:null,completedAt:null,status:"idle",controllerId:null,error:null};const e=t,r=(Array.isArray(e.numbers)?e.numbers:[]).map(o=>Number(o)).filter(o=>Number.isFinite(o)),i=e.status,s=i==="in_progress"||i==="completed"||i==="error"?i:"idle";return{numbers:r,seed:typeof e.seed=="string"?e.seed:null,startedAt:typeof e.startedAt=="string"?e.startedAt:null,completedAt:typeof e.completedAt=="string"?e.completedAt:null,status:s,controllerId:typeof e.controllerId=="string"?e.controllerId:null,error:e.error??null}}async function vx(t={}){const e=t.database??nn(),n=t.sessionKey??gt(),r=t.seed??xC(),i=Mf(e,n),s=new Date().toISOString();try{if(!(await Fy(i,l=>{const a=Wc(l);if(!(a.status==="in_progress"||a.numbers.length>0))return{numbers:[],seed:r,startedAt:s,completedAt:null,status:"in_progress",controllerId:t.clientId??null,error:null}},{applyLocally:!1})).committed)throw new Error("[drawService] Draw already in progress or requires reset");Es.info("start",{payload:{sessionKey:n,seed:r,clientId:t.clientId}})}catch(o){throw Es.error("error",{error:o,payload:{sessionKey:n,stage:"start"}}),o}}async function yx(t={}){const e=t.database??nn(),n=t.sessionKey??gt(),r=Mf(e,n);try{const i=await Fy(r,u=>{const d=Wc(u);if(d.status!=="in_progress"||d.numbers.length>=Ut||d.controllerId&&t.clientId&&d.controllerId!==t.clientId)return;const c=DC(d.numbers),f=[...d.numbers,c],p=f.length>=Ut;return{...d,numbers:f,status:p?"completed":"in_progress",completedAt:p?new Date().toISOString():null,error:null}},{applyLocally:!1});if(!i.committed)throw new Error("[drawService] Draw step rejected");const o=Wc(i.snapshot.val()).numbers,l=o[o.length-1];if(typeof l!="number")throw new Error("[drawService] Transaction did not yield a drawn number");const a=o.length>=Ut;return Es.info("step",{payload:{sessionKey:n,number:l,stepIndex:o.length}}),a&&Es.info("complete",{payload:{sessionKey:n,numbers:o}}),{number:l,numbers:o,completed:a}}catch(i){throw Es.error("error",{error:i,payload:{sessionKey:n,stage:"step"}}),i}}const Tm=Ai.scoped("draw");function wx(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n+=1)if(t[n]!==e[n])return!1;return!0}async function Ex(t){const e=Object.entries(t.ticketsMap??{});if(e.length===0)return;const n=t.database??nn(),r=t.sessionKey??gt(),i=[...t.drawnNumbers].filter(l=>Number.isFinite(l)),s=new Set(i),o={};for(const[l,a]of e){const d=(Array.isArray(a.numbers)?a.numbers:[]).filter(f=>s.has(f)).sort((f,p)=>f-p),c=Array.isArray(a.matchedNumbers)?a.matchedNumbers.slice().sort((f,p)=>f-p):[];wx(d,c)||(o[`tickets/${l}/matchedNumbers`]=d)}if(Object.keys(o).length!==0)try{await wN(jy(n,r),o),Tm.info("highlight",{payload:{sessionKey:r,ticketsUpdated:Object.keys(o).length}})}catch(l){throw Tm.error("error",{error:l,payload:{sessionKey:r,stage:"highlight"}}),l}}const wu=Ai.scoped("reset");async function Sx(t={}){const e=t.database??nn(),n=t.sessionKey??gt(),r=t.ticketCount??0,i=Array.isArray(t.drawNumbers)?t.drawNumbers:[];wu.info("start",{payload:{sessionKey:n,ticketCount:r,drawNumbers:i}});try{await by(jy(e,n),{draw:{numbers:[],seed:null,startedAt:null,completedAt:null,status:"idle",controllerId:null,error:null},tickets:{}}),wu.info("success",{payload:{sessionKey:n}})}catch(s){throw wu.error("error",{error:s,payload:{sessionKey:n}}),s}}const Cx=5e3,kx=250;function Ix(t){return t===null||Number.isNaN(t)?null:Math.max(0,Math.ceil(t/1e3))}function $o(t){return t instanceof Error?t.message:typeof t=="string"?t:"    ."}function Tx(t){var re;const e=t.drawState,n=(e==null?void 0:e.numbers)??[],r=(e==null?void 0:e.status)??"idle",i=(e==null?void 0:e.seed)??null,s=(e==null?void 0:e.startedAt)??null,o=(e==null?void 0:e.completedAt)??null,l=(e==null?void 0:e.controllerId)??null,a=!l||l===t.clientId,u=t.intervalMs??Cx,[d,c]=S.useState(!1),[f,p]=S.useState(!1),[v,w]=S.useState(!1),[T,m]=S.useState(null),[h,_]=S.useState(null),[k,R]=S.useState(()=>Date.now()),b=S.useRef(null),y=S.useRef(!1),N=S.useRef(!0);S.useEffect(()=>(N.current=!0,()=>{N.current=!1}),[]),S.useEffect(()=>{const Q=window.setInterval(()=>{R(Date.now())},kx);return()=>{window.clearInterval(Q)}},[]);const B=S.useCallback(()=>{b.current&&(clearTimeout(b.current),b.current=null)},[]),M=S.useCallback(async()=>{if(!(y.current||r!=="in_progress"||n.length>=Ut)){y.current=!0,p(!0),m(null);try{await yx({sessionKey:t.sessionKey,clientId:t.clientId})}catch(Q){N.current&&m($o(Q))}finally{y.current=!1,N.current&&p(!1)}}},[n.length,t.clientId,t.sessionKey,r]);S.useEffect(()=>{if(B(),r!=="in_progress"||n.length>=Ut||!a){_(null);return}return _(Date.now()+u),b.current=window.setTimeout(()=>{M()},u),()=>{B()}},[r,n.length,a,u,M,B]),S.useEffect(()=>()=>{B()},[B]),S.useEffect(()=>{let Q=!1;if(!t.ticketsMap)return;async function $e(){try{await Ex({sessionKey:t.sessionKey,ticketsMap:t.ticketsMap,drawnNumbers:n})}catch(je){!Q&&N.current&&m(Re=>Re??$o(je))}}return $e(),()=>{Q=!0}},[n,t.sessionKey,t.ticketsMap]);const oe=S.useCallback(async()=>{if(!a&&l){m("    .");return}if(!(d||n.length>0||r==="in_progress")){c(!0),m(null);try{await vx({sessionKey:t.sessionKey,clientId:t.clientId})}catch(Q){N.current&&m($o(Q))}finally{N.current&&c(!1)}}},[d,n.length,t.clientId,t.sessionKey,r]),ue=S.useCallback(async()=>{if(!a){m("        .");return}r!=="in_progress"||n.length>=Ut||(B(),await M())},[B,n.length,M,r]),xe=S.useCallback(async()=>{if(!v){if(!a&&l&&r==="in_progress"){m("       .");return}w(!0),m(null),B();try{await Sx({sessionKey:t.sessionKey,ticketCount:Object.keys(t.ticketsMap??{}).length,drawNumbers:n})}catch(Q){N.current&&m($o(Q))}finally{N.current&&w(!1)}}},[B,v,n,t.sessionKey,t.ticketsMap]),Le=S.useMemo(()=>h===null?null:Ix(h-k),[h,k]),_t=S.useMemo(()=>Array.from({length:Ut},(Q,$e)=>{const je=n[$e]??null;let Re="pending";return je!==null?Re="complete":r==="in_progress"&&$e===n.length&&(Re="active"),{index:$e+1,number:je,status:Re}}),[n,r]),Gt=n.length===0&&r!=="in_progress"&&!d&&a,Qt=r==="in_progress"&&n.length<Ut&&!f&&a,A=!v&&(a||!l||r!=="in_progress"),$=n.length>0?n[n.length-1]:null,V=T??((re=e==null?void 0:e.error)==null?void 0:re.message)??null;return{status:r,numbers:n,activeNumber:$,countdownSeconds:Le,timeline:_t,seed:i,startedAt:s,completedAt:o,controllerId:l,isController:a,canStart:Gt,canForceNext:Qt,canReset:A,isStarting:d,isStepping:f,isResetting:v,error:V,startDraw:oe,forceNext:ue,resetSession:xe}}const Nx={tickets:[],total:0,diff:null,isLoading:!0,error:null,lastUpdatedAt:null},Nm={idle:" ",in_progress:"  ",completed:" ",error:" "};function xm(t,e=""){if(!t)return e;const n=new Date(t);return Number.isNaN(n.getTime())?e:new Intl.DateTimeFormat("ko-KR",{hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(n)}function xx(){const t=Hy(),[e,n]=S.useState(Nx),r=Tx({drawState:t.draw,ticketsMap:t.ticketsMap,sessionKey:t.sessionKey,clientId:t.clientId});S.useEffect(()=>{n(o=>({...o,isLoading:!0,error:null}));const s=_x({sessionKey:t.sessionKey,clientId:t.clientId,onUpdate:o=>{n({tickets:o.tickets,total:o.total,diff:o.diff,isLoading:!1,error:null,lastUpdatedAt:new Date().toISOString()})},onError:o=>{n(l=>({...l,error:o,isLoading:!1}))}});return()=>{s()}},[t.sessionKey,t.clientId]);const i=S.useMemo(()=>{var s,o,l;return{added:((s=e.diff)==null?void 0:s.added.length)??0,updated:((o=e.diff)==null?void 0:o.updated.length)??0,removed:((l=e.diff)==null?void 0:l.removed.length)??0}},[e.diff]);return Nm[r.status]??Nm.idle,r.controllerId&&r.isController,I.jsx("section",{className:"draw-dashboard",children:I.jsxs("div",{className:"draw-dashboard__layout",children:[I.jsx("main",{className:"draw-dashboard__main",children:I.jsxs("div",{className:"draw-panel draw-panel--wheel",children:[I.jsxs("div",{className:"draw-panel__header-row",children:[I.jsxs("div",{className:"draw-panel__heading",children:[I.jsx("h3",{children:" "}),I.jsx("p",{children:"5   ."})]}),I.jsxs("div",{className:"draw-controls",children:[I.jsx("button",{type:"button",className:"draw-controls__button draw-controls__button--primary",onClick:()=>{r.startDraw()},disabled:!r.canStart,"data-testid":"draw-start-button",title:r.isStarting?" ...":" ",children:r.isStarting?"...":""}),I.jsx("button",{type:"button",className:"draw-controls__button",onClick:()=>{r.forceNext()},disabled:!r.canForceNext,"data-testid":"draw-next-button",title:r.isStepping?" ...":" ",children:r.isStepping?"...":""}),I.jsx("button",{type:"button",className:"draw-controls__button draw-controls__button--danger",onClick:()=>{r.resetSession()},disabled:!r.canReset,"data-testid":"draw-reset-button",title:r.isResetting?" ...":"",children:r.isResetting?"...":""})]})]}),I.jsx(dx,{status:r.status,activeNumber:r.activeNumber,countdownSeconds:r.countdownSeconds,drawnCount:r.numbers.length,totalNumbers:6}),r.error?I.jsx("p",{className:"draw-panel__error",role:"alert","data-testid":"draw-error-banner",children:r.error}):null,I.jsx("div",{className:"draw-panel__timeline",children:I.jsx("ol",{className:"draw-timeline","data-testid":"draw-timeline",children:r.timeline.map(s=>I.jsxs("li",{"data-status":s.status,"data-testid":"draw-timeline-entry",children:[I.jsxs("span",{children:["#",s.index]}),I.jsx("strong",{children:s.number??"--"})]},s.index))})}),I.jsxs("dl",{className:"draw-meta",children:[I.jsxs("div",{children:[I.jsx("dt",{children:"Seed"}),I.jsx("dd",{children:r.seed??""})]}),I.jsxs("div",{children:[I.jsx("dt",{children:""}),I.jsx("dd",{children:xm(r.startedAt)})]}),I.jsxs("div",{children:[I.jsx("dt",{children:""}),I.jsx("dd",{children:xm(r.completedAt)})]})]})]})}),I.jsx("aside",{className:"draw-dashboard__side",children:I.jsxs("section",{className:"ticket-board","aria-labelledby":"ticket-board-heading",children:[I.jsxs("div",{className:"ticket-board__heading",children:[I.jsxs("div",{children:[I.jsx("p",{className:"ticket-board__eyebrow",children:"  "}),I.jsxs("h2",{id:"ticket-board-heading","data-testid":"ticket-board-heading",children:["   (",e.total,")"]})]}),I.jsxs("ul",{className:"ticket-board__diff","aria-label":"  ",children:[I.jsxs("li",{children:["+",i.added," "]}),I.jsxs("li",{children:[i.updated," "]}),I.jsxs("li",{children:["-",i.removed," "]})]})]}),I.jsx(ux,{tickets:e.tickets,isLoading:e.isLoading,error:e.error})]})})]})})}const Rx=rC([{path:"/",element:I.jsx(wC,{}),children:[{index:!0,element:I.jsx(wm,{})},{path:"issue",element:I.jsx(wm,{})},{path:"draw",element:I.jsx(xx,{})}]}],{basename:"/Lotto645"});Eu.createRoot(document.getElementById("root")).render(I.jsx(Bm.StrictMode,{children:I.jsx(nx,{children:I.jsx(fC,{router:Rx})})}));
